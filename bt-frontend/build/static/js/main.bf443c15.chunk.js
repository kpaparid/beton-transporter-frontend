(this["webpackJsonpBetonTransport-dashboard"]=this["webpackJsonpBetonTransport-dashboard"]||[]).push([[0],{121:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(18),c=n(2),r=n(6),s=n(230),i=n(0),l=n(86),o=n(516),d=n(1),u=["children","onClick","variant","className"],j=Object(i.forwardRef)((function(e,t){var n=e.variant,a=void 0===n?"primary":n,u=e.value,j=void 0===u?"Dropdown Button":u,m=e.as,h=e.className,O=void 0===h?"":h,x=e.menuClassName,f=void 0===x?"":x,p=e.toggleClassName,v=void 0===p?"py-1":p,g=e.disabled,y=void 0!==g&&g,w=e.children,N=e.toggleAs,k=void 0===N?"default":N,C=e.toggleStyle,Y=void 0===C?{}:C,S=e.portal,M=void 0===S||S,I=e.drop,D=void 0===I?"up":I,E=e.align,T=void 0===E?"start":E,R=e.flip,W=void 0===R?"true":R,F=e.onToggle,B=e.width,A=void 0===B?"fit-content":B,P=e.show,H=void 0!==P&&P,L=e.toggle,U=e.controlled,V=void 0!==U&&U,q=(null===t||void 0===t?void 0:t.refList)||[],_=t,z=Object(i.useRef)(null),K="default"===k?s.a:b,G=Object(i.useState)(!1),J=Object(r.a)(G,2),Q=J[0],X=J[1],Z=V?H:Q,$=V?L:X,ee=Object(i.useCallback)((function(e,t,n){var a,c=null===_||void 0===_||null===(a=_.current)||void 0===a?void 0:a.contains(document.activeElement),r=q.map((function(e){var t;return null===(t=e.current)||void 0===t?void 0:t.contains(document.activeElement)})).reduce((function(e,t){return e||t}),!1);c||t&&"rootClose"!==t.source&&"select"!==t.source||"undefined"!=typeof r&&null!=r&&r?($(!0),F&&F(!0)):($(!1),F&&F(!1))}),[]),te=Object(i.useCallback)((function(){$(!1)}),[]);return Object(d.jsxs)(l.a,{as:m,flip:W,className:O,show:!y&&Z,onToggle:ee,disabled:y,align:T,drop:D,children:[Object(d.jsx)(l.a.Toggle,{as:K,variant:a,id:"dropdown-basic",style:Y,className:"shadow-none "+v,children:j}),M?Object(d.jsx)(o.a,{children:Object(d.jsx)(l.a.Menu,{flip:W,ref:z,className:"m-0 p-0 border border-0 "+f,children:w})}):Object(d.jsx)(l.a.Menu,{ref:z,className:"p-0 border border-0 "+f,style:{width:A},children:Object(c.a)(Object(c.a)({},w),{},{props:Object(c.a)(Object(c.a)({},w.props),{},{onClose:te})})})]})})),b=Object(i.forwardRef)((function(e,t){var n=e.children,c=e.onClick,r=e.variant,s=e.className,i=(Object(a.a)(e,u),"btn btn-"+r);return Object(d.jsx)("div",{className:"w-100 "+s+" "+i,ref:t,onClick:function(e){e.preventDefault(),c(e)},children:n})}))},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return B}));var a=n(13),c=n(6),r=n(2),s=n(18),i=n(15),l=n(16),o=n(579),d=n(145),u=n(186),j=n(578),b=n(27),m=n(12),h=n.n(m),O=n(0),x=n(515),f=n(202),p=n(571),v=n(114),g=(n(492),n(493),n(494),n(281)),y=(n(495),n(5));n(278);var w=function(e,t,n){var c=function(e,t){return e[0]-(t+1)>0?[null].concat(Object(a.a)(e)):Object(a.a)(e)}(e,t),r=function(e,t){return 0===e?Object(a.a)(t):1===e?[].concat(Object(a.a)(t),[null]):2===e?[].concat(Object(a.a)(t),[null,null]):Object(a.a)(t)}(n-c.length,c);return r},N=function(e,t){var n=function(e,t){var n=h()(e,"MM/YYYY").startOf("month").format("dddd"),a=parseInt(h()(e,"MM/YYYY").endOf("month").format("DD"));return 31===a&&5===t.findIndex((function(e){return e===n}))||a>=30&&6===t.findIndex((function(e){return e===n}))?6:5}(e,t),c=Object(a.a)(Array(h()(e,"MM/YYYY").daysInMonth()).keys()).map((function(t){var n=t+1,a=h()(n.toString()+"/"+e.toString(),"DD/MM/YYYY");return Object(y.a)({},a.format("dddd"),[parseInt(a.format("DD"))])})).reduce((function(e,t){var n,c=Object(r.a)({},t),s=Object.keys(c)[0];return n=e[s]?Object(y.a)({},s,[].concat(Object(a.a)(e[s]),Object(a.a)(c[s]))):Object(y.a)({},s,Object(a.a)(c[s])),Object(r.a)(Object(r.a)({},e),n)}));return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return new Array(t).fill().map((function(t,n){return e.map((function(e){return e[n]}))}))}(t.map((function(e,t){return w(c[e],t,n)})),n)};var k=n(121),C=n(1),Y=["value"],S=["withButton"],M=["size","value","buttonText","buttonVariant","closeVariant","saveVariant","timeVariant","timeActiveVariant","buttonClassName","modalClassName","modalContentClassName","onChange","disableMonthSwap"],I=["singleDate","carousel","from","to","onChange","variant","className"],D=["values","year","month","onMonthChange"],E=["length","onMonthChange"],T=["renderHeader","month","year","style","values","disableMonthSwap","handleDecreaseMonth","handleIncreaseMonth","id"],R=["data","clickedId","hoveredDay","index","name","singleDate","highlightedDays","disabledDays","min","max"],W=Object(O.memo)((function(e){var t=e.value,n=e.onChange,a=e.inputStyle,c=e.disabled,d=void 0!==c&&c,u=e.portal,j=void 0===u||u,b=e.withButton,m=void 0!==b&&b,f=e.onBlur,p=e.inputProps,v=e.Input,g=e.format,y=void 0===g?"YYYY.MM.DD":g,w=e.singleDate,N=void 0!==w&&w,M=e.disableMonthSwap,I=void 0!==M&&M,D=e.className,E=void 0===D?"":D,T=e.dropdownClassName,R=void 0===T?"":T,W=Object(O.useRef)(null),F=Object(O.useCallback)((function(e){n&&n(e)}),[n]),A=Object(O.useCallback)((function(e){var t=h()(e.target.value,y,!0).isValid()?h()(e.target.value,y).format("YYYY.MM.DD"):e.target.value;n&&n(t)}),[n,y]),P=Object(O.useCallback)((function(e){var t=e.value,n=Object(s.a)(e,Y),c=h()(t,"YYYY.MM.DD",!0).isValid()?h()(t,"YYYY.MM.DD").format(y):t;return v?Object(C.jsx)(v,Object(r.a)(Object(r.a)({},n),{},{value:c})):Object(C.jsx)("div",{className:"d-flex justify-content-center",children:Object(C.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"text-center"},n),{},{value:c,style:a,autoFocus:!1}))})}),[v,a,y]),H=Object(O.useCallback)((function(e){var t=e.withButton,n=Object(s.a)(e,S);return t?Object(C.jsx)("div",{style:{width:"0px"},children:Object(C.jsx)(o.a,{"aria-label":"datepicker",style:{padding:8,left:"-30px",bottom:"-10px"},children:Object(C.jsx)(l.a,{style:{width:"24px",height:"24px"},icon:i.j})})}):P(Object(r.a)(Object(r.a)({},n),{},{autoFocus:!1}))}),[P]);return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"d-block w-100 date-picker-dropdown ".concat(E),children:Object(C.jsxs)("div",{className:"d-flex flex-nowrap w-100 align-items-center justify-content-center",children:[m&&Object(C.jsx)("div",{className:"d-block w-100",children:P({value:t,onChange:A})}),Object(C.jsx)(k.a,{id:"TourFilter",as:x.a,disabled:d,ref:{ref:W},toggleAs:"custom",portal:j,value:H(Object(r.a)({value:t,onChange:A,onBlur:f,withButton:m},p)),children:Object(C.jsx)(B,{singleDate:N,onChange:F,from:N?t:t[0],to:!N&&t[1],disableMonthSwap:I,className:R})})]})})})}),b.isEqual),F=Object(O.memo)((function(e){var t=e.size,n=e.value,a=e.buttonText,i=e.buttonVariant,l=void 0===i?"primary":i,o=e.closeVariant,u=void 0===o?"nonary":o,j=e.saveVariant,m=void 0===j?"senary":j,h=(e.timeVariant,e.timeActiveVariant,e.buttonClassName),x=void 0===h?"":h,p=e.modalClassName,v=void 0===p?"":p,g=e.modalContentClassName,y=void 0===g?"":g,w=e.onChange,N=e.disableMonthSwap,k=void 0===N||N,Y=Object(s.a)(e,M),S=Object(O.useState)(!1),I=Object(c.a)(S,2),D=I[0],E=I[1],T=Object(O.useState)(n),R=Object(c.a)(T,2),W=R[0],F=R[1],A=Object(O.useCallback)((function(e){F(e)}),[]),P=Object(O.useCallback)((function(){E(!1),F(n)}),[n]),H=Object(O.useCallback)((function(){w(W),P()}),[W,P,w]);return Object(O.useEffect)((function(){!Object(b.isEqual)(W,n)&&F(n)}),[n]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(d.a,{size:t,variant:l,onClick:function(){return E(!0)},className:"date-picker-modal-btn w-100"+x,children:a}),Object(C.jsxs)(f.a,{show:D,onHide:P,centered:!0,className:v+" date-picker-modal",contentClassName:"date-picker-modal-content dark-modal "+y,children:[Object(C.jsx)(f.a.Body,{children:Object(C.jsx)(B,Object(r.a)({onChange:A,disableMonthSwap:k},Y))}),Object(C.jsx)(f.a.Footer,{className:"",children:Object(C.jsxs)("div",{className:"w-100 btn-group-wrapper d-flex justify-content-around",children:[Object(C.jsx)(d.a,{variant:u,className:"col-5",onClick:P,children:"Cancel"}),Object(C.jsx)(d.a,{variant:m,className:"col-5 fw-bolder",onClick:H,children:"Save"})]})})]})]})}),b.isEqual),B=Object(O.memo)((function(e){var t=e.singleDate,n=e.carousel,i=e.from,l=e.to,o=e.onChange,d=e.variant,u=void 0===d?"light":d,j=e.className,b=void 0===j?"":j,m=Object(s.a)(e,I),h="date-picker date-picker-".concat(u," ").concat(b),x=Object(O.useMemo)((function(){return[i,l].filter((function(e){return e}))}),[i,l]),f=Object(O.useState)(x),p=Object(c.a)(f,2),v=p[0],g=p[1],y=Object(O.useCallback)((function(e){t?o&&o(e[0]):1!==e.length&&o&&o(e)}),[t,o]),w=Object(O.useCallback)((function(e){var n=e.target.name,c=t||0===v.length?[n]:1===v.length?[].concat(Object(a.a)(v),[n]).sort():[];g(c),y(c)}),[v,y,t]);return Object(O.useEffect)((function(){g(x)}),[x]),Object(C.jsx)("div",{className:h,children:n?Object(C.jsx)(P,Object(r.a)({values:v,onClick:w,singleDate:t},m)):Object(C.jsx)(A,Object(r.a)({values:v,onClick:w,singleDate:t},m))})}),b.isEqual),A=Object(O.memo)((function(e){var t=e.values,n=e.year,a=void 0===n?h()(t[0],"YYYY.MM.DD",!0).isValid()?h()(t[0],"YYYY.MM.DD").format("YYYY"):h()().format("YYYY"):n,i=e.month,l=void 0===i?h()(t[0],"YYYY.MM.DD",!0).isValid()?h()(t[0],"YYYY.MM.DD").format("MM"):h()().format("MM"):i,o=e.onMonthChange,d=Object(s.a)(e,D),u=Object(O.useState)(l),j=Object(c.a)(u,2),b=j[0],m=j[1],x=Object(O.useState)(a),f=Object(c.a)(x,2),p=f[0],v=f[1],g=Object(O.useCallback)((function(e){var t=parseInt(b)+1,n=13===t?"01":("0"+t).slice(-2);m(n),13===t?v((function(e){var t=parseInt(e)-1;return o&&o(t+"."+n),parseInt(e)+1})):o&&o(p+"."+n)}),[b,p,o]),y=Object(O.useCallback)((function(e){var t=parseInt(b)-1,n=0===t?"12":("0"+t).slice(-2);m(n),0===t?v((function(e){var t=parseInt(e)-1;return o&&o(t+"."+n),t})):o&&o(p+"."+n)}),[b,p,o]);return Object(O.useEffect)((function(){m(l),v(a)}),[l,a]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(H,Object(r.a)({month:b,year:p,values:t,handleIncreaseMonth:g,handleDecreaseMonth:y},d))})}),b.isEqual),P=function(e){var t=e.length,n=void 0===t?100:t,a=e.onMonthChange,c=Object(s.a)(e,E),i=h()().subtract(n/2,"M"),l=Object(O.useMemo)((function(){return Array.from({length:n}).map((function(e,t){var n=h()(i).add(t,"M"),a=n.format("MM"),s=n.format("YYYY");return Object(C.jsx)(H,Object(r.a)({month:a,year:s},c),a+"."+s)}))}),[n,i,c]);return Object(C.jsx)("div",{className:"bg-transparent",style:{width:"320px"},children:Object(C.jsx)(g.a,{spaceBetween:50,modules:[v.a],slidesPerView:1,centeredSlides:!0,initialSlide:n/2,virtual:!0,onSlideChange:function(e){var t=e.activeIndex;return a&&a(i.add(t,"M").format("YYYY.MM"))},children:l.map((function(e,t){return Object(C.jsx)(g.b,{virtualIndex:t,children:e},e.key)}))})})},H=Object(O.memo)((function(e){var t=e.renderHeader,n=void 0===t?function(e){var t=e.month,n=e.year,a=h()(t,"MM").format("MMMM")+" "+n;return Object(C.jsx)("h5",{className:"text-center m-0",children:a})}:t,a=e.month,o=e.year,j=(e.style,e.values),b=e.disableMonthSwap,m=void 0!==b&&b,x=e.handleDecreaseMonth,f=e.handleIncreaseMonth,v=(e.id,Object(s.a)(e,T)),g=Object(O.useState)(),y=Object(c.a)(g,2),w=y[0],k=y[1],Y=Object(O.useCallback)((function(e){var t=e.target.name;k(t)}),[]),S=Object(O.useCallback)((function(e){k(null)}),[]),M=Object(O.useMemo)((function(){return e=h.a.weekdays(),t=1,e.slice(t).concat(e.slice(0,t));var e,t}),[]),I=Object(O.useMemo)((function(){return M.map((function(e){return e.substr(0,2)+"."}))}),[M]),D=Object(O.useMemo)((function(){return N(a+"."+o,M)}),[a,o,M]),E={month:a,year:o,from:j[0],to:j[1]};return Object(C.jsxs)(u.a,{className:"shadow-sm flex-fill date-picker-card my-card",children:[Object(C.jsx)(u.a.Header,{children:Object(C.jsxs)("div",{className:m?"w-100 d-flex  justify-content-center":"w-100 d-flex  justify-content-between",children:[!m&&Object(C.jsx)(d.a,{variant:"primary",onClick:x,onMouseDown:function(e){return e.preventDefault()},size:"sm",children:Object(C.jsx)(l.a,{icon:i.g})}),n(E),!m&&Object(C.jsx)(d.a,{variant:"primary",onClick:f,onMouseDown:function(e){return e.preventDefault()},size:"sm",children:Object(C.jsx)(l.a,{icon:i.h})})]})}),Object(C.jsx)(u.a.Body,{className:"px-3",children:Object(C.jsxs)(p.a,{className:"user-table align-items-center",children:[Object(C.jsx)("thead",{className:"rounded-bottom",children:Object(C.jsx)(V,{headers:I})}),Object(C.jsx)("tbody",{className:"border-0",children:D.map((function(e,t){return Object(C.jsx)("tr",{className:"p-0 align-items-center date-rows",children:Object(C.jsx)(L,Object(r.a)({data:e,index:t,name:o+"."+a,onMouseOver:Y,clickedId:j,hoveredDay:w,onMouseLeave:S},v))},e+t)}))})]})})]})}),b.isEqual),L=function(e){var t=e.data,n=e.clickedId,a=void 0===n?[]:n,c=e.hoveredDay,i=e.index,l=e.name,o=void 0===l?"":l,d=e.singleDate,u=e.highlightedDays,j=e.disabledDays,b=e.min,m=e.max,O=Object(s.a)(e,R);return t.map((function(e,t){if(null===e)return Object(C.jsx)("td",{className:"border-0 p-1"},"empty"+7*i+t);var n=o+"."+("0"+e).substring(("0"+e).length-2),s=a[0],l=a[1],x=null===e||(null===j||void 0===j?void 0:j.includes(n))||b&&h()(b,"YYYY.MM.DD").isAfter(h()(n,"YYYY.MM.DD"))||m&&h()(m,"YYYY.MM.DD").isBefore(h()(n,"YYYY.MM.DD")),f=n===s?"primary":n===l?"secondary":l&&s&&n<l&&n>s?"light-blue":c===n?"quinary":(null===u||void 0===u?void 0:u.includes(n))?"tertiary":!d&&!l&&s&&n<c&&n>s?"septenary":!d&&!l&&s&&n>c&&n<s?"octonary":"light";return Object(C.jsx)("td",{className:"border-0 p-1 text-center",children:Object(C.jsx)(U,Object(r.a)({disabled:x,variant:f,value:e,name:o+"."+("0"+e).substr(-2)},O))},"empty"+7*i+t)}))},U=function(e){var t=e.disabled,n=e.value,a=e.name,c=e.variant,r=e.onClick,s=e.onMouseOver,i=e.onMouseLeave;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(d.a,{style:{width:"30px",height:"30px",borderRadius:0,border:0},disabled:t,name:a,size:"sm",variant:c,onClick:r,onMouseDown:function(e){return e.preventDefault()},onMouseOver:s,onMouseLeave:i,className:"text-center p-0 day-btn",children:n})})},V=function(e){var t=e.headers,n=e.checked,a=e.handleAllClick,c=e.checkbox,r=void 0!==c&&c;return Object(C.jsxs)("tr",{className:"align-middle days-label",children:[r&&Object(C.jsx)("th",{className:"border-bottom px-2 text-left table-days",style:{width:"30px"},children:Object(C.jsx)(j.a.Check,{id:"checkboxAll",htmlFor:"checkboxAll",checked:n,onChange:a})}),t.map((function(e){return Object(C.jsx)("th",{className:"border-bottom  px-2 text-nowrap text-center ",children:e},"$s-".concat(e))}))]})};t.c=W},155:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var a=n(2),c=n(6),r=n(15),s=n(16),i=n(145),l=n(186),o=n(44),d=n.n(o),u=n(0),j=n(202),b=n(515),m=n(200),h=n(113),O=n.n(h),x=n(121),f=n(1),p=function(e){var t=e.defaultValue,n=void 0===t?"00:00":t,a=e.value,r=void 0===a?n:a,s=e.buttonText,l=e.buttonVariant,o=void 0===l?"primary":l,d=e.closeVariant,b=void 0===d?"nonary":d,m=e.saveVariant,h=void 0===m?"senary":m,O=e.timeVariant,x=void 0===O?"primary":O,p=e.timeActiveVariant,v=void 0===p?"primary":p,g=e.buttonClassName,y=void 0===g?"":g,N=e.modalClassName,k=void 0===N?"":N,C=e.modalContentClassName,Y=void 0===C?"":C,S=e.onChange,M=Object(u.useState)(!1),I=Object(c.a)(M,2),D=I[0],E=I[1],T=Object(u.useState)(r),R=Object(c.a)(T,2),W=R[0],F=R[1],B=W.split(":"),A=B.length>=2&&B[0]||"00",P=B.length>=2&&B[1]||"00",H=function(){E(!1),F(n)};return Object(u.useEffect)((function(){return F(r)}),[r]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(i.a,{variant:o,onClick:function(){return E(!0)},className:"time-picker-modal-btn "+y,children:s}),Object(f.jsxs)(j.a,{show:D,onHide:H,centered:!0,className:k+" time-picker-modal",contentClassName:"time-picker-modal-content  bg-transparent "+Y,scrollable:!0,children:[Object(f.jsx)(j.a.Header,{children:Object(f.jsx)(j.a.Title,{className:"d-flex flex-nowrap justify-content-center align-items-center w-100",children:Object(f.jsxs)("div",{className:"title-wrapper d-flex flex-nowrap",children:[Object(f.jsx)("div",{children:A}),Object(f.jsx)("div",{className:"px-2",children:":"}),Object(f.jsx)("div",{children:P})]})})}),Object(f.jsx)(j.a.Body,{children:Object(f.jsx)(w,{variant:x,timeActiveVariant:v,value:W||n,onChange:F})}),Object(f.jsx)(j.a.Footer,{className:"border-senary",children:Object(f.jsxs)("div",{className:"w-100 btn-group-wrapper d-flex justify-content-around",children:[Object(f.jsx)(i.a,{variant:b,className:"col-5",onClick:H,children:"Cancel"}),Object(f.jsx)(i.a,{variant:h,className:"col-5 fw-bolder",onClick:function(){S(W),H()},children:"Save"})]})})]})]})},v=Object(u.memo)((function(e){var t=e.value,n=void 0===t?"00:00":t,a=e.onChange,c=e.disabled,r=void 0!==c&&c,s=e.portal,i=void 0===s||s,l=(e.withButton,e.inputStyle),o=e.className,d=void 0===o?"":o,j=e.dropdownClassName,m=void 0===j?"":j,h=Object(u.useCallback)((function(e){var t=e.target.value;a&&a(t)}),[a]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"d-block w-100  date-picker-dropdown ".concat(d),children:Object(f.jsx)("div",{className:"d-flex flex-nowrap w-100 align-items-center justify-content-center",children:Object(f.jsx)(x.a,{id:"TourFilter",as:b.a,disabled:r,toggleAs:"custom",portal:i,value:Object(f.jsx)("div",{className:"w-100 justify-content-center d-flex",children:Object(f.jsx)("input",{type:"text",value:n,onChange:h,style:l})}),children:Object(f.jsx)(y,{value:n,onChange:a,className:m})})})})})}),d.a),g=Object(u.memo)((function(e){var t=e.gte,n=void 0===t?"00:00":t,a=e.lte,c=void 0===a?"23:59":a,i=e.onChange,o=Object(u.useCallback)((function(e){i&&i(e)}),[i]);return Object(f.jsxs)(l.a,{className:"my-card",children:[Object(f.jsx)(l.a.Header,{children:Object(f.jsxs)("div",{className:"d-flex flex-nowrap w-100 justify-content-around fw-bolder",children:[Object(f.jsx)("div",{className:"col-5   text-center",children:n}),Object(f.jsxs)("div",{className:"d-flex col-2 justify-content-center align-items-center",children:[Object(f.jsx)(s.a,{icon:r.C,style:{left:"0.2px",position:"relative"}}),Object(f.jsx)(s.a,{icon:r.D,style:{right:"0.2px",position:"relative"}})]}),Object(f.jsx)("div",{className:"col-5  text-center",children:c})]})}),Object(f.jsx)(l.a.Body,{children:Object(f.jsxs)("div",{className:"d-flex",children:[Object(f.jsx)("div",{className:"col-5  justify-content-center",children:Object(f.jsx)(w,{value:n,onChange:function(e){return o({gte:e,lte:c})}})}),Object(f.jsx)("div",{className:"col-2"}),Object(f.jsx)("div",{className:"col-5  justify-content-center",children:Object(f.jsx)(w,{value:c,onChange:function(e){return o({gte:n,lte:e})}})})]})})]})}),d.a),y=Object(u.memo)((function(e){var t=e.value,n=e.onChange,a=e.defaultValue,c=void 0===a?"00:00":a,r=e.close,s=void 0!==r&&r,i=e.className,o=void 0===i?"":i,d=(t||c).split(":"),u=d.length>=2&&d[0]||"00",j=d.length>=2&&d[1]||"00";return Object(f.jsx)("div",{className:o,children:Object(f.jsxs)(l.a,{className:"my-card time-picker-card",style:{width:"250px"},children:[Object(f.jsx)(l.a.Header,{children:Object(f.jsxs)("div",{className:"d-flex flex-nowrap w-100 justify-content-between fw-bolder",children:[Object(f.jsx)("div",{className:"col-1"}),Object(f.jsxs)("div",{className:" className='col-10' d-flex flex-wrap",children:[Object(f.jsx)("div",{children:u}),Object(f.jsx)("div",{className:"px-2",children:":"}),Object(f.jsx)("div",{children:j})]}),Object(f.jsx)("div",{className:"d-flex justify-content-center align-items-center col-1",children:s&&Object(f.jsx)(m.a,{className:"p-0",variant:"white"})})]})}),Object(f.jsx)(l.a.Body,{children:Object(f.jsx)(w,{value:t||c,onChange:n})})]})})})),w=Object(u.memo)((function(e){var t=e.value,n=void 0===t?"00:00":t,c=e.onChange,r=e.buttonSize,s=void 0===r?"50px":r,l=e.variant,o=void 0===l?"light":l,d=e.timeActiveVariant,j=void 0===d?"primary":d,b=n.split(":"),m=b.length>=2&&b[0]||"00",h=b.length>=2&&b[1]||"00",x=Object(u.useRef)(null),p=Object(u.useRef)(null),v=Array(24).fill(),g=Array(60).fill(),y=Object(u.useCallback)((function(e){"hour"===e.target.id?c&&c(("0"+e.target.name).slice(-2)+":"+h):c&&c(m+":"+("0"+e.target.name).slice(-2))}),[m,h,c]);return Object(u.useEffect)((function(){var e=50*(parseInt(m)-1),t=50*(parseInt(h)-1);x.current.scrollTop(e),p.current.scrollTop(t)}),[m,h]),Object(f.jsxs)("div",{className:"d-flex flex-nowrap w-100 justify-content-around",children:[Object(f.jsx)("div",{id:"col-hours",className:"col-hours d-flex flex-fill justify-content-center",children:Object(f.jsx)(O.a,{autoHeight:!0,autoHide:!0,style:{marginBottom:"0px",width:s},autoHeightMin:50,autoHeightMax:200,ref:x,renderTrackHorizontal:function(e){return Object(f.jsx)("div",Object(a.a)(Object(a.a)({},e),{},{style:{display:"none"},className:"track-horizontal"}))},children:v.map((function(e,t){return Object(f.jsx)("div",{className:"d-flex justify-content-center hours btn-wrapper",children:Object(f.jsx)(i.a,{id:"hour",variant:t===parseInt(m)?j:o,name:t,onClick:y,className:"text-center rounded-0 ".concat(t===parseInt(m)?"b-active ":""),style:{width:"100%",height:"50px"},children:("0"+t).slice(-2)})},"h"+t)}))})}),Object(f.jsx)("div",{id:"col-minutes",className:"col-minutes d-flex flex-fill minutes justify-content-center",children:Object(f.jsx)(O.a,{autoHeight:!0,autoHide:!0,style:{marginBottom:"0px",width:"auto"},ref:p,autoHeightMin:50,autoHeightMax:200,renderTrackHorizontal:function(e){return Object(f.jsx)("div",Object(a.a)(Object(a.a)({},e),{},{style:{display:"none"},className:"track-horizontal"}))},children:g.map((function(e,t){return Object(f.jsx)("div",{className:"d-flex justify-content-center btn-wrapper",children:Object(f.jsx)(i.a,{id:"minute",variant:t===parseInt(h)?j:o,name:t,onClick:y,className:"text-center rounded-0 ".concat(t===parseInt(h)?"b-active ":""),style:{width:s,height:"50px"},children:("0"+t).slice(-2)})},"h"+t)}))})})]})}),d.a);t.c=v},217:function(e,t,n){"use strict";t.a=n.p+"static/media/react-logo-transparent.c39e9569.svg"},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return x}));var a=n(6),c=n(15),r=n(16),s=n(511),i=n(576),l=n(581),o=n(79),d=n(0),u=n(341),j=(Object(u.a)({apiKey:"AIzaSyBgzltCshAqzc3YGrmOno7E9SFrPXcJpwM",authDomain:"bt-auth-development-72121.firebaseapp.com",projectId:"bt-auth-development-72121",storageBucket:"bt-auth-development-72121.appspot.com",messagingSenderId:"931759168889",appId:"1:931759168889:web:b95cb8e30253e1ef8de3a8"}),Object(o.c)()),b=n(1),m=Object(d.createContext)();function h(){return Object(d.useContext)(m)}function O(e){var t=e.children,n=Object(d.useState)(),c=Object(a.a)(n,2),r=c[0],s=c[1],i=null===r||void 0===r?void 0:r.getIdTokenResult(!0).then((function(e){var t=e.claims;return t&&Object.keys(t).filter((function(e){return e.includes("ROLE_")}))})),l=Object(d.useCallback)((function(){return null===r||void 0===r?void 0:r.getIdTokenResult(!0)}),[r]),u=Object(d.useState)(!0),h=Object(a.a)(u,2),O=h[0],x=h[1];function f(){return r.getIdToken(!0).then((function(e){return{"Content-type":"application/json",Authorization:"Bearer ".concat(e)}}))}var p=function(e){return f().then((function(t){var n={headers:t};return e=Object.assign({},n,e),fetch(e.url,e).then((function(e){return e.json().then((function(e){return 200!==e.status?Promise.reject(e):e}))})).catch((function(){return Promise.reject()}))}))};Object(d.useEffect)((function(){return Object(o.d)(j,(function(e){s(e),x(!1)}))}),[]);var v={claims:l,currentUser:r,currentRole:i,login:function(e,t){return Object(o.f)(j,e,t)},signup:function(e,t){return Object(o.b)(j,e,t)},logout:function(){return Object(o.g)(j)},resetPassword:function(e){return Object(o.e)(j,e)},updateEmail:function(e){return Object(o.h)(r,e)},updatePassword:o.i,findChatMessages:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return p({url:"http://localhost:8090/messenger/messages/"+e+"/"+t+"?page="+n+"&size=20",method:"GET"})},countNewMessages:function(e,t){return p({url:"http://localhost:8090/messenger/messages/"+e+"/"+t+"/count",method:"GET"})},findNewMessages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return p({url:"http://localhost:8090/messenger/last-messages/"+e+"/"+t.join(","),method:"GET"})},findConnection:function(){return fetch("http://localhost:8090/public")},findUnreadMessages:function(e,t){return p({url:"http://localhost:8090/messenger/unread-messages/"+e+"/"+t,method:"GET"})},findChatMessage:function(e){return p({url:"http://localhost:8090/messenger/messages/"+e,method:"GET"})},findUnreadCount:function(e,t){return e&&t&&p({url:"http://localhost:8090/messenger/unread-count/"+e+"/"+t.join(","),method:"GET"})},authenticatedFetch:p,updateUser:function(e){return Object(o.k)(r,e).then((function(e){return r.reload()}))},updatePW:function(e){return Object(o.i)(r,e)},updatePhone:function(e){return Object(o.a)(),Object(o.j)(r,e).then((function(e){return r.reload()}))},getHeader:f};return Object(b.jsx)(m.Provider,{value:v,children:!O&&t})}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30px",t=h(),n=t.currentUser,a=t.logout,o=(null===n||void 0===n?void 0:n.displayName)||(null===n||void 0===n?void 0:n.email),d=n.photoURL?Object(b.jsx)(s.a,{src:n.photoURL,className:"rounded-circle me-2",style:{height:e,width:e}}):Object(b.jsx)("div",{className:"bg-senary text-nonary rounded-circle fw-bolder",style:{height:e,width:e,lineHeight:e,textAlign:"center"},children:o.substring(0,2)}),u=Object(b.jsxs)(i.a,{as:l.a.Item,className:"",drop:"up",flip:"true",children:[Object(b.jsx)(i.a.Toggle,{as:l.a.Link,className:"p-0",children:Object(b.jsxs)("div",{className:"media d-flex align-items-center w-100 p-2",children:[d,Object(b.jsx)("div",{className:"media-body text-light align-items-center d-none d-sm-block",children:Object(b.jsx)("span",{className:"mb-0 font-small fw-bold",children:o})})]})}),Object(b.jsx)(i.a.Menu,{className:"",style:{right:"0%",minWidth:"8rem"},children:Object(b.jsxs)(i.a.Item,{className:"fw-bold px-3 text-primary",onClick:a,children:[Object(b.jsx)(r.a,{icon:c.M,className:"text-danger me-2"}),"Logout"]})})]});return{name:o,image:d,dropdown:u}}},42:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return y}));var a=n(2),c=n(13),r=n(6),s=n(27),i=n(12),l=n.n(i),o=n(0),d=n(67),u=n(37),j=n(342),b=Object(j.recoilPersist)({storage:sessionStorage}).persistAtom,m=(Object(d.atom)({key:"loggedInUser",default:{},effects_UNSTABLE:[b]}),Object(d.atom)({key:"chatActiveContact",default:!1,effects_UNSTABLE:[b]})),h=Object(d.atom)({key:"chatMessages",default:[],effects_UNSTABLE:[b]}),O=Object(d.atom)({key:"chatContacts",default:!1,effects_UNSTABLE:[b]}),x=Object(d.atom)({key:"chatUsers",default:!1,effects_UNSTABLE:[b]});function f(){var e=Object(u.b)(),t=e.authenticatedFetch,n=e.currentUser,a=Object(o.useCallback)((function(){return t({url:"http://localhost:8090/settings?id=add-tours"})}),[t]),c=Object(o.useCallback)((function(e){var n={url:"http://localhost:8090/settings",body:JSON.stringify(e),method:"PUT"};return t(n)}),[t]),r=Object(o.useCallback)((function(e){var n={url:"http://localhost:8090/users",body:JSON.stringify(e),method:"POST"};return t(n)}),[t]),s=Object(o.useCallback)((function(e){var n={url:"http://localhost:8090/tours?driver="+e+"&date="+l()().format("YYYY.MM.DD")};return t(n)}),[t]),i=Object(o.useCallback)((function(e,n,a){return t({url:"http://localhost:8090/work-hours?size=500&driver="+e+"&date_gte="+n+"&date_lte="+a})}),[t]),d=Object(o.useCallback)((function(e,t){return i(n.uid,e,t)}),[i,n.uid]),j=Object(o.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={url:"http://localhost:8090/tours?sort=date,desc&size=20&page="+n+"&driver="+e};return t(a)}),[t]),b=Object(o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return j(n.uid,e)}),[j,n.uid]),m=Object(o.useCallback)((function(e){var n={url:"http://localhost:8090/work-hours?driver="+e+"&date="+l()().format("YYYY.MM.DD")};return t(n)}),[t]),h=Object(o.useCallback)((function(e){var n=l()().format("YYYY.MM.DD");return t({url:"http://localhost:8090/absent-days?sort=dateFrom,desc&size=500&page=0&reason=vacations&driver="+e+"&dateFrom_gte="+n})}),[t]),O=Object(o.useCallback)((function(){var e={url:"http://localhost:8090/absent-days?driver="+(null===n||void 0===n?void 0:n.uid)+"&size=500&verified=1&reason=vacations&sort=dateFrom,desc"};return t(e)}),[t,null===n||void 0===n?void 0:n.uid]),x=Object(o.useCallback)((function(e){var n={url:"http://localhost:8090/tours",method:"PUT",body:JSON.stringify(e)};return t(n)}),[t]),f=Object(o.useCallback)((function(e){var n={url:"http://localhost:8090/work-hours",method:"PUT",body:JSON.stringify(e)};return t(n)}),[t]),p=Object(o.useCallback)((function(e){var n={url:"http://localhost:8090/absent-days",method:"PUT",body:JSON.stringify(e)};return t(n)}),[t]),v=Object(o.useCallback)((function(e){return t({method:"DELETE",url:"http://localhost:8090/tours/"+e})}),[t]),g=Object(o.useCallback)((function(e){return t({method:"DELETE",url:"http://localhost:8090/work-hours/"+e})}),[t]),y=Object(o.useCallback)((function(e){return t({method:"DELETE",url:"http://localhost:8090/absent-days/"+e})}),[t]),w=Object(o.useCallback)((function(){return t({url:"http://localhost:8090/users/all"})}),[t]);return{fetchSettings:Object(o.useCallback)((function(){return t({url:"http://localhost:8090/settings"})}),[t]),currentUser:n,registerUsers:r,postTour:x,fetchTodaysTours:s,deleteTour:v,fetchTodaysWorkHours:m,postWorkHour:f,deleteWorkHour:g,fetchUpComingVacations:h,postVacations:p,deleteVacation:y,fetchUsers:w,fetchWorkHours:i,fetchUserWorkHours:d,fetchUserTours:b,fetchUserConfirmedVacations:O,fetchAddToursSettings:a,postSettings:c}}var p=null;function v(e,t,n){var s=Object(o.useState)(0),i=Object(r.a)(s,2),j=i[0],b=i[1],p=Object(o.useState)(0),v=Object(r.a)(p,2),y=v[0],w=v[1],N=f().fetchUsers,k=Object(u.b)(),C=k.currentUser,Y=k.findChatMessage,S=k.findChatMessages,M=k.findNewMessages,I=Object(d.useRecoilState)(m),D=Object(r.a)(I,2),E=D[0],T=D[1],R=Object(d.useRecoilState)(O),W=Object(r.a)(R,2),F=W[0],B=W[1],A=Object(d.useRecoilState)(x),P=Object(r.a)(A,2),H=(P[0],P[1]),L=Object(d.useRecoilState)(h),U=Object(r.a)(L,2),V=U[0],q=U[1];Object(o.useEffect)((function(){return sessionStorage.removeItem("recoil-persist"),e&&T(e),function(){sessionStorage.removeItem("recoil-persist")}}),[]);var _=Object(o.useCallback)((function(e){var t=null===e||void 0===e?void 0:e.filter((function(e){return e.uid!==C.uid})).map((function(e){return e.uid}));return M(C.uid,t).then((function(t){var n=t.data,r=Object(c.a)(e).filter((function(e){return e.uid!==C.uid})).map((function(e){var t,c;return Object(a.a)(Object(a.a)({},e),{},{message:null===(t=n[e.uid])||void 0===t?void 0:t.message,unreadCount:null===(c=n[e.uid])||void 0===c?void 0:c.unreadCount})})).sort((function(e,t){return e.message&&!t.message?-1:!e.message&&t.message?1:e.message&&t.message?t.message.timestamp.localeCompare(e.message.timestamp):0}));return B(r),r}))}),[C.uid,M]),z=Object(o.useCallback)((function(){var e,t=null===(e=JSON.parse(sessionStorage.getItem("recoil-persist")))||void 0===e?void 0:e.chatUsers;return t?_(t):N().then((function(e){var t=e.data;return H(t),_(t)}))}),[C.uid,N,M,_]),K=Object(o.useCallback)((function(){z().then((function(e){if(n){var t=Object(c.a)(e).filter((function(e){return e.uid!==C.uid})).sort((function(e,t){var n,a;return l()(null===e||void 0===e||null===(n=e.message)||void 0===n?void 0:n.timestamp).isBefore(null===t||void 0===t||null===(a=t.message)||void 0===a?void 0:a.timestamp)?1:0}));T(t[0])}}))}),[z,n]),G=Object(o.useCallback)((function(e){var t=null===F||void 0===F?void 0:F.find((function(t){return t.uid===e}));t&&T(t)}),[F]),J=Object(o.useCallback)((function(n){var a,r=JSON.parse(n.body),s=(null===(a=JSON.parse(sessionStorage.getItem("recoil-persist")))||void 0===a?void 0:a.chatActiveContact)||e;if((null===s||void 0===s?void 0:s.uid)===r.senderId){var i,l=null===(i=JSON.parse(sessionStorage.getItem("recoil-persist")))||void 0===i?void 0:i.chatMessages;l?Y(r.id).then((function(e){var t=e.data;q([t].concat(Object(c.a)(l)))})):S(s.uid,C.uid,0).then((function(e){w(e.data.totalPages),b(0),q(e.data.content)})).catch((function(e){})),z()}else z().then((function(e){M(C.uid,[r.senderId]).then((function(n){var a=n.data,c=Object.values(a)[0].message,i=null===e||void 0===e?void 0:e.find((function(e){return e.uid===r.senderId}));t&&t({notification:r,activeUid:null===s||void 0===s?void 0:s.uid,message:c,contact:i,setActive:function(){sessionStorage.removeItem("recoil-persist"),q(),T(i)}})}))}))}),[C,z,t,Y,S,M]),Q=g({onConnected:K,onMessageReceived:J,uid:C.uid}),X=Q.sendMessage,Z=Q.disconnect,$=Object(o.useCallback)((function(){Z(),sessionStorage.removeItem("recoil-persist")}),[Z]);Object(o.useEffect)((function(){(null===E||void 0===E?void 0:E.uid)&&S(E.uid,C.uid).then((function(e){w(e.data.totalPages),q(e.data.content),z()})).catch((function(e){console.log(e)}))}),[E,null===C||void 0===C?void 0:C.uid,S,z]);var ee=Object(o.useCallback)((function(e){var t=X(e,C.uid,C.name,E.uid,E.name);if(t){var n=Object(a.a)({},t);q((function(e){return[n].concat(Object(c.a)(e))}))}}),[V,E,C,z]),te=Object(o.useCallback)((function(){return j+1<=y&&(S(C.uid,E.uid,j+1).then((function(e){w(e.data.totalPages);var t=[].concat(Object(c.a)(V),Object(c.a)(e.data.content)),n=Object(c.a)(new Set(t.map((function(e){return e.id})))).map((function(e){return t.find((function(t){return t.id===e}))}));return q(n)})),b((function(e){return e+1})),!0)}),[C,j,y,E,V,q,S]);return{contacts:F,messages:V,setActiveContactUid:G,activeContact:E,sendMessage:ee,disconnect:$,loadNextPage:te,onMessageReceived:J}}function g(e){var t=e.onMessageReceived,a=e.uid,c=e.onConnected,r=Object(o.useCallback)((function(e){t&&t(e)}),[t]),s=Object(o.useCallback)((function(){p.subscribe("/user/"+a+"/queue/messages",r),c&&c()}),[a,r,c]),i=Object(o.useCallback)((function(e){return console.log(e),null}),[]),d=Object(o.useCallback)((function(){var e=n(430),t=new(n(437))("http://localhost:8090/ws");(p=e.over(t)).connect({},(function(e){console.log("Connected: "+e),s()}),(function(e){console.log("error: "+e),i()}))}),[s,i]),u=Object(o.useCallback)((function(e,t,n,a,c){if(""!==e.trim()){var r={senderId:t,recipientId:a,senderName:n,recipientName:c,content:e,timestamp:l()().toISOString()};return p.send("/app/chat",{},JSON.stringify(r)),r}return!1}),[]),j=Object(o.useCallback)((function(){var e;null===(e=p)||void 0===e||e.disconnect()}),[]);return Object(o.useEffect)((function(){return a&&d(),function(){j()}}),[a,d,j]),{sendMessage:u,disconnect:j}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,n=Object(o.useState)(e),a=Object(r.a)(n,2),c=a[0],i=a[1],l=Object(o.useState)(),d=Object(r.a)(l,2),u=d[0],j=d[1];Object(o.useEffect)((function(){c&&fetch("https://api.geoapify.com/v1/geocode/autocomplete?text="+c+"&bias=proximity:7.695437406095948,51.37591047394929&filter=countrycode:de&format=json&apiKey=10c756ea16164bc7bac36de9e661f64c",{method:"GET"}).then((function(e){return e.json()})).then((function(e){var t,n=null===e||void 0===e||null===(t=e.results)||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.formatted.replace(", Germany","")}));n?j(n):j()})).catch((function(e){return console.log("error",e)}))}),[c]);var b=Object(o.useCallback)((function(e){i(e)}),[]),m=Object(o.useMemo)((function(){return Object(s.debounce)(b,t)}),[b,t]);return{places:u,onChange:m}}},509:function(e,t,n){},510:function(e,t,n){"use strict";n.r(t);n(364);var a=n(574),c=n(572),r=n(0),s=n.n(r),i=n(39),l=n.n(i),o=n(36),d=n(35),u=n(67),j=n(29),b=function(){var e=Object(j.g)().pathname;return Object(r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"auto"})}),[e]),null},m=n(6),h=n(511),O=n(217),x=n(1),f=function(e){var t=e.show;return Object(x.jsx)("div",{className:"preloader bg-soft flex-column justify-content-center align-items-center ".concat(t?"":"show"),children:Object(x.jsx)(h.a,{className:"loader-element animate__animated animate__jackInTheBox",src:O.a,height:40})})},p=n(2),v=n(18),g=n(15),y=n(16),w=n(145),N=n(581),k=n(553),C=n(584),Y=n(554),S=n(349),M=n(37),I={path:"/"},D={path:"/dashboard"},E={path:"/app"},T={path:"/user-overview"},R={path:"/tours/add"},W={path:"/tours"},F={path:"/tours/dashboard"},B={path:"/work-hours/add"},A={path:"/work-hours"},P={path:"/work-hours/dashboard"},H={path:"/vacations"},L={path:"/users"},U={path:"/settings"},V={path:"/user-settings"},q={path:"/chat"},_={path:"/user-chat"},z={path:"/user-messenger"},K={path:"/examples/sign-in"},G={path:"/examples/add-user"},J={path:"/examples/404"},Q={path:"/500"},X=["children","variant"],Z=function(e){var t=e.children,n=e.variant,a=void 0===n?"nonary":n,c=Object(v.a)(e,X);return Object(x.jsx)(w.a,Object(p.a)(Object(p.a)({variant:a,style:{boxShadow:"inset 0px 0px 1px 1px rgb(255 255 255 / 15%), 1px 1px 1px rgb(46 54 80 / 8%)"}},c),{},{children:t}))},$=function(){var e=Object(j.g)().pathname,t=Object(r.useState)(!1),n=Object(m.a)(t,2),a=n[0],c=n[1],s=a?"show":"",i=function(){return c(!a)},l=Object(M.c)().dropdown,o=function(t){var n=t.title,a=t.link,r=t.external,s=t.target,i=t.icon,l=t.image,o=t.badgeText,u=t.badgeBg,j=void 0===u?"tertiary":u,b=t.badgeColor,m=void 0===b?"primary":b,O=o?"d-flex justify-content-start align-items-center justify-content-between":"",f=a===e?"active":"",v=r?{href:a}:{as:d.b,to:a};return Object(x.jsx)(N.a.Item,{className:f,onClick:function(){return c(!1)},children:Object(x.jsxs)(N.a.Link,Object(p.a)(Object(p.a)({},v),{},{target:s,className:O,children:[Object(x.jsxs)("span",{children:[i?Object(x.jsxs)("span",{className:"sidebar-icon",children:[Object(x.jsx)(y.a,{icon:i})," "]}):null,l?Object(x.jsx)(h.a,{src:l,width:20,height:20,className:"sidebar-icon svg-icon"}):null,Object(x.jsx)("span",{className:"sidebar-text",children:n})]}),o?Object(x.jsx)(k.a,{pill:!0,bg:j,text:m,className:"badge-md notification-count ms-2",children:o}):null]}))})};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(C.a,{expand:!1,collapseOnSelect:!0,variant:"dark",bg:"primary",className:"navbar-theme-primary px-3 py-0 d-md-none",style:{height:"55px"},children:Object(x.jsx)("div",{className:"w-100 d-flex flex-nowrap justify-content-end align-items-center",children:Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsx)("div",{className:"ps-2",children:Object(x.jsx)(C.a.Toggle,{as:function(e){return Object(x.jsx)(Z,Object(p.a)(Object(p.a)({},e),{},{variant:"primary"}))},"aria-controls":"main-navbar bg-primary",onClick:i,style:{transform:"scale(75%)"},children:Object(x.jsx)("span",{className:"navbar-toggler-icon bg-primary"})})})})})}),Object(x.jsx)(Y.a,{timeout:300,in:a,classNames:"sidebar-transition",children:Object(x.jsx)(S.a,{className:"collapse ".concat(s," sidebar d-md-block text-white bg-primary h-100"),children:Object(x.jsxs)("div",{className:"sidebar-inner px-4 p-3 h-100",children:[Object(x.jsxs)("div",{className:"user-card d-flex d-md-none align-items-center justify-content-between justify-content-md-center pb-4",children:[Object(x.jsx)("div",{className:"d-flex align-items-center",children:Object(x.jsx)("div",{children:l})}),Object(x.jsx)(N.a.Link,{className:"collapse-close d-md-none",onClick:i,children:Object(x.jsx)(y.a,{icon:g.P})})]}),Object(x.jsxs)(N.a,{className:"flex-column pt-3 pt-md-0 h-100 d-flex flex-column justify-content-between",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(o,{title:"Overview",link:D.path,icon:g.q}),Object(x.jsx)(o,{title:"Tours",icon:g.A,link:F.path}),Object(x.jsx)(o,{title:"Workhours",icon:g.A,link:P.path}),Object(x.jsx)(o,{title:"Messages",icon:g.A,link:q.path}),Object(x.jsx)(o,{title:"Users",icon:g.T,link:L.path}),Object(x.jsx)(o,{title:"Settings",icon:g.u,link:U.path}),Object(x.jsx)(o,{title:"App",icon:g.u,link:E.path})]}),l]})]})})})]})},ee=n(555),te=n.p+"static/media/android-chrome-192x192.c1fb2234.png",ne=function(){var e=Object(M.c)().dropdown;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(C.a,{expand:!1,collapseOnSelect:!0,variant:"dark",className:"navbar-theme-nonary px-3 py-0",style:{height:"55px"},children:Object(x.jsxs)("div",{className:"w-100 d-flex flex-nowrap justify-content-between align-items-center",children:[Object(x.jsx)("div",{className:"text-light d-flex align-items-end",children:Object(x.jsxs)(N.a.Link,{as:d.b,to:E.path,children:[Object(x.jsx)(h.a,{src:te,style:{height:"30px"}}),Object(x.jsx)("span",{className:"ps-2",children:"Beton"})]})}),e]})})})},ae=n(3),ce=n.n(ae),re=n(7),se=n(556),ie=n(343),le=n(578),oe=n(558),de=n(557),ue=n(172),je=n.p+"static/media/signin.454f944b.svg",be=n(42),me=n(13),he=n(5),Oe=n(22),xe=n(12),fe=n.n(xe),pe=function(e){var t=e.value,n=(e.isEditable,t[0]),a=t[1]||t[2];return Object(x.jsx)("div",{className:"contact-avatar",children:""===t?Object(x.jsx)(x.Fragment,{}):n?Object(x.jsx)(h.a,{src:n,className:"user-avatar rounded-circle border-0",resize:"contain"}):Object(x.jsx)("div",{className:"bg-primary text-white rounded-circle fw-bolder user-avatar rounded-circle",children:null===a||void 0===a?void 0:a.substring(0,2)})})},ve=Object(r.memo)((function(e){var t=e.value,n=e.isEditable,a=e.onChange,c=e.maxWidth,s=t.includes("ROLE_USER"),i=t.includes("ROLE_DRIVER"),l=t.includes("ROLE_ADMIN"),o=t.includes("ROLE_SUPER"),d=Object(r.useCallback)((function(e){var n="ROLE_"+e.toUpperCase(),c=!t.includes(n)?[].concat(Object(me.a)(t),[n]):t.filter((function(e){return e!==n}));a(c)}),[a,t]);return Object(x.jsxs)("div",{className:"d-flex flex-wrap justify-content-center ".concat(n?"editable":""),style:{maxWidth:c,minWidth:c},children:[Object(x.jsx)(ge,{onClick:d,enabled:s,variant:"light-tertiary",isEditable:n,children:"User"}),Object(x.jsx)(ge,{onClick:d,enabled:i,variant:"very-light-blue",isEditable:n,children:"Driver"}),Object(x.jsx)(ge,{onClick:d,enabled:l,variant:"quinary",isEditable:n,children:"Admin"}),Object(x.jsx)(ge,{enabled:o,variant:"senary",children:"Super"})]})})),ge=function(e){var t=e.children,n=e.enabled,a=e.variant,c=e.isEditable,r=e.onClick,s=c&&n?a:c?"light":a;return Object(x.jsx)(x.Fragment,{children:(n||c)&&Object(x.jsx)("div",{className:"badge-wrapper p-1",children:Object(x.jsx)(w.a,{active:n,className:"px-2 py-1",variant:s,style:{fontSize:"14px",height:"31px"},onClick:function(){return c&&r(t)},children:t})})})},ye=ve,we=Object(r.memo)((function(e){var t=e.value,n=e.isEditable,a=e.onChange,c=e.maxWidth,s="0"!==t,i=Object(r.useCallback)((function(){a(s?"0":"1")}),[a,s]);return Object(x.jsx)("div",{className:"d-flex flex-nowrap justify-content-center ",style:{maxWidth:c,minWidth:c},children:Object(x.jsx)(Ne,{onClick:i,enabled:!0,variant:s?"duodenary":"denary",isEditable:n,children:s?"Enabled":"Disabled"})})})),Ne=function(e){var t=e.children,n=e.enabled,a=e.variant,c=e.isEditable,r=e.onClick,s=c&&n?a:c?"light":a;return(n||c)&&Object(x.jsx)("div",{className:"badge-wrapper px-2",children:Object(x.jsx)(w.a,{active:n,className:"px-2 py-1",variant:s,style:{fontSize:"14px"},onClick:function(){return c&&r(t)},children:t})})},ke=we,Ce=Object(r.memo)((function(e){var t=e.value,n=e.isEditable,a=e.onChange,c=1===parseInt(t),r=0===parseInt(t),s=-1===parseInt(t),i=c||n?"text-confirmed":"text-confirmed opacity-0",l=r||n?"text-pending":"text-pending opacity-0",o=s||n?"text-declined":"text-declined opacity-0",d=!n;return Object(x.jsxs)("div",{className:"verified-wrapper ".concat(n?"editable":""),children:[Object(x.jsx)(w.a,{active:c,disabled:d,variant:"transparent",className:"left ".concat(i),onClick:function(){return a(1)},children:Object(x.jsx)(y.a,{icon:g.r})}),Object(x.jsx)(w.a,{active:r,disabled:d,variant:"transparent",className:"center ".concat(l),onClick:function(){return a(0)},children:Object(x.jsx)(y.a,{icon:g.E})}),Object(x.jsx)(w.a,{active:s,disabled:d,variant:"transparent",className:"right ".concat(o),onClick:function(){return a(-1)},children:Object(x.jsx)(y.a,{icon:g.P})})]})})),Ye="INTERNAL",Se="SERVER",Me=!1,Ie=["entityId"],De=["format","fn","id","connections","nanoid"],Ee="http://localhost:8090/",Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0:0",t=e.split(":"),n=parseInt(t[0]),a=parseInt(t[1]);return(0===n||isNaN(n)?"":n+"h")+(isNaN(n)||isNaN(a)||0===n||0===a?"":" ")+(isNaN(a)||0===a?"":a+"min")},Re=function(e){try{var t=fe()(e[1],"HH:mm",!0),n=fe()(e[2],"HH:mm",!0),a=t.isValid()&&n.isValid()&&n.diff(t,"minutes");return(a&&parseInt(a/60)||0)+":"+(a&&a%60||0)}catch(c){return""}},We=function(e){return fe()(e,"YYYY.MM.DD",!0).isValid()?fe()(e,"YYYY.MM.DD").format("DD.MM.YYYY"):e},Fe=function(e){var t=e.entityId,n=e.state,a=e.tablesSelector,c=e.labelsSelector,r=e.changesSelector,s=e.metaSelector,i=a.selectById(n,t),l=i.changes,o=i.addRow,d=i.postInitialValues,u=i.rows,j=r.selectAll(n).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t.id,Object(p.a)(Object(p.a)({},u[t.id]),t)))}),{}),b=l.map((function(e){var t=Object.keys(j[e]),a=e===Object.keys(o)[0]?d:Object(p.a)({id:e},d);return t.filter((function(e){return"id"!==e})).reduce((function(t,a){var r=c.selectById(n,a).idx,i=""===(j[e][a]+"").trim()?null:j[e][a];if("driver"===r){var l=s.selectById(n,"drivers").drivers.find((function(e){return e.name===i||e.email===i}));return Object(p.a)(Object(p.a)({},t),{},Object(he.a)({},r,l.uid))}return Object(p.a)(Object(p.a)({},t),{},Object(he.a)({},r,i))}),Object(p.a)({},a))}));return{url:Ve(t),options:{method:"PUT",body:JSON.stringify(b)}}},Be=function(e){var t=e.entityId,n=e.state,a=e.tablesSelector,c=e.labelsSelector,r=e.changesSelector,s=a.selectById(n,t),i=s.rows,l=s.changes,o=s.labels,d=s.addRow,u=o[0],j=c.selectById(n,u).idx,b=Object.keys(Object(p.a)(Object(p.a)({},i),d)).map((function(e){var t=l.includes(e)?r.selectById(n,e):{};return Object(p.a)(Object(p.a)({},i[e]||d[e]),t)})).filter((function(e){return""!==e[u].trim()})),m={id:j,value:JSON.stringify(Object(me.a)(new Set(b.map((function(e){return e[u]})).sort((function(e,t){return e.localeCompare(t)})))))};return{url:Ve(t),options:{method:"PUT",body:JSON.stringify(m)}}},Ae=function(e){var t=e.entityId,n=e.state,a=e.tablesSelector,c=e.labelsSelector,r=a.selectById(n,t),s=r.selectedRows,i=r.rows,l=r.labels[0],o=c.selectById(n,l).idx,d=Object.keys(i).filter((function(e){return!s.includes(e)})).map((function(e){return Object(p.a)({},i[e])})),u={id:o,value:JSON.stringify(Object(me.a)(new Set(d.map((function(e){return e[l]})))))};return{url:Ve(t),options:{method:"PUT",body:JSON.stringify(u)}}},Pe=function(e){var t=e.entityId,n=e.state,a=e.tablesSelector.selectById(n,t).selectedRows;return{url:Ve(t)+"/"+a.join(","),options:{method:"DELETE"}}},He=function(e){return Ze[e].connections},Le=function(e,t){return Ze[e].rowClassName&&Ze[e].rowClassName(t)||"active"},Ue=function(e,t){return Ze[e].dateFilter(t)},Ve=function(e){return Ze[e].url},qe=function(e){return Ze[e].widgets},_e=function(e){return Ze[e].primaryLabels||[]},ze=function(e,t){return Xe(e)[t].format},Ke=function(e,t){return Xe(e)[t].fn},Ge=function(e,t){return Xe(e)[t].defaultValue},Je=function(e,t){var n;return null===(n=Xe(e)[t].connections)||void 0===n?void 0:n.map((function(t){return{connection:t,dependencies:Xe(e)[t].dependencies}}))},Qe=function(e,t){var n=Xe(e)[t],a=(n.format,n.fn,n.id),c=(n.connections,n.nanoid,Object(v.a)(n,De));return Object(p.a)({idx:a},c)},Xe=function(e){return Ze[e].labels||[]},Ze={settingsVehicle:{url:Ee+"settings",widgets:{filter:!1,add:!0,remove:!0,delete:!0,massEdit:!1,download:!1,sort:!1,pagination:Me,counter:!1,edit:!0},title:"Vehicle",primaryLabels:["vehicle"],secondaryLabels:[],postMapper:Be,deleteMapper:Ae,labels:{vehicle:{nanoid:Object(Oe.e)(),id:"vehicle",text:"Vehicles",type:"text",minWidth:"50px",maxWidth:"80px"}}},settingsDischargeType:{url:Ee+"settings",widgets:{filter:!1,add:!0,remove:!0,delete:!0,massEdit:!1,download:!1,sort:!1,pagination:Me,counter:!1,edit:!0},title:"Discharge Type",primaryLabels:["dischargeType"],secondaryLabels:[],postMapper:Be,deleteMapper:Ae,labels:{dischargeType:{nanoid:Object(Oe.e)(),id:"dischargeType",text:"Discharge Types",type:"dischargeType",maxWidth:"150px",minWidth:"50px"}}},settingsWorkPlant:{url:Ee+"settings",widgets:{filter:!1,add:!0,remove:!0,delete:!0,massEdit:!1,download:!1,sort:!1,pagination:Me,counter:!1,edit:!0},postMapper:Be,deleteMapper:Ae,title:"Work Plants",primaryLabels:["workPlant"],secondaryLabels:[],labels:{workPlant:{nanoid:Object(Oe.e)(),id:"workPlant",text:"Work Plant",type:"text",minWidth:"50px",maxWidth:"200px"}}},publicHolidays:{url:Ee+"public-holidays",meta:["date"],widgets:{filter:!0,add:!0,remove:!0,delete:!0,massEdit:!1,download:!0,sort:!0,pagination:Me,counter:!0,edit:!0},title:"Public Holidays",primaryLabels:["date","name"],secondaryLabels:[],labels:{date:{nanoid:Object(Oe.e)(),id:"date",text:"Date",type:"date",filterType:"date",format:We,maxWidth:"100px"},name:{nanoid:Object(Oe.e)(),id:"name",text:"Name",type:"bigText",maxWidth:"150px"}}},users:{url:Ee+"users",widgets:{filter:!0,add:!0,remove:!0,delete:!0,massEdit:!1,download:!0,sort:!0,pagination:Se,counter:!0,pageSize:10,edit:!0},title:"Users",postMapper:function(e){var t=e.entityId,n=Object(v.a)(e,Ie),a=Fe(Object(p.a)({entityId:t},n)),c=a.url,r=a.options,s=JSON.parse(r.body).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{uid:null===e||void 0===e?void 0:e.id,disabled:"0"===e.disabled,photoUrl:e.photoUrl[0],claims:{vehicle:null===e||void 0===e?void 0:e.vehicle,workPlant:null===e||void 0===e?void 0:e.workPlant,vacationDays:null===e||void 0===e?void 0:e.vacationDays}})}));return{url:c,options:Object(p.a)(Object(p.a)({},r),{},{body:JSON.stringify(s)})}},primaryLabels:["email","name","roles","workPlant","vehicle","password","disabled","vacationDays"],tertiaryLabels:["photoUrl"],labels:{photoUrl:{nanoid:Object(Oe.e)(),id:"photoUrl",text:"photoUrl",maxWidth:"150px",type:"customComponent",fn:function(e){return e},dependencies:["name","email"]},email:{nanoid:Object(Oe.e)(),id:"email",text:"Email",type:"email",maxWidth:"230px",connections:["photoUrl"]},name:{nanoid:Object(Oe.e)(),id:"name",text:"Name",type:"bigText",maxWidth:"150px",connections:["photoUrl"]},roles:{nanoid:Object(Oe.e)(),id:"roles",text:"Roles",maxWidth:"150px",type:"customComponent"},disabled:{nanoid:Object(Oe.e)(),id:"disabled",text:"Status",maxWidth:"80px",type:"customComponent",format:function(e){return"false"===String(e).toLowerCase()?"1":"0"}},vehicle:{nanoid:Object(Oe.e)(),id:"vehicle",text:"Vehicle",type:"constant",minWidth:"50px",maxWidth:"100px"},workPlant:{nanoid:Object(Oe.e)(),id:"workPlant",text:"Work Plant",type:"constant",maxWidth:"180px"},vacationDays:{nanoid:Object(Oe.e)(),id:"vacationDays",text:"vacationDays",type:"number",maxWidth:"50px"},password:{nanoid:Object(Oe.e)(),id:"password",text:"Password",type:"bigText",maxWidth:"150px",hidden:!0}}},tours:{url:Ee+"tours",meta:["date","user"],widgets:{filter:!0,add:!0,remove:!0,delete:!0,massEdit:!1,download:!0,sort:!0,pagination:Se,counter:!0,pageSize:20,edit:!0},title:"Tours",primaryLabels:["date","driver","vehicle","workPlant","deliveryNr","buildingSite","cbm","arrival","departure","kmArrival","kmDeparture","dischargeBegin","dischargeEnd","dischargeType","waitTime","other"],secondaryLabels:["distance"],labels:{date:{nanoid:Object(Oe.e)(),id:"date",text:"Date",type:"date",filterType:"date",format:We,maxWidth:"100px",userType:"disabled"},driver:{nanoid:Object(Oe.e)(),id:"driver",text:"Driver",type:"constant",filterType:"checkbox",maxWidth:"200px",userType:"disabled"},vehicle:{nanoid:Object(Oe.e)(),id:"vehicle",text:"Vehicle",type:"constant",filterType:"checkbox",minWidth:"100px",maxWidth:"150px",userType:"modal"},workPlant:{nanoid:Object(Oe.e)(),id:"workPlant",text:"Work Plant",type:"constant",filterType:"checkbox",maxWidth:"270px",userType:"modal"},deliveryNr:{nanoid:Object(Oe.e)(),id:"deliveryNr",text:"Delivery Nr",type:"bigText",maxWidth:"150px",userType:"input-number",defaultValue:"550"},buildingSite:{nanoid:Object(Oe.e)(),id:"buildingSite",text:"Address",type:"navi",filterType:"checkbox",maxWidth:"250px",userType:"navi"},cbm:{nanoid:Object(Oe.e)(),id:"cbm",text:"Cbm",type:"number",filterType:"range",min:0,max:30,measurement:"m\xb3",maxWidth:"60px",userType:"input-number"},arrival:{nanoid:Object(Oe.e)(),id:"arrival",text:"Arrival",type:"time",filterType:"time",maxWidth:"100px",userType:"time"},departure:{nanoid:Object(Oe.e)(),id:"departure",text:"Departure",type:"time",filterType:"time",maxWidth:"100px",userType:"time"},kmArrival:{nanoid:Object(Oe.e)(),id:"kmArrival",text:"Km at Arrival",type:"bigNumber",maxWidth:"150px",connections:["distance"],userType:"input-number"},kmDeparture:{nanoid:Object(Oe.e)(),id:"kmDeparture",text:"Km at Departure",type:"bigNumber",maxWidth:"150px",connections:["distance"],userType:"input-number"},distance:{nanoid:Object(Oe.e)(),id:"distance",text:"Distance",type:"nonEditable",maxWidth:"80px",minWidth:"50px",dependencies:["kmArrival","kmDeparture"],fn:function(e){return e[2]-e[1]}},dischargeBegin:{nanoid:Object(Oe.e)(),id:"dischargeBegin",text:"Discharge Begin",type:"time",filterType:"time",maxWidth:"130px",userType:"time"},dischargeEnd:{nanoid:Object(Oe.e)(),id:"dischargeEnd",text:"Discharge End",type:"time",filterType:"time",maxWidth:"130px",userType:"time"},dischargeType:{nanoid:Object(Oe.e)(),id:"dischargeType",text:"Discharge Type",type:"constant",filterType:"checkbox",maxWidth:"160px",userType:"modal"},waitTime:{nanoid:Object(Oe.e)(),id:"waitTime",text:"Wait Time",type:"number",maxWidth:"130px",userType:"input-number"},other:{nanoid:Object(Oe.e)(),id:"other",text:"Other",type:"bigText",maxWidth:"250px",userType:"textarea",notRequired:!0}}},workHours:{connections:{onUpdate:["workHoursBank"],onDateChange:["workHoursBank","vacationsOverview"]},url:Ee+"work-hours",dateFilter:function(e){return{date:{eq:[fe()(e).format("YYYY.MM")]}}},meta:["date","user"],dateType:"YYYY.MM",widgets:{filter:!0,add:!0,remove:!0,delete:!0,massEdit:!1,download:!0,pagination:Se,counter:!0,pageSize:20,sort:!0,edit:!0},title:"Workhours",primaryLabels:["date","begin","end","pause"],secondaryLabels:["day","duration"],labels:{date:{nanoid:Object(Oe.e)(),id:"date",text:"Date",type:"date",filterType:"date",connections:["day"],format:We,maxWidth:"100px",minWidth:"100px"},day:{nanoid:Object(Oe.e)(),id:"day",text:"Day",type:"nonEditable",filterType:"checkbox",dependencies:["date"],fn:function(e){return fe()(e[1],"YYYY.MM.DD",!0).isValid()?fe()(e[1],"YYYY.MM.DD").format("dddd"):e[1]},maxWidth:"100px",minWidth:"100px",ignoreSort:!0},begin:{nanoid:Object(Oe.e)(),id:"begin",text:"Begin",type:"time",connections:["duration"],filterType:"time",maxWidth:"100px",minWidth:"100px"},end:{nanoid:Object(Oe.e)(),id:"end",text:"End",type:"time",connections:["duration"],filterType:"time",maxWidth:"100px",minWidth:"100px"},duration:{nanoid:Object(Oe.e)(),id:"duration",text:"Duration",type:"nonEditable",dependencies:["begin","end"],fn:Re,format:Te,maxWidth:"100px",minWidth:"100px"},pause:{nanoid:Object(Oe.e)(),id:"pause",text:"Pause",type:"time",max:"180",filterType:"time",maxWidth:"100px",minWidth:"100px"}}},workHoursBank:{url:Ee+"work-hours-bank",dateFilter:function(e){return{date:{eq:[fe()(e).format("YYYY")]}}},widgets:{filter:!1,add:!1,remove:!1,delete:!1,massEdit:!0,download:!0,pagination:!0,counter:!1,pageSize:6,sort:!0,edit:!1},title:"Workhours Bank",primaryLabels:["date","hours"],secondaryLabels:[],editable:["hours"],labels:{date:{nanoid:Object(Oe.e)(),id:"date",text:"Month",type:"text",format:function(e){return fe()(e,"YYYY.MM",!0).isValid()?fe()(e,"YYYY.MM").format("MMMM"):e},maxWidth:"100px",minWidth:"100px"},hours:{nanoid:Object(Oe.e)(),id:"hours",text:"Hours",type:"number",measurement:"h",maxWidth:"100px",minWidth:"100px"}}},absent:{connections:{onUpdate:["vacationsOverview"]},url:Ee+"absent-days",widgets:{filter:!1,add:!0,remove:!0,delete:!0,massEdit:!1,download:!0,pagination:!0,counter:!1,pageSize:5,sort:!0,edit:!0},title:"Absent",primaryLabels:["dateFrom","dateTo","reason","days"],labels:{dateFrom:{nanoid:Object(Oe.e)(),id:"dateFrom",text:"from",type:"date",format:We,maxWidth:"100px",minWidth:"100px"},dateTo:{nanoid:Object(Oe.e)(),id:"dateTo",text:"to",type:"date",format:We,maxWidth:"100px",minWidth:"100px"},days:{nanoid:Object(Oe.e)(),id:"days",text:"Days",type:"nonEditable",maxWidth:"80px",minWidth:"80px"},reason:{nanoid:Object(Oe.e)(),id:"reason",text:"Reason",type:"bigText",maxWidth:"100px",minWidth:"100px"}}},vacationsOverview:{url:Ee+"absent-days/vacations/rest",dateFilter:function(e){return{date:{eq:[fe()(e).format("YYYY")]}}},dateType:"YYYY",widgets:{filter:!1,add:!1,download:!0,remove:!1,massEdit:!0,pagination:!1,counter:!1,pageSize:5,sort:!1,edit:!1},title:"Vacations Overview",primaryLabels:["taken","rest"],labels:{taken:{nanoid:Object(Oe.e)(),id:"taken",text:"Taken",type:"number",maxWidth:"100px",minWidth:"100px"},rest:{nanoid:Object(Oe.e)(),id:"rest",text:"Rest",type:"number",maxWidth:"100px",minWidth:"100px"}}},vacations:{connections:{onUpdate:["vacationsOverview"]},url:Ee+"absent-days",widgets:{filter:!1,add:!0,download:!0,remove:!0,massEdit:!1,pagination:Ye,counter:!0,pageSize:5,sort:!0,edit:!0},title:"Vacations",footer:["Total","","SUM"],primaryLabels:["dateFrom","dateTo","days","verified"],labels:{dateFrom:{nanoid:Object(Oe.e)(),id:"dateFrom",text:"from",type:"date",format:We,maxWidth:"100px",minWidth:"100px"},dateTo:{nanoid:Object(Oe.e)(),id:"dateTo",text:"to",type:"date",format:We,maxWidth:"100px",minWidth:"100px"},days:{nanoid:Object(Oe.e)(),id:"days",text:"Days",type:"nonEditable",maxWidth:"80px",minWidth:"80px"},verified:{nanoid:Object(Oe.e)(),id:"verified",text:"verified",type:"customComponent",maxWidth:"100px",minWidth:"100px",format:function(e){return e+""}}}},workHoursByDate:{url:Ee+"work-hours-bank/by-date-driver",widgets:{filter:!1,add:!1,download:!0,remove:!1,massEdit:!0,pagination:!0,counter:!0,pageSize:20,sort:!0,edit:!1},title:"Total working time in ",primaryLabels:["driver","hours"],labels:{driver:{nanoid:Object(Oe.e)(),id:"driver",text:"Driver",type:"nonEditable",maxWidth:"200px"},hours:{nanoid:Object(Oe.e)(),id:"hours",text:"Hours",type:"nonEditable",maxWidth:"50px",minWidth:"50px"}}},pendingVacations:{url:Ee+"absent-days",connections:{onUpdate:["upcomingAbsent"]},widgets:{filter:!1,add:!0,download:!1,remove:!0,massEdit:!1,pagination:Se,counter:!0,pageSize:3,sort:!0,edit:!0},title:"Pending Vacations",primaryLabels:["driver","dateFrom","dateTo","verified"],labels:{driver:{nanoid:Object(Oe.e)(),id:"driver",text:"Driver",type:"constant",maxWidth:"200px"},dateFrom:{nanoid:Object(Oe.e)(),id:"dateFrom",text:"From",type:"date",maxWidth:"90px",minWidth:"90px",format:We},dateTo:{nanoid:Object(Oe.e)(),id:"dateTo",text:"To",type:"date",maxWidth:"90px",minWidth:"90px",format:We},verified:{nanoid:Object(Oe.e)(),id:"verified",text:"verified",type:"customComponent",maxWidth:"100px",minWidth:"100px"}}},upcomingAbsent:{url:Ee+"absent-days",widgets:{filter:!1,add:!0,download:!1,remove:!0,massEdit:!1,pagination:Se,counter:!0,pageSize:3,sort:!0,edit:!0},rowClassName:function(e){var t=e.dateFrom,n=e.dateTo,a=(e.verified,fe()(t,"YYYY.MM.DD")),c=fe()(n,"YYYY.MM.DD"),r=fe()();return a.isBefore(r)&&c.isAfter(r)?"bg-quinary":""},title:"Upcoming Absents",primaryLabels:["dateFrom","dateTo","driver","reason"],secondaryLabels:[],labels:{driver:{nanoid:Object(Oe.e)(),id:"driver",text:"Driver",type:"constant",maxWidth:"200px"},dateFrom:{nanoid:Object(Oe.e)(),id:"dateFrom",text:"From",type:"date",maxWidth:"90px",minWidth:"90px",format:We},dateTo:{nanoid:Object(Oe.e)(),id:"dateTo",text:"To",type:"date",maxWidth:"90px",minWidth:"90px",format:We},reason:{nanoid:Object(Oe.e)(),id:"reason",text:"reason",type:"text",maxWidth:"90px",minWidth:"90px"}}}};var $e=["id"],et=["id"];function tt(e,t,n){var a=Object(r.useState)("loading"),c=Object(m.a)(a,2),s=c[0],i=c[1],l=Object(o.b)(),d=Object(M.b)().getHeader;return Object(r.useEffect)((function(){console.log("loading"),i("loading"),d().then((function(a){switch(e){case"messages":(function(e,t,n){var a=e.fetchUsers;return t(a(n))})(t,l,a).then((function(){return i("success")})).catch((function(e){i("error")}));break;case"workHoursTable":(function(e,t,n,a){var c=e.fetchMeta,r=e.fetchAndInitEntityGrid,s=e.addMeta,i=e.clearTables,l=e.fetchDrivers,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fe()();return t(i()),t(c({header:n,labels:["vehicle","workPlant","dischargeType"]})).then((function(){return t(l(n)).then((function(e){var c,i=e.payload;i.sort((function(e,t){return(e.name||e.email).localeCompare(t.name||t.email)}));var l=a||(null===(c=i[0])||void 0===c?void 0:c.uid),d=o.format("YYYY.MM"),u={driver:{eq:[l]}},j=Object(p.a)(Object(p.a)({},u),{},{date:{gte:d+".01",lte:d+".31"}}),b=Object(p.a)(Object(p.a)({},u),{},{reason:{neq:["vacations"]}}),m=Object(p.a)(Object(p.a)({},u),{},{reason:{eq:["vacations"]}}),h=Object(p.a)(Object(p.a)({},u),{},{date:{eq:[o.format("YYYY")]}}),O=Object(p.a)(Object(p.a)({},u),{},{date:{eq:[o.format("YYYY")]}}),x={driver:l},f={driver:l,reason:"vacations",verified:1},v={driver:l,reason:"vacations"};return t(r({entityId:"workHours",url:Ve("workHours"),limit:qe("workHours").pageSize,page:0,initialFilters:j,initialSort:{id:"date",order:"desc"},postInitialValues:x,header:n,date:fe()().toISOString()})).then((function(){return t(r({entityId:"absent",url:Ve("absent"),limit:qe("absent").pageSize,page:0,initialFilters:b,initialSort:{id:"dateFrom",order:"desc"},header:n,postInitialValues:f}))})).then((function(){return t(r({entityId:"vacations",url:Ve("vacations"),limit:qe("vacations").pageSize,page:0,initialFilters:m,initialSort:{id:"dateFrom",order:"desc"},header:n,postInitialValues:v}))})).then((function(){return t(r({entityId:"vacationsOverview",url:Ve("vacationsOverview"),limit:qe("vacationsOverview").pageSize,page:0,initialFilters:O,header:n}))})).then((function(){return t(r({entityId:"workHoursBank",url:Ve("workHoursBank"),limit:qe("workHoursBank").pageSize,page:0,initialFilters:h,initialSort:{id:"date",order:"asc"},header:n}))})).then((function(){return t(s([{id:"driver",value:null===i||void 0===i?void 0:i.find((function(e){return e.uid===l}))}]))}))}))}))})(t,l,a,n).then((function(){return i("success")})).catch((function(e){i("error")}));break;case"toursTable":(function(e,t,n){var a=e.fetchAndInitEntityGrid,c=e.fetchMeta,r=e.clearTables,s=e.fetchDrivers,i=fe()().toISOString(),l=fe()().format("YYYY.MM"),o={date:{gte:l+".01",lte:l+".31"}};return t(r()),t(c({header:n,labels:["vehicle","workPlant","dischargeType"]})).then((function(){return t(s(n)).then((function(e){var c=e.payload;return t(a({entityId:"tours",url:Ve("tours"),limit:qe("tours").pageSize,page:0,initialFilters:o,initialSort:{id:"date",order:"desc"},date:i,header:n,drivers:c}))}))}))})(t,l,a).then((function(){return i("success")})).catch((function(e){i("error")}));break;case"overviewTable":(function(e,t,n){var a=e.fetchAndInitEntityGrid,c=e.fetchMeta,r=e.addMeta,s=e.fetchDrivers,i={date:{eq:[fe()().format("YYYY.MM")]}},l={method:"GET",headers:n},o=[fetch("http://localhost:8090/tours/cbm?date="+fe()().format("YYYY.MM"),l),fetch("http://localhost:8090/tours/cbm?date="+fe()().subtract(1,"months").format("YYYY.MM"),l),fetch("http://localhost:8090/tours/cbm?date="+fe()().subtract(2,"months").format("YYYY.MM"),l),fetch("http://localhost:8090/tours/cbm-by-work-plant?date="+fe()().format("YYYY"),l),fetch("http://localhost:8090/tours/cbm-year/?date="+fe()().format("YYYY"),l)],d={reason:{eq:["vacations"]},dateFrom:{gte:[fe()().format("YYYY.MM.DD")]},verified:{eq:[0]}},u={dateFrom:{gte:[fe()().format("YYYY.MM.DD")]},verified:{eq:[1]}},j=function(e){return[t(c({header:n,labels:["vehicle","workPlant","dischargeType"]})),t(a(Object(p.a)({entityId:"workHoursByDate",url:Ve("workHoursByDate"),limit:qe("workHoursByDate").pageSize,page:0,initialFilters:i,initialSort:{id:"hours",order:"asc"},header:n,date:fe()().toISOString()},e))),t(a(Object(p.a)({entityId:"pendingVacations",url:Ve("pendingVacations"),limit:qe("pendingVacations").pageSize,page:0,initialSort:{id:"dateFrom",order:"asc"},initialFilters:d,postInitialValues:{reason:"vacations"},header:n},e))),t(a(Object(p.a)({entityId:"upcomingAbsent",url:Ve("upcomingAbsent"),limit:qe("upcomingAbsent").pageSize,page:0,initialSort:{id:"dateFrom",order:"asc"},initialFilters:u,postInitialValues:{verified:1},header:n},e)))]},b=["currentMonth","lastMonth","twoMonthsAgo","byWorkPlant","year"];function m(e,n,a){return Promise.all(e).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){t(r([Object(p.a)({id:a},e.map((function(e,t){return Object(he.a)({},n[t],e.data)})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}))]))}))}return t(s(n)).then((function(e){var t=e.payload;return m(o,b,"cbm").then((function(){return Promise.all(j({drivers:t}))}))}))})(t,l,a).then((function(){return i("success")})).catch((function(e){i("error")}));break;case"settingsTable":(function(e,t,n){var a=e.fetchAndInitEntityGrid,c=e.clearTables,r=(e.fetchMeta,fe()().toISOString()),s=fe()().format("YYYY.MM"),i={date:{gte:s+".01",lte:s+".31"}},l={countryCode:"DE"};return t(c()),t(a({entityId:"publicHolidays",url:Ve("publicHolidays"),limit:qe("publicHolidays").pageSize,initialFilters:i,initialSort:{id:"date",order:"desc"},header:n,postInitialValues:l,date:r})).then((function(){return t(a({entityId:"settingsVehicle",url:Ve("settingsVehicle"),header:n,initialFilters:{id:{eq:["vehicle"]}}})).then((function(){return t(a({entityId:"settingsWorkPlant",url:Ve("settingsWorkPlant"),header:n,initialFilters:{id:{eq:["workPlant"]}}}))})).then((function(){return t(a({entityId:"settingsDischargeType",url:Ve("settingsDischargeType"),header:n,initialFilters:{id:{eq:["dischargeType"]}}}))}))}))})(t,l,a).then((function(){return i("success")})).catch((function(e){i("error")}));break;case"usersTable":(function(e,t,n){var a=e.fetchAndInitEntityGrid,c=e.clearTables,r=e.fetchMeta,s=fe()().toISOString();return t(c()),t(r({header:n,labels:["vehicle","workPlant","dischargeType"]})).then((function(){return t(a({entityId:"users",url:Ve("users"),page:0,limit:qe("users").pageSize,header:n,initialSort:{id:"name",order:"desc"},date:s}))}))})(t,l,a).then((function(){return i("success")})).catch((function(e){i("error")}));break;case"settings":(function(e,t,n){var a=e.fetchMeta,c=e.fetchDrivers;return t(a({header:n,labels:["vehicle","workPlant","dischargeType"]})).then((function(){return t(c(n))}))})(t,l,a).then((function(){return i("success")})).catch((function(e){i("error")}));break;default:i("error")}})).catch((function(e){return i("error")}))}),[l,n,e,t,d]),s}function nt(e){var t=e.data,n=e.meta,a=ct(t,e.drivers),c=Object.keys(a),r=rt(a),s=c.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t,Object(p.a)({id:Object(Oe.e)()},Object.values(r[t]).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t,""))}),{}))))}),{}),i=function(e,t){return e.map((function(e){return Object(he.a)({},e,Object.keys(t[e]).reduce((function(n,a){return Xe(e)[a]?[].concat(Object(me.a)(n),[Object(p.a)(Object(p.a)({},Qe(e,a)),{},{links:Je(e,a)&&Je(e,a).map((function(n){var a=n.connection,c=n.dependencies;return{connectionIdx:a,connection:t[e][a],dependencies:c.map((function(n){return t[e][n]}))}})),id:t[e][a]})]):Object(me.a)(n)}),[]))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{})}(c,r),l=c.map((function(e){return i[e]})).reduce((function(e,t){return[].concat(Object(me.a)(e),Object(me.a)(t))}),[]),o=st(a,r),d=function(e,t,n,a,c){return Object.keys(e).map((function(e){var r=c[e].map((function(e){return e.id})),s=t[e].map((function(e){return e.id})),i=t[e].filter((function(e){return!e.hidden})).map((function(e){return e.id})),l=t[e].filter((function(e){return e.hidden})).map((function(e){return e.id})),o=t[e].reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t.idx,t.id))}),{});return Object(p.a)({id:e,labels:s,sortedRowsIds:c[e].map((function(e){return e.id})),rows:c[e].reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t.id,Object(p.a)({},t)))}),{}),permaHiddenLabels:l,selectedRows:qe(e).massEdit?r:[],selectedLabels:i,nanoids:o,addRow:Object(he.a)({},a[e].id,a[e]),memory:{}},n)}))}(a,i,n,s,o);return{labels:l,tables:d,modes:c.map((function(e){return{id:e,value:"idle"}}))}}function at(e){var t=e.data,n=e.meta,a=ct(t,e.drivers),c=Object.keys(a),r=function(e,t,n){return Object.keys(e).map((function(e){return Object(p.a)({id:e,sortedRowsIds:n[e].map((function(e){return e.id})),rows:n[e].reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t.id,Object(p.a)({},t)))}),{})},t)}))}(a,n,st(a,rt(a)));return{tables:r,modes:c.map((function(e){return{id:e,value:"idle"}}))}}function ct(e,t){return Object.keys(e).map((function(n){return Object(he.a)({},n,e[n].map((function(e){var a,c,r=e.id,s=void 0===r?Object(Oe.e)():r,i=Object(v.a)(e,$e),l=function(e){var n=0===i[e]?"0":"boolean"==typeof i[e]?i[e]?"true":"false":i[e];if("driver"===e){var a=null===t||void 0===t?void 0:t.find((function(e){return e.uid===n}));return(null===a||void 0===a?void 0:a.name)||(null===a||void 0===a?void 0:a.email)||n}return n},o=Xe(n),d=Object.keys(i).filter((function(e){return _e(n).includes(e)})),u=null===(a=Ze[n].secondaryLabels||[])||void 0===a?void 0:a.filter((function(e){var t,n;return null===(t=o[e])||void 0===t||null===(n=t.dependencies)||void 0===n?void 0:n.map((function(e){return d.includes(e)})).reduce((function(e,t){return e&&t}),!0)})),j=null===(c=function(e){return Ze[e].tertiaryLabels||[]}(n))||void 0===c?void 0:c.filter((function(e){var t,n;return null===(t=o[e])||void 0===t||null===(n=t.dependencies)||void 0===n?void 0:n.map((function(e){return d.includes(e)})).reduce((function(e,t){return e&&t}),!0)})),b=d.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t,l(t)||""))}),{}),m=null===u||void 0===u?void 0:u.reduce((function(e,t){var n=o[t].fn,a=[l(t)].concat(Object(me.a)(o[t].dependencies.map((function(e){return l(e)}))));return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t,l(t)||n(a)))}),{}),h=null===j||void 0===j?void 0:j.reduce((function(e,t){var n=o[t].fn,a=[l(t)].concat(Object(me.a)(o[t].dependencies.map((function(e){return l(e)}))));return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t,n(a)))}),{});return Object(p.a)(Object(p.a)(Object(p.a)({id:s},b),m),h)})))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{})}function rt(e){return Object.keys(e).map((function(e){return Object(he.a)({},e,Object.keys(Xe(e)).reduce((function(t,n){return Object(p.a)(Object(p.a)({},t),{},Object(he.a)({},n,Xe(e)[n].nanoid))}),{}))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{})}function st(e,t){return Object.keys(e).map((function(n){return Object(he.a)({},n,e[n].map((function(e){var a=e.id,c=Object(v.a)(e,et),r=Object.keys(c).map((function(e){return Object(he.a)({},t[n][e],c[e])})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{});return Object(p.a)({id:a+""},r)})))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{})}function it(e,t){var n;return"vacationsOverview"===t?Object(he.a)({},t,[Object(p.a)({id:Object(Oe.e)()},e)]):"upcomingVacations"===t?Object(he.a)({},t,Object.values(e)):"settingsVehicle"===t?Object(he.a)({},t,(null===e||void 0===e?void 0:e.length)&&e[0].values&&e[0].values[0]?JSON.parse(e[0].values[0]).map((function(e){return{id:Object(Oe.e)(),vehicle:e}})):[]):"settingsWorkPlant"===t?Object(he.a)({},t,(null===e||void 0===e?void 0:e.length)&&e[0].values&&e[0].values[0]?JSON.parse(e[0].values[0]).map((function(e){return{id:Object(Oe.e)(),workPlant:e}})):[]):"settingsDischargeType"===t?Object(he.a)({},t,(null===e||void 0===e?void 0:e.length)&&e[0].values&&e[0].values[0]?JSON.parse(null===(n=e[0])||void 0===n?void 0:n.values[0]).map((function(e){return{id:Object(Oe.e)(),dischargeType:e}})):[]):"users"===t?Object(he.a)({},t,e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{id:e.uid,vehicle:e.claims.vehicle||"",workPlant:e.claims.workPlant||"",vacationDays:e.claims.vacationDays||""})}))):Object(he.a)({},t,Object.values(e))}function lt(e,t){return e&&e.id===t?"asc"===e.order?{id:t,order:"desc"}:{id:t}:{id:t,order:"asc"}}function ot(e,t){return e&&e.order?"&sort="+e.id+","+e.order:t&&t.id&&t.order&&"&sort="+t.id+","+t.order||""}function dt(e,t){var n=t.label,a=t.value,c=t.action,r=t.gte,s=t.lte;return e&&e[n]?"toggle"===c?e[n].neq&&e[n].neq.includes(a[0])?Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,Object(p.a)(Object(p.a)({},e[n]),{},{neq:e[n].neq.filter((function(e){return e!==a[0]}))}))):Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,Object(p.a)(Object(p.a)({},e[n]),{},{neq:[].concat(Object(me.a)(e[n].neq),[a[0]])}))):"toggleAll"===c?Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,Object(p.a)(Object(p.a)({},e[n]),{},{neq:e[n].neq&&e[n].neq.length===a.length?[]:a}))):Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,{gte:r,lte:s})):Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,{neq:a&&Object(me.a)(a),gte:r,lte:s}))}function ut(e,t){var n=e?Object.entries(e).reduce((function(e,n){var a=n[0],c=n[1],r=c.neq,s=c.gte,i=c.lte,l=c.eq;return e+(l&&0!==l.length?"&"+a+"="+l.join(","):t&&t[a]&&t[a].eq&&0!==t[a].eq.length&&"&"+a+"="+t[a].eq.join(",")||"")+(r&&0!==r.length?"&"+a+"_ne="+r.join(","):t&&t[a]&&t[a].neq&&0!==t[a].neq.length&&"&"+a+"_ne="+t[a].neq.join(",")||"")+(s?"&"+a+"_gte="+s:t&&t[a]&&t[a].gte&&"&"+a+"_gte="+t[a].gte||"")+(i?"&"+a+"_lte="+i:t&&t[a]&&t[a].lte&&"&"+a+"_lte="+t[a].lte||"")}),""):"";return""!==n?n.substring(1,n.length):n}function jt(e){var t=e.res,n=e.page,a=e.limit;return{rowsCount:t.totalElements,page:n+1,limit:a,pagesCount:t.totalPages-1}}var bt=["entityId","filters","initialFilters","initialSort","header"],mt=["entityId","url","page","limit","initialFilters","initialSort","header"],ht=["data","entityId"],Ot=["data","entityId"],xt="http://localhost:8090/";var ft=function(e){var t,n=Object(Oe.c)(),a=Object(Oe.c)(),c=Object(Oe.c)(),r=Object(Oe.c)(),s=Object(Oe.c)(),i=Object(Oe.c)(),l=Object(Oe.c)(),o=Object(Oe.c)(),d=n.getSelectors((function(t){return t[e].meta})),u=a.getSelectors((function(t){return t[e].users})),j=c.getSelectors((function(t){return t[e].tables})),b=r.getSelectors((function(t){return t[e].dates})),m=s.getSelectors((function(t){return t[e].labels})),h=i.getSelectors((function(t){return t[e].changes})),O=l.getSelectors((function(t){return t[e].modes})),x=o.getSelectors((function(t){return t[e].filters})),f=function(e,t){return l.getSelectors().selectById(e.modes,t)},g=function(e,t){return c.getSelectors().selectById(e.tables,t)},y=Object(Oe.b)("data/fetchUpdatedEntity",function(){var t=Object(re.a)(ce.a.mark((function t(n,a){var r,s,i,l,o,d,u,j,b,m,h,O,x,f,g,y,w,N,k,C,Y,S;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.entityId,n.filters,s=n.initialFilters,i=n.initialSort,l=n.header,o=Object(v.a)(n,bt),d=a.getState(),u=c.getSelectors().selectById(d[e].tables,r),j=u.sort,b=u.filters,m=u.initialFilters,h=u.initialSort,O=u.pagination,0,x=null===O||void 0===O?void 0:O.limit,f=Object(p.a)({},b),g=Object(p.a)(Object(p.a)({},m),s),y=Object(p.a)(Object(p.a)({},h),i),w=ut(Object(p.a)(Object(p.a)({},m),g)),N=ot(j,y),k=Ve(r),Y=k+(""!==(C=w+N+(x?"&page=0&size="+x:"")).trim()?"?"+C:""),S={method:"GET",headers:l},t.next=17,fetch(Y,S).then((function(e){return e.json().then((function(e){var t=e.data;return Object(p.a)(Object(p.a)({data:t.content||t,entityId:r,initialSort:y,initialFilters:g,filters:f,pagination:x&&jt({res:t,page:0,limit:x})},o),o)}))}));case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),w=Object(Oe.b)("data/fetchAndInitEntityGrid",function(){var t=Object(re.a)(ce.a.mark((function t(n,a){var r,s,i,l,o,d,u,j,b,m,h,O,x,f,g,y;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.entityId,s=n.url,i=n.page,l=n.limit,o=n.initialFilters,d=n.initialSort,u=n.header,j=Object(v.a)(n,mt),b=a.getState(),m=Object(p.a)(Object(p.a)({},c.getSelectors().selectById(b[e].tables,r).initialFilters),o),h=Object(p.a)(Object(p.a)({},c.getSelectors().selectById(b[e].tables,r).initialSort),d),O=ut(m),x=ot(h),g=s+(""!==(f=O+x+(null!==i&&void 0!==i&&l?"&page="+i+"&size="+l:"")).trim()?"?"+f:""),y={method:"GET",headers:u},t.next=12,fetch(g,y).then((function(e){return e.json().then((function(e){var t=e.data;if(200!==e.status)throw new Error("stop the work, this has been aborted!");return Object(p.a)({data:t.content||t,entityId:r,initialFilters:m,initialSort:h,pagination:null!==i&&void 0!==i&&l&&jt({res:t,page:i,limit:l})},j)}))})).catch((function(){return{data:[],entityId:r}}));case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),N=Object(Oe.b)("data/fetchMeta",function(){var e=Object(re.a)(ce.a.mark((function e(t){var n,a,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.header,a=t.labels,c={method:"GET",headers:n},e.next=4,fetch(xt+"settings",c).then((function(e){return e.json().then((function(e){var t=e.status,n=e.data;if(200!==t)throw new Error("stop the work, this has been aborted!");return{data:n,labels:a}}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=Object(Oe.b)("data/fetchDrivers",function(){var e=Object(re.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:t},e.next=3,fetch(xt+"users/byRole/ROLE_DRIVER",n).then((function(e){return e.json().then((function(e){var t=e.status,n=e.data;if(200!==t)throw new Error("stop the work, this has been aborted!");return n}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(Oe.b)("data/fetchUsers",function(){var e=Object(re.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:t},e.next=3,fetch(xt+"users",n).then((function(e){return e.json().then((function(e){return e.data}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Y=Object(Oe.b)("data/postRows",function(){var e=Object(re.a)(ce.a.mark((function e(t,n){var a,c,r,s,i,l;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.entityId,c=t.header,o={entityId:a,state:n.getState(),tablesSelector:j,labelsSelector:m,changesSelector:h,metaSelector:d},r=(Ze[o.entityId].postMapper||Fe)(o),s=r.url,i=r.options,l=Object(p.a)({headers:c},i),e.next=5,fetch(s,l).then((function(e){return e.json()}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}var o}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(Oe.b)("data/deleteRows",function(){var e=Object(re.a)(ce.a.mark((function e(t,n){var a,c,r,s,i,l;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.entityId,c=t.header,o={entityId:a,state:n.getState(),tablesSelector:j,labelsSelector:m,changesSelector:h,metaSelector:d},r=(Ze[o.entityId].deleteMapper||Pe)(o),s=r.url,i=r.options,l=Object(p.a)({headers:c},i),e.next=5,fetch(s,l).then((function(e){return e.json()}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}var o}),e)})));return function(t,n){return e.apply(this,arguments)}}()),M=Object(Oe.b)("data/fetchUpdatedEntity",function(){var t=Object(re.a)(ce.a.mark((function t(n,a){var r,s,i,l,o,d,u,j,b,m,h,O,x,f,v,g;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.entityId,s=n.page,i=void 0===s?"1":s,l=n.header,o=a.getState(),d=c.getSelectors().selectById(o[e].tables,r),u=d.sort,j=d.filters,b=d.initialFilters,m=d.initialSort,h=d.pagination.limit,O=ut(Object(p.a)(Object(p.a)({},b),j),b),x=Ve(r),f=ot(u,m),i&&parseInt(i)-1>0?parseInt(i)-1:0,v=x+"?"+(O+f+(null!==i&&void 0!==i&&h?"&page="+i+"&size="+h:"")),g={method:"GET",headers:l},t.next=13,fetch(v,g).then((function(e){return e.json().then((function(e){var t=e.data;return{data:t.content||t,entityId:r,filters:j,initialFilters:b,pagination:null!==i&&void 0!==i&&h&&jt({res:t,page:i,limit:h}),sort:u,selectedRows:[]}}))})).catch((function(){return{data:[],entityId:r}}));case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),I=Object(Oe.b)("data/fetchUpdatedEntity",function(){var t=Object(re.a)(ce.a.mark((function t(a,r){var s,i,l,o,d,u,j,b,m,h,O,x,f,v,g,y,w,N,k,C,Y,S,M,I,D;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.entityId,l=a.filter,o=l.label,d=l.value,u=l.action,j=l.gte,b=l.lte,m=a.header,h=r.getState(),O=c.getSelectors().selectById(h[e].tables,i),x=O.filters,f=O.sort,v=O.initialFilters,g=O.initialSort,y=O.pagination,w=Ve(i),0,N=null===y||void 0===y?void 0:y.limit,k=o&&c.getSelectors().selectById(h[e].labels,o).idx,C="resetAll"===u?null:dt(x,{label:k,value:"toggleAll"!==u?[d]:"driver"===k?null===(s=n.getSelectors().selectById(h[e].meta,"drivers").drivers)||void 0===s?void 0:s.map((function(e){return e.uid})):n.getSelectors().selectById(h[e].meta,"settings")&&n.getSelectors().selectById(h[e].meta,"settings")[k],gte:j,lte:b,action:u}),Y=ut(Object(p.a)(Object(p.a)({},v),C),v),S=ot(f,g),I=w+(""!==(M=Y+S+(N?"&page=0&size="+N:"")).trim()?"?"+M:""),D={method:"GET",headers:m},t.next=16,fetch(I,D).then((function(e){return e.json().then((function(e){var t=e.data;return{data:t.content||t,entityId:i,filters:C,initialFilters:v,pagination:N&&jt({res:t,page:0,limit:N}),url:w,sort:f}}))}));case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),D=Object(Oe.b)("data/fetchUpdatedEntity",function(){var t=Object(re.a)(ce.a.mark((function t(n,a){var r,s,i,l,o,d,u,j,b,m,h,O,x,f,v,g,y,w,N,k,C,Y,S,M;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.entityId,s=n.labelId,i=n.header,l=a.getState(),o=c.getSelectors().selectById(l[e].tables,r),d=o.filters,u=o.sort,j=o.initialFilters,b=o.initialSort,m=o.pagination,h=null===m||void 0===m?void 0:m.page,O=null===m||void 0===m?void 0:m.limit,x=Ve(r),f=ut(Object(p.a)(Object(p.a)({},j),d),j),v=c.getSelectors().selectById(l[e].labels,s),g=v.idx,y=lt(u,g),w=ot(y,b),N=y.id,k=y.order,C=null!==h&&void 0!==h&&O?"&page="+(parseInt(h)-1)+"&size="+O:"",S=x+(""!==(Y=f+w+C).trim()?"?"+Y:""),M={method:"GET",headers:i},t.next=17,fetch(S,M).then((function(e){return e.json().then((function(e){var t=e.data;return{data:t.content||t,entityId:r,filters:d,initialFilters:j,initialSort:b,pagination:null!==h&&void 0!==h&&O&&jt({res:t,page:parseInt(h)-1,limit:O}),url:x,sort:k&&{id:N,order:k}}}))})).catch((function(e){return{data:[],entityId:r,initialFilters:j,initialSort:b,filters:d,url:x,pagination:{page:h,limit:O,rowsCount:0,pagesCount:0},sort:""!==k&&("initial"!==k?{id:g,order:k}:Object(p.a)({},b))}}));case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),E=Object(Oe.d)({name:e,initialState:{meta:n.getInitialState(),tables:c.getInitialState(),dates:r.getInitialState(),labels:s.getInitialState(),changes:i.getInitialState(),modes:l.getInitialState(),filters:o.getInitialState(),users:a.getInitialState()},extraReducers:(t={},Object(he.a)(t,N.fulfilled,(function(e,t){var a=t.payload,c=a.data,r=a.labels;e.loading=!1;var s=null===c||void 0===c?void 0:c.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t.id,t.values))}),{}),i=(r||Object.keys(s)).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t,JSON.parse(s[t])))}),{});n.upsertOne(e.meta,Object(p.a)({id:"settings"},i))})),Object(he.a)(t,k.fulfilled,(function(e,t){var a=t.payload;e.loading=!1;var c=a.map((function(e){return{name:e.name,email:e.email,uid:e.uid}})).sort((function(e,t){return(e.name||e.email).localeCompare(t.name||t.email)}))||[];n.upsertOne(e.meta,{id:"drivers",drivers:c})})),Object(he.a)(t,C.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,n&&a.setMany(e.users,n.map((function(e){return Object(p.a)({id:e.uid},e)})))})),Object(he.a)(t,w.pending,(function(e,t){var n=t.meta.arg.entityId;c.upsertOne(e.tables,{id:n,loading:!0})})),Object(he.a)(t,w.fulfilled,(function(e,t){var n=t.payload,a=n.data,r=n.entityId,i=Object(v.a)(n,ht);console.log("fullfiled",r);var o=it(a,r),d=null===i||void 0===i?void 0:i.drivers,u=nt({data:o,meta:Object(p.a)(Object(p.a)({},i),{},{loading:!1}),drivers:d}),j=u.tables,b=u.labels,m=u.modes;c.setMany(e.tables,j),s.setMany(e.labels,b),l.setMany(e.modes,m),e.loading=!1})),Object(he.a)(t,y.fulfilled,(function(e,t){var a=t.payload,r=a.data,s=a.entityId,i=Object(v.a)(a,Ot);console.log("fullfiled",s);var o=it(r,s),d=n.getSelectors().selectById(e.meta,"drivers"),u=at({data:o,meta:Object(p.a)(Object(p.a)({},i),{},{loading:!1}),drivers:null===d||void 0===d?void 0:d.drivers}),j=u.tables,b=u.modes;c.upsertMany(e.tables,j),l.upsertMany(e.modes,b),e.loading=!1})),Object(he.a)(t,Y.fulfilled,(function(e,t){var n,a=t.meta.arg;e.loading=!1,console.log("post done",a);var r=g(e,a.entityId),s=r.changes,o=r.addRow;c.upsertOne(e.tables,{id:a.entityId,changes:[]}),i.removeMany(e.changes,[].concat(Object(me.a)(s),[o]));var d=null===(n=g(e,a.entityId).memory)||void 0===n?void 0:n.selectedLabels;c.upsertOne(e.tables,{id:a.entityId,memory:{selectedLabels:[]}}),c.upsertOne(e.tables,{id:a.entityId,selectedLabels:d}),l.upsertOne(e.modes,{id:a.entityId,value:!1})})),Object(he.a)(t,S.fulfilled,(function(e,t){var n=t.meta.arg;e.loading=!1;var a=g(e,n.entityId),r=a.changes,s=a.selectedRows,i={id:n.entityId,selectedRows:[],changes:r&&r.filter((function(e){return!s.includes(e)}))};c.upsertOne(e.tables,i),l.upsertOne(e.modes,{id:n.entityId,value:!1})})),t),reducers:{addInitialFilter:function(e,t){var n=t.payload,a=n.id,r=n.filter,s=g(e,a).initialFilters;c.upsertOne(e.tables,{id:a,initialFilters:Object(p.a)(Object(p.a)({},s),r)})},changeCurrentUser:function(e,t){n.upsertOne(e.meta,{id:"user",value:t.payload})},toggleColumn:function(e,t){var n=t.payload,a=n.id,r=n.columnId,s=g(e,a).selectedLabels;"addRow"===f(e,a).value&&l.upsertOne(e.modes,{id:a,value:"idle"});var i=s.includes(r)?s.filter((function(e){return e!==r})):[].concat(Object(me.a)(s),[r]);c.upsertOne(e.tables,{id:a,selectedLabels:i})},changeMode:function(e,t){var n=t.payload,a=n.entityId,r=n.mode,s=f(e,a).value;if("edit"===r||"addRow"===r){var i=g(e,a).labels,o=g(e,a).selectedLabels;c.upsertOne(e.tables,{id:a,memory:{selectedLabels:o}}),c.upsertOne(e.tables,{id:a,selectedLabels:i})}else{var d,u=null===(d=g(e,a).memory)||void 0===d?void 0:d.selectedLabels;c.upsertOne(e.tables,{id:a,memory:{selectedLabels:[]}}),c.upsertOne(e.tables,{id:a,selectedLabels:u})}l.upsertOne(e.modes,{id:a,value:"edit"===r?"edit"===s?"idle":"edit":r})},toggleAllChecked:function(e,t){var n=t.payload;console.log("ToggleAll",n);var a=g(e,n).selectedRows,r=Object.keys(g(e,n).rows),s=(!a||a.length>=0&&a.length<r.length)&&r||[];c.updateOne(e.tables,{id:n,changes:{selectedRows:s}})},closeAllChecked:function(e,t){var n=t.payload;c.updateOne(e.tables,{id:n,changes:{selectedRows:[]}})},setSelectedRows:function(e,t){var n=t.payload,a=n.id,r=n.rows;c.updateOne(e.tables,{id:a,changes:{selectedRows:r}})},onSelectRow:function(e,t){var n=t.payload,a=n.id,r=n.rowId,s=g(e,a).selectedRows,i=s.includes(r)?s.filter((function(e){return e!==r})):[].concat(Object(me.a)(s),[r]);c.updateOne(e.tables,{id:a,changes:{selectedRows:i}})},addChange:function(e,t){var n=t.payload,a=n.id,r=n.rowId,l=n.changes,o=l.labelId,d=l.value,u=g(e,a).changes||[],j=u.includes(r)?u:u.concat(r),b=function(e,t){return i.getSelectors().selectById(e.changes,t)}(e,r),m=g(e,a).rows[r],h=Object(p.a)(Object(p.a)({},m),b),O=function(e,t){return s.getSelectors().selectById(e.labels,t)}(e,o),x=O.links,f=void 0===x?[]:x,v=(O.idx,Object(p.a)(Object(he.a)({},o,d),f.reduce((function(e,t){var n=t.connection,c=t.connectionIdx,r=t.dependencies,s=Ke(a,c);return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,s([null].concat(Object(me.a)(r.map((function(e){return e===o?d:h[e]})))))))}),{})));c.upsertOne(e.tables,{id:a,changes:j}),i.upsertOne(e.changes,Object(p.a)({id:r},v))},resetChanges:function(e,t){var n=t.payload,a=g(e,n).changes||[];i.removeMany(e.changes,a),c.upsertOne(e.tables,{id:n,changes:[]})},addMeta:function(e,t){n.upsertMany(e.meta,t.payload)},addTableDate:function(e,t){var n=t.payload,a=n.id,r=n.date;c.upsertOne(e.tables,{id:a,date:r})},clearTables:function(e){c.removeAll(e.tables),s.removeAll(e.tables),i.removeAll(e.changes),l.removeAll(e.modes)}}});return{slice:E,selectors:{tablesSelector:j,labelsSelector:m,datesSelector:b,changesSelector:h,modesSelector:O,filtersSelector:x,usersSelector:u,metaSelector:d},reducer:E.reducer,actions:Object(p.a)(Object(p.a)({},E.actions),{},{fetchUsers:C,fetchMeta:N,fetchDrivers:k,fetchAndInitEntityGrid:w,fetchUpdatedEntity:y,fetchSortedEntityGrid:D,fetchPage:M,fetchFiltered:I,postRows:Y,deleteRows:S})}}("gridTable");var pt=["roles"],vt=function(){!function(){var e=ft.actions,t=ft.selectors,n=tt("settings",e),a=Object(r.useState)(),c=Object(m.a)(a,2),s=c[0],i=c[1],l=Object(r.useCallback)((function(e){return t.metaSelector.selectById(e,"settings")||[]}),[t.metaSelector]),d=Object(o.c)(l);Object(r.useEffect)((function(){"success"===n&&i(d)}),[n])}();var e,t,n,a=Object(r.useRef)(),c=(Object(r.useRef)(),Object(r.useRef)(),Object(r.useState)("")),s=Object(m.a)(c,2),i=s[0],l=s[1],d=Object(r.useState)(!1),u=Object(m.a)(d,2),b=u[0],h=u[1],O=(Object(j.h)(),Object(ue.a)()),f=O.register,N=O.handleSubmit,k=O.setValue,C=(O.getValues,O.watch),Y=(O.formState.errors,Object(be.d)().registerUsers);function S(){return S=Object(re.a)(ce.a.mark((function e(t){var n,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.roles,a=Object(v.a)(t,pt),l(""),h(!0),Y(Object(p.a)(Object(p.a)({},a),{},{roles:n.split(", ")||[]})).then((function(e){console.log("Successfully updated user",e)})).catch((function(e){console.log("Error updating user:",e)})),h(!1);case 5:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}return Object(r.useEffect)((function(){f("email",{required:!0}),f("name",{required:!0}),f("password",{required:!0}),f("phoneNumber",{required:!1}),f("roles",{required:!0}),k("password","marmi1993")}),[]),Object(x.jsx)("main",{className:"w-100",children:Object(x.jsx)("section",{className:"d-flex align-items-center my-5 mt-lg-6 mb-lg-5",children:Object(x.jsx)(ee.a,{children:Object(x.jsx)(se.a,{className:"justify-content-center form-bg-image",style:{backgroundImage:"url(".concat(je,")")},children:Object(x.jsx)(ie.a,{xs:12,className:"d-flex align-items-center justify-content-center",children:Object(x.jsxs)("div",{className:"mb-4 mb-lg-0 bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500",children:[Object(x.jsx)("div",{className:"text-center text-md-center mb-4 mt-md-0",children:Object(x.jsx)("h3",{className:"mb-0",children:"Create an account"})}),i&&Object(x.jsx)(de.a,{variant:"danger",children:i}),Object(x.jsxs)(le.a,{className:"mt-4",onSubmit:N((function(e){return S.apply(this,arguments)})),children:[Object(x.jsxs)(le.a.Group,{id:"name",className:"mb-3",children:[Object(x.jsx)(le.a.Label,{children:"Name"}),Object(x.jsxs)(oe.a,{children:[Object(x.jsx)(oe.a.Text,{children:Object(x.jsx)(y.a,{icon:g.T})}),Object(x.jsx)(le.a.Control,{required:!0,type:"text",placeholder:"Name",value:C("name")||"",onChange:function(e){return k("name",e.target.value)}})]})]}),Object(x.jsxs)(le.a.Group,{id:"password",className:"mb-3",children:[Object(x.jsx)(le.a.Label,{children:"Password"}),Object(x.jsxs)(oe.a,{children:[Object(x.jsx)(oe.a.Text,{children:Object(x.jsx)(y.a,{icon:g.S})}),Object(x.jsx)(le.a.Control,{type:"text",placeholder:"Password",value:C("password")||"",onChange:function(e){return k("password",e.target.value)}})]})]}),Object(x.jsxs)(le.a.Group,{id:"email",className:"mb-3",children:[Object(x.jsx)(le.a.Label,{children:"Email"}),Object(x.jsxs)(oe.a,{children:[Object(x.jsx)(oe.a.Text,{children:Object(x.jsx)(y.a,{icon:g.w})}),Object(x.jsx)(le.a.Control,{ref:a,autoFocus:!0,required:!0,type:"email",placeholder:"example@company.com",value:C("email")||"",onChange:function(e){return k("email",e.target.value)}}),Object(x.jsx)(w.a,{className:"generate",disabled:!C("name"),onClick:function(){return k("email",C("name").replaceAll(" ",".")+"@bt.de")},children:Object(x.jsx)(y.a,{icon:g.K})})]})]}),Object(x.jsxs)(le.a.Group,{id:"phone",className:"mb-3",children:[Object(x.jsx)(le.a.Label,{children:"Phone Number"}),Object(x.jsxs)(oe.a,{children:[Object(x.jsx)(oe.a.Text,{children:Object(x.jsx)(y.a,{icon:g.I})}),Object(x.jsx)(le.a.Control,{value:C("phone")||"",type:"text",placeholder:"Phone Number",onChange:function(e){return k("phone",e.target.value)}})]})]}),Object(x.jsxs)(le.a.Group,{id:"roles",className:"mb-4",children:[Object(x.jsx)(le.a.Label,{children:"Roles"}),Object(x.jsxs)("div",{className:"d-flex flex-nowrap w-100 justify-content-between text-center",children:[Object(x.jsx)(w.a,{className:"col-3 p-1",variant:(null===(e=C("roles"))||void 0===e?void 0:e.includes("ROLE_ADMIN"))?"senary":"primary",onClick:function(){return k("roles",(C("roles")?C("roles")+", ":"")+"ROLE_ADMIN")},children:"Admin"}),Object(x.jsx)(w.a,{className:"col-3 p-1",variant:(null===(t=C("roles"))||void 0===t?void 0:t.includes("ROLE_USER"))?"senary":"primary",onClick:function(){return k("roles",(C("roles")?C("roles")+", ":"")+"ROLE_USER")},children:"User"}),Object(x.jsx)(w.a,{className:"col-3 p-1",variant:(null===(n=C("roles"))||void 0===n?void 0:n.includes("ROLE_DRIVER"))?"senary":"primary",onClick:function(){return k("roles",(C("roles")?C("roles")+", ":"")+"ROLE_DRIVER")},children:"Driver"})]})]}),Object(x.jsx)(w.a,{disabled:b,variant:"primary",type:"submit",className:"w-100",children:"Register User"})]})]})})})})})})},gt=n(186),yt=n.p+"static/media/404.59d1f9fd.svg",wt=function(){return Object(x.jsx)("main",{children:Object(x.jsx)("section",{className:"vh-100 d-flex align-items-center justify-content-center",children:Object(x.jsx)(ee.a,{children:Object(x.jsx)(se.a,{children:Object(x.jsx)(ie.a,{xs:12,className:"text-center d-flex align-items-center justify-content-center",children:Object(x.jsxs)("div",{children:[Object(x.jsx)(gt.a.Link,{as:d.b,to:I.path,children:Object(x.jsx)(h.a,{src:yt,className:"img-fluid w-75"})}),Object(x.jsxs)("h1",{className:"text-primary mt-5",children:["Page not ",Object(x.jsx)("span",{className:"fw-bolder",children:"found"})]}),Object(x.jsx)("p",{className:"lead my-4",children:"Oops! Looks like you followed a bad link. If you think this is a problem with us, please tell us."}),Object(x.jsxs)(w.a,{as:d.b,variant:"primary",className:"animate-hover",to:I.path,children:[Object(x.jsx)(y.a,{icon:g.s,className:"animate-left-3 me-3 ms-2"}),"Go back home"]})]})})})})})})},Nt=n.p+"static/media/500.d508258f.svg",kt=function(){return Object(x.jsx)("main",{children:Object(x.jsx)("section",{className:"vh-100 d-flex align-items-center justify-content-center",children:Object(x.jsx)(ee.a,{children:Object(x.jsxs)(se.a,{className:"align-items-center",children:[Object(x.jsxs)(ie.a,{xs:12,lg:5,className:"order-2 order-lg-1 text-center text-lg-left",children:[Object(x.jsxs)("h1",{className:"text-primary mt-5",children:["Something has gone ",Object(x.jsx)("span",{className:"fw-bolder",children:"seriously"})," ","wrong"]}),Object(x.jsx)("p",{className:"lead my-4",children:"It's always time for a coffee break. We should be back by the time you finish your coffee."}),Object(x.jsxs)(w.a,{as:d.b,variant:"primary",className:"animate-hover",to:I.path,children:[Object(x.jsx)(y.a,{icon:g.s,className:"animate-left-3 me-3 ms-2"}),"Go back home"]})]}),Object(x.jsx)(ie.a,{xs:12,lg:7,className:"order-1 order-lg-2 text-center d-flex align-items-center justify-content-center",children:Object(x.jsx)(h.a,{src:Nt,className:"img-fluid w-75"})})]})})})})},Ct=n(559),Yt=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(M.b)().login,a=Object(r.useState)(""),c=Object(m.a)(a,2),s=c[0],i=c[1],l=Object(r.useState)(!1),o=Object(m.a)(l,2),d=o[0],u=o[1],b=Object(j.h)(),h=Object(r.useState)("Your Email"),O=Object(m.a)(h,2),f=(O[0],O[1],Object(r.useState)("Your Password")),p=Object(m.a)(f,2);p[0],p[1];function v(){return(v=Object(re.a)(ce.a.mark((function a(c){return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,i(""),u(!0),a.next=6,n(e.current.value,t.current.value);case 6:b("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),i("Failed to log in");case 12:u(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))).apply(this,arguments)}return Object(x.jsx)("main",{className:"bg-primary h-100",children:Object(x.jsx)("section",{className:"d-flex align-items-center my-5 mt-lg-6 mb-lg-5",children:Object(x.jsx)(ee.a,{children:Object(x.jsx)(se.a,{className:"justify-content-center",children:Object(x.jsx)(ie.a,{xs:12,className:"d-flex align-items-center justify-content-center",children:Object(x.jsxs)("div",{className:"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500",children:[Object(x.jsx)("div",{className:"text-center text-md-center mb-4 mt-md-0",children:Object(x.jsx)("h3",{className:"mb-0",children:"Sign in to our platform"})}),s&&Object(x.jsx)(Ct.a,{variant:"danger",children:s}),Object(x.jsxs)(le.a,{className:"mt-4 test-io",onSubmit:function(e){return v.apply(this,arguments)},children:[Object(x.jsxs)(le.a.Group,{id:"email",className:"mb-4",children:[Object(x.jsx)(le.a.Label,{children:"Your Email"}),Object(x.jsxs)(oe.a,{children:[Object(x.jsx)(oe.a.Text,{children:Object(x.jsx)(y.a,{icon:g.w})}),Object(x.jsx)(le.a.Control,{className:"form-login bg-white",ref:e,required:!0,type:"email",placeholder:"Email"})]})]}),Object(x.jsx)(le.a.Group,{children:Object(x.jsxs)(le.a.Group,{id:"password",className:"mb-4",children:[Object(x.jsx)(le.a.Label,{children:"Your Password"}),Object(x.jsxs)(oe.a,{children:[Object(x.jsx)(oe.a.Text,{children:Object(x.jsx)(y.a,{icon:g.S})}),Object(x.jsx)(le.a.Control,{className:"form-login bg-white",ref:t,required:!0,type:"password",placeholder:"Password"})]})]})}),Object(x.jsx)(w.a,{disabled:d,variant:"primary",type:"submit",className:"w-100",children:"Sign in"})]})]})})})})})})},St=n(560),Mt=n(27),It=n.n(Mt),Dt=n(44),Et=n.n(Dt),Tt=n(113),Rt=n.n(Tt),Wt=n(235),Ft=n(138),Bt=["contacts","activeContact"],At=function(e){var t=e.contacts,n=e.activeContact,a=Object(v.a)(e,Bt);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"d-flex flex-column bg-gray-500",children:t.map((function(e){var t=n.uid===e.uid;return Object(r.createElement)(Pt,Object(p.a)(Object(p.a)({},a),{},{key:e.uid,active:t}),e)}))})})},Pt=function(e){var t=e.children,n=e.onClick,a=e.active;return Object(x.jsx)(w.a,{className:"contact m-2 me-3",variant:a?"primary":"secondary",onClick:function(){return n(t.uid)},children:Object(x.jsx)(Ht,Object(p.a)(Object(p.a)({},t),{},{active:a}))})},Ht=function(e){var t=e.name,n=e.email,a=e.message,c=e.photoUrl,r=e.unreadCount,s=(e.active,t||n),i=null===a||void 0===a?void 0:a.timestamp,l=i&&function(e){var t=fe()(e).format("YYYY.MM.DD"),n=fe()();return t===n.format("YYYY.MM.DD")?fe()(e).format("HH:mm"):t===n.subtract(1,"day").format("YYYY.MM.DD")?"yesterday":fe()(t,"YYYY.MM.DD").isAfter(n.subtract(5,"days"))?fe()(e).format("dddd"):fe()(e).format("DD.MM.YYYY")}(i),o=null===a||void 0===a?void 0:a.content,d=0!==r;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"d-flex flex-nowrap align-items-center",children:[Object(x.jsx)(Lt,{photoUrl:c,name:s}),Object(x.jsxs)("div",{className:"ps-4 text-start d-flex flex-fill flex-column flex-nowrap overflowX-hidden",children:[Object(x.jsx)("div",{className:"fw-bolder text-truncate",children:s}),Object(x.jsx)("div",{className:"message",children:o})]}),Object(x.jsxs)("div",{className:"d-flex align-items-end flex-column".concat(d?" unread-count-active":""),children:[Object(x.jsx)("div",{className:"time",children:l}),d&&Object(x.jsx)("div",{style:{width:"24px",height:"24px",fontSize:"13px"},className:"unread-count bg-primary rounded-circle text-white d-flex align-items-end",children:Object(x.jsx)("span",{className:"w-100 d-flex justify-content-center text-white",children:r})})]})]})})},Lt=function(e){var t=e.photoUrl,n=e.name;return Object(x.jsx)("div",{className:"contact-avatar",children:t?Object(x.jsx)(h.a,{src:t,className:"user-avatar rounded-circle border-0",resize:"contain"}):Object(x.jsx)("div",{className:"bg-primary text-white rounded-circle fw-bolder user-avatar rounded-circle",children:null===n||void 0===n?void 0:n.substring(0,2)})})},Ut=Object(r.memo)((function(e){var t=e.name,n=e.photoUrl;return Object(x.jsx)(gt.a.Header,{className:"py-2 px-1 ",children:t&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"ps-2",children:Object(x.jsx)(Lt,{name:t,photoUrl:n})}),Object(x.jsx)("div",{className:"ps-2 fw-bold",children:t})]})})}),Et.a),Vt=Object(r.memo)((function(e){var t=e.messages,n=void 0===t?[]:t,a=e.activeUid,c=e.onScroll,i=e.loading,l=Object(me.a)(new Set(n.map((function(e){return fe()(e.timestamp).format("YYYY.MM.DD")})))),o=l.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t,n.filter((function(e){return t===fe()(e.timestamp).format("YYYY.MM.DD")}))))}),{}),d=Object(r.useCallback)((function(e){var t=e.currentTarget,n=t.scrollTop;t.scrollHeight+n-t.clientHeight<=10&&c&&c()}),[c]);return i?Object(x.jsx)("div",{className:"h-100 bg-gray-300 d-flex flex-fill justify-content-center align-items-center",children:Object(x.jsx)(St.a,{animation:"border"})}):Object(x.jsx)(gt.a.Body,{className:"py-2 bg-gray-400 px-3",onScroll:d,children:l.map((function(e){return Object(x.jsxs)(s.a.Fragment,{children:[o[e].map((function(e){return Object(r.createElement)(qt,Object(p.a)(Object(p.a)({},e),{},{activeUid:a,key:e.timestamp}))})),Object(x.jsxs)("div",{className:"date-bar py-2 fw-bold",children:[Object(x.jsx)("span",{className:"bar"}),Object(x.jsx)("span",{className:"date px-2",children:Kt(e)}),Object(x.jsx)("span",{className:"bar"})]})]},e)}))})}),Et.a),qt=Object(r.memo)((function(e){var t=e.content,n=e.activeUid,a=e.recipientId,c=e.timestamp,r=n===a,s=r?"secondary":"gray-500",i="time "+(r?"text-white":"text-primary"),l="message py-1 justify-content-".concat(r?"end":"start"),o="".concat(r?"text-end":"text-start"," ");return Object(x.jsx)("div",{className:l,children:Object(x.jsxs)(w.a,{variant:s,className:o,children:[Object(x.jsx)("div",{className:"text-break text-wrap pe-2",children:t}),Object(x.jsx)("div",{className:i,children:Object(x.jsx)("span",{children:fe()(c).format("HH:mm")})})]})})})),_t=Object(r.memo)((function(e){var t=e.sendMessage,n=Object(r.useRef)(),a=Object(r.useState)(""),c=Object(m.a)(a,2),s=c[0],i=c[1],l=zt(s),o=Object(r.useCallback)((function(e){i(e.target.value)}),[]),d=Object(r.useCallback)((function(){t(s),i("")}),[s,t]),u=Object(r.useCallback)((function(e){"Enter"===e.key&&(e.preventDefault(),d())}),[d]);return Object(x.jsxs)(gt.a.Footer,{className:"py-2 px-3",children:[Object(x.jsx)("div",{className:"textarea-wrapper",children:Object(x.jsx)(Ft.a,{ref:n,autoFocus:!0,spellCheck:!1,className:"px-3",value:l,onChange:o,onKeyDown:u,maxRows:5})}),s&&Object(x.jsx)("div",{className:"justify-content-center d-flex align-items-end ps-3",children:Object(x.jsx)("div",{className:"d-flex align-items-end",children:Object(x.jsx)(w.a,{variant:"secondary",className:"p-1 send-btn",onClick:d,children:Object(x.jsx)(y.a,{icon:g.F})})})})]})}),Et.a),zt=function(e){return Object(Wt.toArray)(e).reduce((function(e,t){return"string"===typeof t?e+t:e+t.props.children}),"")};function Kt(e){var t=fe()();return e===t.format("YYYY.MM.DD")?"today":e===t.subtract(1,"day").format("YYYY.MM.DD")?"yesterday":fe()(e,"YYYY.MM.DD").isAfter(t.subtract(5,"days"))?fe()(e,"YYYY.MM.DD").format("dddd"):fe()(e,"YYYY.MM.DD").format("DD.MM.YYYY")}var Gt=function(){var e=Object(M.b)().currentUser,t=Object(r.useState)(!0),n=Object(m.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){c(!0)}),[]),Object(r.useEffect)((function(){a&&setTimeout((function(){c(!1)}),800)}),[a]);var s=Object(be.a)(null,null,!0),i=s.contacts,l=s.loadNextPage,o=s.activeContact,d=s.messages,u=s.sendMessage,j=s.setActiveContactUid,b=Object(r.useMemo)((function(){return Object(Mt.debounce)(l,400)}),[l]),h=Object(r.useCallback)((function(e){c(!0),j(e)}),[j]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"col-12 h-100",children:Object(x.jsx)("div",{className:"py-4 d-flex flex-wrap h-100",children:Object(x.jsx)("div",{className:"container-fluid p-0 h-100",children:Object(x.jsx)("div",{className:"col-12 h-100 bg-gray-500 rounded",children:Object(x.jsx)("div",{className:"py-0 d-flex flex-wrap h-100",children:Object(x.jsxs)("div",{className:"double-messenger",children:[Object(x.jsx)("div",{className:"h-100",children:Object(x.jsxs)("div",{className:"messenger-left",children:[Object(x.jsx)(Ut,{name:e.displayName||e.email,photoUrl:null===e||void 0===e?void 0:e.photoURL}),Object(x.jsx)(gt.a.Body,{className:"p-0",children:i?Object(x.jsx)(Tt.Scrollbars,{autoHeight:!0,autoHeightMax:"100%",className:"h-100",renderTrackVertical:function(e){return Object(x.jsx)("div",Object(p.a)(Object(p.a)({},e),{},{className:"track-vertical"}))},children:Object(x.jsx)(At,{contacts:i,onClick:h,activeContact:o})}):Object(x.jsx)("div",{className:"w-100 h-100 d-flex justify-content-center align-items-center",children:Object(x.jsx)(St.a,{animation:"border"})})}),Object(x.jsx)(gt.a.Footer,{className:"py-2 px-3"})]})}),Object(x.jsxs)(gt.a,{bg:"gray-500",className:"messenger-right",children:[Object(x.jsx)(Ut,{name:(null===o||void 0===o?void 0:o.name)||o.email,photoUrl:null===o||void 0===o?void 0:o.photoUrl}),Object(x.jsx)(Vt,{loading:a,messages:d,activeUid:null===o||void 0===o?void 0:o.uid,onScroll:b}),Object(x.jsx)(_t,{sendMessage:u})]})]})})})})})})})},Jt=(n(490),n(561)),Qt=n(133);n(491);function Xt(e){var t=fe()(e).format("YYYY.MM.DD"),n=fe()();return t===n.format("YYYY.MM.DD")?"today":t===n.subtract(1,"day").format("YYYY.MM.DD")?"yesterday":fe()(t,"YYYY.MM.DD").isAfter(n.subtract(5,"days"))?fe()(e).format("dddd"):fe()(e).format("DD.MM.YYYY")}var Zt=function(e){var t=e.content,n=e.contact;return Object(x.jsxs)("div",{className:"w-100 d-flex flex-nowrap align-items-center",children:[Object(x.jsx)(cn,{photoUrl:n.photoUrl,name:n.name||n.email}),Object(x.jsxs)("div",{className:"ps-3 flex-fill d-inline-block text-truncate text-break",children:[Object(x.jsx)("div",{className:"fw-bolder",children:n.name||n.email}),Object(x.jsx)("div",{className:"d-inline",children:t})]})]})},$t=function(e){var t=e.active,n=Object(r.useCallback)((function(e){var t=e.notification,n=e.activeUid,a=e.message,c=e.contact,r=e.setActive;n&&t.senderId!==n&&(Qt.b.update(t.senderId,{render:function(){return Object(x.jsx)(Zt,{content:null===a||void 0===a?void 0:a.content,contact:c})}})||Object(Qt.b)(Object(x.jsx)(Zt,{content:null===a||void 0===a?void 0:a.content,contact:c}),{onClick:r,bodyClassName:"col-1 p-0",toastId:t.senderId}))}),[]),a=Object(be.a)(t,n),c=a.messages,s=a.activeContact,i=a.sendMessage,l=a.loadNextPage,o=a.disconnect,d=s||t;return Object(x.jsx)("div",{className:"col-12 h-100 bg-darker-nonary",children:Object(x.jsxs)("div",{className:"py-0 d-flex flex-wrap h-100",children:[Object(x.jsx)(Qt.a,{className:"user-messenger-notification",position:"top-center",autoClose:5e4,icon:!1,hideProgressBar:!1,newestOnTop:!0,rtl:!1,pauseOnFocusLoss:!0,draggablePercent:60,pauseOnHover:!0,limit:3}),Object(x.jsx)("div",{className:"container-fluid p-0 h-100",children:Object(x.jsxs)(gt.a,{bg:"darker-nonary",className:"user-messenger-card border-0 rounded-0 h-100",children:[Object(x.jsx)(en,{name:(null===d||void 0===d?void 0:d.name)||d.email,photoUrl:null===d||void 0===d?void 0:d.photoUrl,onDisconnect:o}),Object(x.jsx)(tn,{lastMessage:null===d||void 0===d?void 0:d.message,messages:c,activeUid:(null===d||void 0===d?void 0:d.uid)||(null===d||void 0===d?void 0:d.uid),onScroll:l}),Object(x.jsx)(an,{sendMessage:i})]})})]})})},en=Object(r.memo)((function(e){var t=e.name,n=e.photoUrl,a=e.email,c=e.onDisconnect,s=t||a,i=Object(r.useCallback)((function(){c()}),[c]);return Object(x.jsxs)(gt.a.Header,{className:"text-senary d-flex flex-nowrap align-items-center py-2 bg-nonary rounded-0 px-1",children:[Object(x.jsx)(w.a,{variant:"transparent",className:"text-senary p-0",style:{width:"30px",height:"30px"},as:d.b,to:z.path,onClick:i,children:Object(x.jsx)(y.a,{icon:g.s})}),Object(x.jsx)(cn,{name:s,photoUrl:n}),Object(x.jsx)("div",{className:"ps-2 fw-bold",children:s})]})}),Mt.isEqual),tn=Object(r.memo)((function(e){e.lastMessage;var t=e.messages,n=void 0===t?[]:t,a=e.activeUid,c=e.onScroll,i=Object(me.a)(new Set(n.map((function(e){return fe()(e.timestamp).format("YYYY.MM.DD")})))),l=i.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t,n.filter((function(e){return t===fe()(e.timestamp).format("YYYY.MM.DD")}))))}),{}),o=Object(r.useCallback)((function(e){var t=e.currentTarget,n=t.scrollTop;t.scrollHeight+n-t.clientHeight===1&&c&&c()}),[c]);return Object(x.jsx)(gt.a.Body,{className:"text-senary d-flex flex-column flex-column-reverse flex-nowrap align-items-center py-2 bg-darker-nonary rounded-0 px-3 overflow-auto",style:{height:0,overflow:"auto"},onScroll:o,children:i.map((function(e){return Object(x.jsxs)(s.a.Fragment,{children:[l[e].map((function(e){return Object(r.createElement)(nn,Object(p.a)(Object(p.a)({},e),{},{activeUid:a,key:e.timestamp}))})),Object(x.jsxs)("div",{className:"d-flex justify-content-center py-2 fw-bold w-100",children:[Object(x.jsx)("span",{className:"border-senary border-bottom flex-grow-1",style:{marginBottom:"12px"}}),Object(x.jsx)("span",{className:"text-center text-senary px-2",children:Xt(e)}),Object(x.jsx)("span",{className:"border-senary border-bottom flex-grow-1",style:{marginBottom:"12px"}})]})]},e)}))})}),Mt.isEqual),nn=Object(r.memo)((function(e){var t=e.content,n=e.activeUid,a=e.recipientId,c=e.timestamp,r=n===a,s=r?"senary":"nonary",i=r?"text-nonary":"text-darker-senary",l="message py-1 w-100 d-flex justify-content-".concat(r?"end":"start"),o="d-flex align-items-end ".concat(r?"text-end":"text-start"," ");return Object(x.jsx)("div",{className:l,children:Object(x.jsxs)(w.a,{style:{maxWidth:"80%"},variant:s,className:o,children:[Object(x.jsx)("div",{className:"text-break text-wrap pe-2",children:t}),Object(x.jsx)("div",{className:i,children:Object(x.jsx)("span",{style:{fontSize:"13px",position:"relative",bottom:"-9px"},children:fe()(c).format("HH:mm")})})]})})})),an=Object(r.memo)((function(e){var t=e.sendMessage,n=Object(r.useRef)(),a=Object(r.useState)(""),c=Object(m.a)(a,2),s=c[0],i=c[1],l=rn(s),o=Object(r.useCallback)((function(e){i(e.target.value)}),[]),d=Object(r.useCallback)((function(){t(s),i("")}),[s]),u=Object(r.useCallback)((function(e){"Enter"===e.key&&(e.preventDefault(),d())}),[d]);return Object(x.jsxs)(gt.a.Footer,{className:"text-senary d-flex flex-nowrap align-items-end py-2 px-3 rounded-0 justify-content-around",children:[Object(x.jsx)("div",{className:"d-flex align-items-center bg-nonary rounded flex-fill",children:Object(x.jsx)(Ft.a,{ref:n,autoFocus:!0,style:{resize:"none",height:"36px",lineHeight:"28px",outline:"none"},className:"rounded px-3 w-100 border-0 bg-transparent text-senary shadow-none",value:l,onChange:o,onKeyDown:u,maxRows:5})}),s&&Object(x.jsx)("div",{className:"justify-content-center d-flex align-items-end ps-3",children:Object(x.jsx)("div",{className:"d-flex align-items-end",children:Object(x.jsx)(w.a,{variant:"nonary",className:"rounded-circle p-1 shadow-none",style:{height:"32px",width:"32px"},onClick:d,children:Object(x.jsx)(y.a,{icon:g.F})})})})]})}),Mt.isEqual),cn=function(e){var t=e.photoUrl,n=e.name,a=void 0===n?[]:n;return t?Object(x.jsx)(Jt.a,{src:t,className:"rounded-circle ",style:{height:"30px",width:"30px"}}):Object(x.jsx)("div",{className:"bg-senary text-nonary rounded-circle fw-bolder",style:{height:"30px",width:"30px",minWidth:"30px",lineHeight:"30px",textAlign:"center"},children:a[0]})},rn=function(e){return Object(Wt.toArray)(e).reduce((function(e,t){return"string"===typeof t?e+t:e+t.props.children}),"")},sn=function(){var e,t=null===(e=Object(j.g)().state)||void 0===e?void 0:e.activeContact,n=Object(j.h)();return Object(r.useEffect)((function(){!t&&n(z.path)}),[t,n]),Object(x.jsx)(x.Fragment,{children:t&&Object(x.jsx)(u.RecoilRoot,{children:Object(x.jsx)($t,{active:t})})})},ln=n(562),on=function(e){var t=e.contacts;return Object(x.jsxs)(gt.a,{bg:"transparent",className:"user-messenger-card p-0",children:[Object(x.jsx)(gt.a.Header,{children:Object(x.jsx)("div",{className:"d-flex flex-fill justify-content-center  border-senary border-bottom",children:Object(x.jsx)("span",{className:"text-senary fw-bolder",children:"Contacts"})})}),Object(x.jsx)(gt.a.Body,{className:"p-1",children:t?Object(x.jsx)(dn,{contacts:t}):Object(x.jsx)("div",{className:"w-100 d-flex justify-content-center text-senary",children:Object(x.jsx)(ln.a,{animation:"border",role:"status"})})})]})},dn=function(e){var t=e.contacts;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"d-flex flex-column btn-group-vertical",children:t&&t.map((function(e){return Object(x.jsx)(un,{children:e},e.uid)}))||Object(x.jsx)(ln.a,{})})})},un=function(e){var t=e.children;return Object(x.jsx)(w.a,{className:"contact",variant:"nonary",as:d.b,to:_.path,state:{activeContact:Object(p.a)({},t)},children:Object(x.jsx)(jn,Object(p.a)({},t))})},jn=function(e){var t=e.name,n=e.email,a=e.message,c=e.photoUrl,r=e.unreadCount,s=t||n,i=null===a||void 0===a?void 0:a.timestamp,l=i&&function(e){var t=fe()(e).format("YYYY.MM.DD"),n=fe()(e).format("HH:mm"),a=fe()();return t===a.format("YYYY.MM.DD")?n:t===a.subtract(1,"day").format("YYYY.MM.DD")?"Yesterday":fe()(t,"YYYY.MM.DD").isAfter(a.subtract(5,"days"))?fe()(e).format("dddd"):fe()(e).format("DD.MM.YYYY")}(i),o=null===a||void 0===a?void 0:a.content;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"d-flex flex-nowrap align-items-center",children:[Object(x.jsx)(bn,{photoUrl:c,name:s}),Object(x.jsxs)("div",{className:"ps-4 text-start d-flex flex-fill flex-column flex-nowrap overflowX-hidden",children:[Object(x.jsx)("div",{className:"fw-bolder text-truncate",children:s}),Object(x.jsx)("div",{className:"message",children:o})]}),Object(x.jsxs)("div",{className:"d-flex align-items-end flex-column",children:[Object(x.jsx)("div",{className:"time",children:l}),0!==r&&Object(x.jsx)("div",{style:{width:"24px",height:"24px",fontSize:"13px"},className:"border-nonary border bg-senary rounded-circle text-nonary d-flex align-items-end",children:Object(x.jsx)("span",{className:"w-100 d-flex justify-content-center text-nonary",children:r})})]})]})})},bn=function(e){var t=e.photoUrl,n=e.name,a=void 0===n?[]:n;return t?Object(x.jsx)(Jt.a,{src:t,className:"rounded-circle",style:{height:"30px",width:"30px"}}):Object(x.jsx)("div",{className:"bg-senary text-nonary rounded-circle border-nonary border-1 fw-bolder",style:{height:"30px",width:"30px",minWidth:"30px",lineHeight:"30px",textAlign:"center",border:"solid"},children:a[0]})};var mn=function(){var e=Object(be.a)().contacts;return Object(r.useEffect)((function(){return function(){sessionStorage.removeItem("recoil-persist")}}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"col-12 h-100 bg-darker-nonary",children:Object(x.jsx)("div",{className:"py-4 d-flex flex-wrap h-100 align-content-center",children:Object(x.jsx)("div",{className:"container-fluid p-0 h-100",style:{maxWidth:"600px"},children:Object(x.jsx)(on,{contacts:e})})})})})},hn=n(80),On=n(563),xn=n(587),fn=["selectData","selectShownColumns","onCellChange","footerProps","counter"],pn=["id","idx","links","measurement"],vn=["Header","id","ignoreSort","maxWidth"],gn=["isSelected","state"],yn=s.a.lazy((function(){return n.e(3).then(n.bind(null,589))})),wn=Object(r.memo)((function(e){var t=e.selectData,n=e.selectShownColumns,a=e.onCellChange,c=e.footerProps,s=(e.counter,Object(v.a)(e,fn)),i=Object(o.c)(t),l=Object(o.c)(n),d=Object(r.useState)(l),u=Object(m.a)(d,2),j=u[0],b=u[1],h=Object(r.useCallback)((function(e){var t=e.value,n=e.labelId,c=e.rowId;a({rowId:c,changes:{labelId:n,value:t}})}),[a]),O=Object(r.useMemo)((function(){return It.a.debounce(h,300)}),[h]);return Object(r.useEffect)((function(){Et()(l,j)||b(l)}),[l,j]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Nn,Object(p.a)(Object(p.a)({},s),{},{columns:j,data:i,updateMyData:O})),Object(x.jsx)(Rn,Object(p.a)(Object(p.a)({},c),{},{currentPageSize:i.length}))]})}),Et.a),Nn=Object(r.memo)((function(e){var t=e.data,n=e.columns,a=e.updateMyData,c=e.headerProps,s=e.bodyProps,i=Object(r.useMemo)((function(){return n.map((function(e){return e}))}),[n]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(On.a,{responsive:!0,className:"align-items-center table-flush align-items-center user-table",children:[Object(x.jsx)(In,Object(p.a)(Object(p.a)({},c),{},{columns:n})),Object(x.jsx)(kn,Object(p.a)(Object(p.a)({},s),{},{data:t,labels:i,updateMyData:a}))]})})}),Et.a),kn=s.a.memo((function(e){var t=e.data,n=e.labels,a=e.selectHiddenColumns,c=e.selectSelectedRows,s=e.updateMyData,i=e.onSelectRow,l=e.selectAddRow,d=e.modeselector,u=e.massEdit,j=Object(o.c)(a),b=Object(r.useMemo)((function(){return j}),[j]),m=Object(o.c)(c),h=Object(o.c)(d),O=Object(o.c)(l);return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("tbody",{children:[Object(x.jsx)("tr",{children:"addRow"===h&&Object(x.jsxs)(x.Fragment,{children:[!u&&Object(x.jsx)("td",{}),Object(x.jsx)(Cn,{row:O,labels:n,index:0,display:b,updateMyData:s},"add-row")]})},"addRow-tr"),t.map((function(e,t){var a=e.className,c=m.includes(e.id+""),r="edit"===h&&c;return Object(x.jsxs)("tr",{className:a,children:[!u&&Object(x.jsx)("td",{className:"px-1 py-1",style:{width:"50px"},children:Object(x.jsx)(En,{onChange:function(){return i(e.id)},isSelected:c})}),Object(x.jsx)(Yn,{row:e,labels:n,index:t,display:b,updateMyData:s,isEditable:r},"row"+t)]},"row"+t)}))]})})}),Et.a),Cn=Object(r.memo)((function(e){var t=e.row,n=e.labels,a=e.index,c=e.updateMyData;return Object(x.jsx)(x.Fragment,{children:n.map((function(e){return Object(x.jsx)(Sn,{row:t.id,isEditable:!0,value:t[e.id],cellProps:e,index:a,updateMyData:c},e.id+"-"+a)}))})}),Et.a),Yn=Object(r.memo)((function(e){var t=e.row,n=e.labels,a=e.index,c=e.updateMyData,r=e.display,s=e.isEditable;return n.map((function(e){return Object(x.jsx)(Sn,{row:t.id,isEditable:s,value:t[e.id],cellProps:e,index:a,display:r[e.id],updateMyData:c},e.id+"-"+a)}))}),Et.a),Sn=Object(r.memo)((function(e){var t=e.row,n=e.value,a=e.index,c=e.display,r=void 0===c?"auto":c,s=e.updateMyData,i=e.isEditable,l=e.cellProps,o=e.measurement,d=void 0===o||o;return Object(x.jsx)("td",{className:"px-2 py-1 d-".concat(r),children:Object(x.jsx)("div",{className:"w-100 d-flex justify-content-center",children:Object(x.jsx)("div",{className:"w-100 d-flex justify-content-center",children:Object(x.jsx)(Mn,{cellProps:l,value:n,updateMyData:s,index:a,row:t,isEditable:i,measurement:d})})})})}),Et.a),Mn=s.a.memo((function(e){var t,n=e.row,a=(e.index,e.isEditable),c=e.updateMyData,s=e.cellProps,i=e.value,l=e.measurement,o=s.id,d=(s.idx,s.links,s.measurement),u=Object(v.a)(s,pn),j=Object(r.useState)(i),b=Object(m.a)(j,2),h=b[0],O=b[1],f=a&&"nonEditable"!==s.type?"p-0 d-none dummy":"d-block text-center fallback",g=void 0!==h?h+(l&&""!==h&&d?" "+d:""):"",y=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return c({value:e,labelId:o,rowId:n})}),[h,o,n,c]),w=Object(r.useCallback)((function(e,t){if("date"===t){var n=fe()(e,"YYYY/MM/DD",!0).isValid()?fe()(e,"YYYY/MM/DD").format("DD.MM.YYYY"):e;O(n),y(e)}else O(e),y(e)}),[y]);return Object(r.useEffect)((function(){O(i)}),[i]),Object(x.jsx)(x.Fragment,{children:"customComponent"===s.type?(t=Object(p.a)(Object(p.a)({},u),{},{value:h,onChange:w,isEditable:a}),"verified"===t.Header?Object(x.jsx)(Ce,Object(p.a)({},t)):"Roles"===t.Header?Object(x.jsx)(ye,Object(p.a)({},t)):"Status"===t.Header?Object(x.jsx)(ke,Object(p.a)({},t)):"photoUrl"===t.Header?Object(x.jsx)(pe,Object(p.a)({},t)):Object(x.jsx)("div",{children:"error"})):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:f,style:{padding:"1px ",minWidth:u.minWidth,maxWidth:u.maxWidth},children:g}),a&&"nonEditable"!==s.type&&Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)(hn.a,{show:!0,logo:!1}),children:Object(x.jsx)(yn,Object(p.a)(Object(p.a)({},u),{},{value:h,onChange:w}))})]})})}),Et.a),In=function(e){var t=e.columns,n=e.selectHiddenColumns,a=e.massEdit,c=e.onSelectAllRows,r=e.selectSelectedRows,s=e.selectPaginationData,i=e.selectSortedColumn,l=e.sortProps,d=Object(o.c)(s).rowsCount,u=Object(o.c)(n),j=Object(o.c)(r),b=Object(o.c)(i),m=parseInt(d)===j.length?"checked":0===j.length?"unchecked":"indeterminate";return Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{className:"text-center",children:[!a&&Object(x.jsx)("th",{className:"border-0",style:{width:"50px"},children:Object(x.jsx)(En,{state:m,onChange:c})}),t.map((function(e,t){var n=e.Header,a=e.id,c=e.ignoreSort,r=e.maxWidth,s=(Object(v.a)(e,vn),u[a]),i=b&&a===b.id,o=i&&b.order;return Object(x.jsx)(Dn,Object(p.a)(Object(p.a)({column:n,id:a,ignoreSort:c,display:s,maxWidth:r},l),{},{sorted:i,order:o}),a)}))]},"th-0")})},Dn=function(e){var t=e.column,n=e.id,a=e.sorted,c=void 0!==a&&a,s=e.order,i=e.ignoreSort,l=e.display,o=void 0===l?"auto":l,d=e.onToggleSort,u=e.sortEnabled,j=e.sortedComponent,b=void 0===j?c?Object(x.jsx)("span",{className:"sort-arrow ms-2",style:{width:"15px",height:"15px"},children:Object(x.jsx)(y.a,{className:"w-100 h-100",icon:"desc"===s?g.l:g.m})}):Object(x.jsx)(x.Fragment,{}):j,m=Object(r.useCallback)((function(e){return u&&!i&&d(n)}),[u,i,d,n]);return Object(x.jsx)("th",{onClick:m,className:"border-0 sortable align-items-center",style:{display:o},children:Object(x.jsx)("div",{children:Object(x.jsxs)("span",{style:{lineHeight:"21px"},className:"d-flex flex-nowrap justify-content-center align-self-center",children:[t,b]})})})},En=Object(r.memo)((function(e){var t=e.isSelected,n=e.state,a=void 0===n?"unchecked":n,c=Object(v.a)(e,gn),r=s.a.useRef();return s.a.useEffect((function(){r.current.indeterminate="indeterminate"===a}),[r,a]),Object(x.jsx)("div",{className:"d-flex justify-content-center w-100",children:Object(x.jsx)("div",{children:Object(x.jsx)(le.a.Check,Object(p.a)(Object(p.a)({ref:r,checked:t||"checked"===a||"indeterminate"===a},c),{},{className:"checkbox"}))})})})),Tn=function(e){var t=e.page,n=e.gotoPage,a=e.active,c=void 0!==a&&a;return Object(x.jsx)(xn.a.Item,{active:c,onClick:function(){return n(t)},children:t})},Rn=s.a.memo((function(e){var t=e.paginationProps,n=e.counterProps,a=e.selectPaginationData,c=e.currentPageSize,r=Object(o.c)(a),s=r.rowsCount,i=r.page,l=r.pagesCount;return Object(x.jsxs)(gt.a.Footer,{className:"p-0 border-0 d-lg-flex flex-wrap align-items-center justify-content-between",children:[t&&c<s&&Object(x.jsx)(Wn,Object(p.a)(Object(p.a)({},t),{},{pageIndex:i,pagesCount:l})),n&&Object(x.jsxs)("small",{className:"fw-bold ps-3 pt-4",children:["Showing ",Object(x.jsx)("b",{children:c})," ",s&&Object(x.jsxs)("span",{children:["out of ",Object(x.jsx)("b",{children:s})," entries"]})]})]})})),Wn=s.a.memo((function(e){var t=e.onPageChange,n=e.pageIndex,a=e.pagesCount,c=parseInt(n),s=2===c?1:1===c?2:a+1===c?-2:a===c?-1:0,i=a>=5?[c-2+s,c-1+s,c+s,c+1+s,c+2+s]:Array(a+1).fill().map((function(e,t){return t+1}));return Object(x.jsx)(N.a,{className:"pt-4",children:Object(x.jsxs)(xn.a,{className:"mb-2 mb-lg-0 d-flex flex-wrap",children:[Object(x.jsx)(xn.a.Prev,{onClick:function(){return t(0)},disabled:1===parseInt(n),children:Object(x.jsx)(y.a,{icon:g.a})}),Object(x.jsx)(xn.a.Prev,{onClick:function(){return t(parseInt(n-2))},disabled:1===parseInt(n),children:Object(x.jsx)(y.a,{icon:g.d})}),i.map((function(e){var n={page:e,gotoPage:function(e){return t(e-1)},active:c===e};return Object(r.createElement)(Tn,Object(p.a)(Object(p.a)({},n),{},{key:"pagination-item-"+e}))})),Object(x.jsx)(xn.a.Next,{onClick:function(){return t(parseInt(n))},disabled:parseInt(n)-1===a,children:Object(x.jsx)(y.a,{icon:g.e})}),Object(x.jsx)(xn.a.Next,{onClick:function(){return t(a)},disabled:parseInt(n)-1===a,children:Object(x.jsx)(y.a,{icon:g.b})}),Object(x.jsx)(x.Fragment,{})]})})})),Fn=wn,Bn=n(564),An=n(236),Pn=n(585),Hn=n(582),Ln=Object(r.memo)((function(e){var t=e.data,n=void 0===t?[]:t,a=e.className,c=void 0===a?"":a,r=e.style,s=function(e){var t=e.eventKey,n=e.title,a=e.description,c=e.disabled,r=void 0!==c&&c;return Object(x.jsxs)(Hn.a.Item,{eventKey:t,children:[Object(x.jsx)("div",{className:r?"disabled":"",children:Object(x.jsx)(Hn.a.Header,{variant:"link",onClick:function(e){e.stopPropagation(),e.preventDefault(),e.nativeEvent.stopImmediatePropagation()},children:Object(x.jsx)("span",{className:"h6 mb-0 fw-bold",children:n})})}),!r&&Object(x.jsx)(Hn.a.Body,{children:Object(x.jsx)(gt.a.Body,{className:"p-0 border-0",children:Object(x.jsx)("div",{className:"mb-0",children:a})})})]})};return Object(x.jsx)(Hn.a,{className:c,style:r,children:n.map((function(e){return Object(x.jsx)(s,Object(p.a)({},e),"accordion-".concat(e.id))}))})}),Et.a),Un=["children","eventKey","onChange"];function Vn(e){var t=e.children,n=e.eventKey,a=e.onChange,c=Object(v.a)(e,Un),r=Object(An.b)(n,(function(e){e.stopPropagation(),a(e)}));return Object(x.jsx)(_n,Object(p.a)(Object(p.a)({onChange:r},c),{},{children:t}))}var qn=Object(r.memo)(Object(r.forwardRef)((function(e,t){var n=e.data,a=e.selectData,c=(e.children,e.component),r=e.onToggleItem,s=e.resetAll,i=e.className,l=e.disableCheckBox,o=void 0!==l&&l,d=e.onClose,u=n.map((function(e,t){var n=e.id,s=e.as,i=(void 0===s&&Bn.a,e.text),l=e.checked,d=(e.displayArrow,e.disabled),u=void 0!==d&&d,j=e.props;return{id:t,eventKey:"panel-"+t,title:Object(x.jsx)(Vn,{checked:l,onChange:function(){return r(n)},disableCheckBox:o,children:Object(x.jsx)("span",{className:"h6 mb-0 fw-bold",children:i})},"DropdownRow-"+n+"-"+t),description:!u&&c(Object(p.a)(Object(p.a)({},j),{},{selectData:a})),disabled:u}}));return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(Pn.a,{className:"my-card ".concat(i),children:[Object(x.jsx)(Pn.a.Header,{className:"card-btn",children:Object(x.jsxs)(w.a,{variant:"secondary",className:"w-100 rounded-0 rounded-top container",onClick:s,children:[Object(x.jsx)("span",{className:"reset",children:"Reset All"}),Object(x.jsx)(w.a,{className:"close",onClick:d,children:Object(x.jsx)(y.a,{icon:g.P})})]})}),Object(x.jsx)(Pn.a.Body,{className:"p-0 rounded-0 d-flex justify-content-center",children:Object(x.jsx)(Ln,{data:u})})]})})})),Mt.isEqual),_n=s.a.memo((function(e){var t=e.checked,n=void 0===t||t,a=e.onChange,c=e.className,r=void 0===c?"":c,s=e.disableCheckBox,i=e.children;return Object(x.jsxs)("div",{className:"d-flex align-items-center "+r,children:[!s&&Object(x.jsx)(le.a.Check,{checked:n,className:"align-items-center m-0 ps-3 pe-1 justify-content-start",onChange:a}),Object(x.jsx)("div",{className:"ps-2 pe-2 container-fluid d-flex justify-content-between",children:i})]})}),Mt.isEqual),zn=n(121),Kn=n(575),Gn=Object(r.memo)((function(e){var t=e.selectSelectedRowsExist,n=e.selectChangesExist,a=e.selectMode,c=(e.onAdd,e.onDelete),s=e.onDownload,i=e.onClose,l=e.onSave,d=e.onChangeMode,u=(e.forceClose,e.modalProps,e.filterProps),j=(e.download,e.remove),b=e.edit,h=e.add,O=e.filter,f=Object(o.c)(a),v="edit"===f,w="addRow"===f,N=Object(o.c)(t),k=Object(o.c)(n),C=Object(r.useState)(!1),Y=Object(m.a)(C,2),S=Y[0],M=Y[1],I=Object(r.useCallback)((function(){i()}),[i]),D=Object(r.useCallback)((function(){d("addRow")}),[d]),E=Object(r.useCallback)((function(){I(),d("edit")}),[d,I]),T=Object(r.useCallback)((function(){d("idle"),I()}),[d,I]),R=Object(r.useCallback)((function(){M(!0),l().then((function(e){Qt.b.success("Saved!"),M(!1)})).catch((function(e){M(!1),Qt.b.error("Error!")}))}),[l]),W=(Object(r.useCallback)((function(){s()}),[s]),Object(r.useCallback)((function(){c()}),[c]));return Object(r.useEffect)((function(){v&&!N&&d()}),[N,v,d]),Object(x.jsxs)("div",{className:"d-flex flex-nowrap button-group",children:[Object(x.jsx)(Qt.a,{pauseOnFocusLoss:!1,position:"top-center",pauseOnHover:!1,hideProgressBar:!0,autoClose:2e3}),O&&Object(x.jsx)(Zn,Object(p.a)({},u)),b&&(N||v&&!N)&&Object(x.jsx)(Jn,{disabled:v,onClick:E,value:Object(x.jsx)(y.a,{icon:g.v})}),j&&(N||v&&!N)&&Object(x.jsx)(Jn,{disabled:v,onClick:W,value:Object(x.jsx)(y.a,{icon:g.Q})}),(b||h)&&(v||w)&&Object(x.jsx)(Jn,{disabled:!k,onClick:R,value:Object(x.jsx)(y.a,{icon:g.L})}),h&&Object(x.jsx)(Jn,{disabled:w,onClick:D,value:Object(x.jsx)(y.a,{icon:g.K})}),(b||h)&&(v||w)&&Object(x.jsx)(Jn,{variant:"danger",onClick:T,value:Object(x.jsx)(y.a,{icon:g.W})}),Object(x.jsx)(Kn.a,{show:S,centered:!0,contentClassName:"bg-transparent shadow-none",keyboard:!1,children:Object(x.jsx)("div",{className:" d-flex justify-content-center",children:Object(x.jsx)(St.a,{animation:"border",variant:"nonary"})})})]})})),Jn=function(e){var t=e.onClick,n=void 0===t?"":t,a=e.value,c=void 0===a?"":a,r=e.size,s=void 0===r?"":r,i=e.variant,l=void 0===i?"primary":i,o=e.disabled,d=e.type;return Object(x.jsx)(w.a,{type:d,variant:l,onClick:n,size:s,disabled:o,children:c})},Qn=Gn,Xn=Object(r.memo)(Object(r.forwardRef)((function(e,t){var n=e.titleProps.title,a=e.buttonGroupProps;return Object(x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center py-0",children:[n,Object(x.jsx)("div",{className:"flex-wrap d-flex col justify-content-end",children:Object(x.jsx)(Qn,Object(p.a)({ref:t},a))})]})})),Mt.isEqual),Zn=Object(r.memo)((function(e){var t=e.selectItemsFilter,n=e.onToggleLabel,a=e.nestedFilterComponent,c=e.selectItemsNestedFilter,s=e.onResetAllFilters,i=Object(o.c)(t)||[],l=Object(r.useRef)(null),d=Object(r.useRef)(null),u=Object(r.useState)(!1),j=Object(m.a)(u,2),b=j[0],h=j[1],O=[Object(x.jsx)(qn,{className:"grid-table-filter-dropdown",ref:d,data:i,component:a,onToggleItem:n,resetAll:s,selectData:c,onClose:function(){return h(!1)}},"NestedDropdown")];return Object(x.jsx)(zn.a,{controlled:!0,show:b,toggle:h,drop:"down",as:Bn.a,toggleClassName:"primary-btn",toggleStyle:{transition:"none"},menuClassName:"py-0 filter-dropdown",ref:{ref:l,refList:[l,d]},value:Object(x.jsx)(y.a,{icon:g.N}),children:O})}),Mt.isEqual);Xn.displayName="TableLabel",Qn.displayName="TableButtons";var $n=n(72),ea=n(573),ta=n(583),na=n(56),aa=(n(577),["children"]);var ca=Object(na.a)(ea.a)((function(e){e.theme;return{height:3,padding:"13px 0px",textAlign:"center","& .MuiInput-input":{textAlign:"center"},"&:not(.Mui-disabled):hover::before":{borderColor:"#567ba0"},"&:not(.Mui-disabled)::after":{borderColor:"#ff9751"},"& input[type=number]":{MozAppearance:"textfield"},"& input[type=number]::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0},"& input[type=number]::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0}}})),ra=Object(na.a)(ta.b)((function(e){var t=e.theme;return{color:"#3a8589",height:3,padding:"13px 0","& .MuiSlider-thumb":{height:27,width:27,backgroundColor:"#fff",border:"1px solid currentColor","& .bar":{height:9,width:1,backgroundColor:"currentColor",marginLeft:1,marginRight:1}},"& .MuiSlider-track":{height:3},"& .MuiSlider-rail":{color:"dark"===t.palette.mode?"#bfbfbf":"#d8d8d8",opacity:"dark"===t.palette.mode?void 0:1,height:3}}}));function sa(e){var t=e.children,n=Object(v.a)(e,aa);return Object(x.jsxs)(ta.a,Object(p.a)(Object(p.a)({},n),{},{children:[t,Object(x.jsx)("span",{className:"bar"}),Object(x.jsx)("span",{className:"bar"}),Object(x.jsx)("span",{className:"bar"})]}))}var ia=r.memo((function(e){var t=e.onChange,n=e.min,a=void 0===n?0:n,c=e.max,s=void 0===c?200:c,i=e.gte,l=void 0===i?a:i,o=e.lte,d=void 0===o?s:o,u=e.title,j=r.useState([l,d]),b=Object(m.a)(j,2),h=b[0],O=b[1],f=function(e){var n=e.target.name,c=e.target.value>s?s:e.target.value<a?a:e.target.value,r="gte"===n?[c,h[1]]:[h[0],c];r!==h&&(O(r),t(r))};return Object(x.jsxs)(Pn.a,{className:"my-card",children:[u&&Object(x.jsx)(Pn.a.Header,{children:Object(x.jsx)("h5",{className:"w-100 text-align-center text-center",children:u})}),Object(x.jsx)(Pn.a.Body,{className:"mui-slider",children:Object(x.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(x.jsx)("div",{className:"col-12",style:{paddingLeft:"1.9rem",paddingRight:"1.9rem"},children:Object(x.jsx)(ra,{components:{Thumb:sa},getAriaLabel:function(e){return 0===e?"Minimum price":"Maximum price"},min:a,max:s,value:h,onChange:function(e,n){O(n),t(n)}})}),Object(x.jsxs)("div",{className:"container p-0 pt-3 d-flex justify-content-between",children:[Object(x.jsx)("div",{className:"col-4",children:Object(x.jsx)(ca,{value:h[0],size:"small",onChange:f,name:"gte",className:"text-center w-100",inputProps:{step:1,min:a,max:s,type:"number","aria-labelledby":"input-slider"}})}),Object(x.jsx)("div",{className:"col-4",children:Object(x.jsx)(ca,{value:h[1],size:"small",onChange:f,className:"text-center w-100",name:"lte",inputProps:{step:1,min:l,max:d,type:"number","aria-labelledby":"input-slider"}})})]})]})})]})}),Mt.isEqual),la=n(85),oa=n(277),da=s.a.memo((function(e){var t=e.onToggleAll,n=e.onToggleOne,a=(e.height,e.checkedAll),c=e.rows;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(gt.a,{className:"checkbox-filter-card my-card",variant:"primary",children:[Object(x.jsx)(gt.a.Header,{className:"card-btn",children:Object(x.jsx)(ua,{text:Object(x.jsx)("div",{className:"fw-bold text-start",children:"Select All"}),handler:t,checked:a,className:"checkbox-header",variant:"secondary",checkboxVariant:"tertiary"})}),Object(x.jsx)(gt.a.Body,{className:"p-0",children:Object(x.jsx)(ba,{data:c,onClick:n})})]})})}),Mt.isEqual);function ua(e){var t=e.text,n=e.handler,a=e.variant,c=void 0===a?"transparent":a,s=e.checkboxVariant,i=void 0===s?"primary":s,l=(e.hover,e.className),o=void 0===l?"":l,d=e.height,u=void 0===d?"auto":d,j=e.checked,b=Object(r.useRef)(null);return Object(x.jsx)(w.a,{variant:c,onClick:n,className:o,style:{height:u},children:Object(x.jsxs)("div",{className:"w-100 d-flex justify-content-between",children:[Object(x.jsx)("div",{className:"text-start",children:t}),Object(x.jsx)(le.a.Check,{className:"ps-4 d-flex justify-content-between g-0 align-items-center",children:Object(x.jsx)("div",{className:"align-items-center d-flex",children:Object(x.jsx)(le.a.Check.Input,{ref:b,type:"checkbox",variant:i,disabled:!0,checked:j})})})]})})}var ja=Object(la.a)((function(e,t){return{items:e,toggleItemActive:t}})),ba=Object(r.memo)((function(e){var t=e.data,n=e.onClick,a=ja(t,n);return Object(x.jsx)(oa.a,{outerElementType:Oa,className:"List",height:300,itemCount:t.length,itemData:a,itemSize:35,width:"100%",children:ma})}),Mt.isEqual),ma=Object(r.memo)((function(e){var t=e.data,n=e.index,a=e.style,c=t.items,r=t.toggleItemActive,s=(t.selectData,c[n]);return Object(x.jsx)("div",{style:a,children:Object(x.jsx)(ua,{text:s.value.text,variant:"transparent",checked:s.checked,handler:function(){return r(s.value.id,n)},className:"checkbox-row",height:35},"MyCheckboxContainer"+n)})}),oa.b),ha=Object(r.memo)((function(e){var t=e.onScroll,n=e.forwardedRef,a=e.style,c=e.children,s=Object(r.useCallback)((function(e){n(e?e.view:null)}),[]);return Object(x.jsx)(Rt.a,{ref:s,style:Object(p.a)(Object(p.a)({},a),{},{overflow:"hidden"}),onScroll:t,children:c})}),Mt.isEqual),Oa=s.a.forwardRef((function(e,t){return Object(x.jsx)(ha,Object(p.a)(Object(p.a)({},e),{},{forwardedRef:t}))})),xa=n(139),fa=n(155),pa=["type","selectData","label","idx"],va=["onToggleCheckbox","onToggleAllCheckbox","label","data"],ga=["onChangeRange","label","data"],ya=["onChangeRange","onReset","data","label"],wa=Object(r.memo)((function(e){var t=e.type,n=e.selectData,a=e.label,c=e.idx,s=Object(v.a)(e,pa),i=Object(r.useCallback)((function(e){return n(e,{label:a,idx:c})}),[a,c,n]),l=Object(o.c)(i);switch(t){case"checkbox":return Object(x.jsx)(Na,Object(p.a)(Object(p.a)({},s),{},{data:l,label:a}));case"time":return Object(x.jsx)(Ca,Object(p.a)(Object(p.a)({},s),{},{data:l,label:a}));case"range":return Object(x.jsx)(ka,Object(p.a)(Object(p.a)({},s),{},{data:l,label:a}));case"date":return Object(x.jsx)(Ya,Object(p.a)(Object(p.a)({},s),{},{data:l,label:a}));default:return Object(x.jsx)("div",{children:"error"})}}),Mt.isEqual),Na=Object(r.memo)((function(e){var t=e.onToggleCheckbox,n=e.onToggleAllCheckbox,a=e.label,c=e.data,s=Object(v.a)(e,va),i=Object(r.useCallback)((function(e){t({label:a,value:e})}),[a,t]),l=Object(r.useCallback)((function(){n({label:a})}),[a,n]),o=Object(r.useMemo)((function(){return c.rows}),[c]),d=Object(r.useMemo)((function(){return c.checkedAll}),[c]);return Object(x.jsx)(da,Object(p.a)(Object(p.a)({},s),{},{onToggleAll:l,onToggleOne:i,checkedAll:d,rows:o}))}),Mt.isEqual),ka=Object(r.memo)((function(e){var t=e.onChangeRange,n=e.label,a=e.data,c=Object(v.a)(e,ga),s=Object(r.useCallback)((function(e){t({label:n,gte:e[0],lte:e[1]})}),[t,n]),i=Object(Mt.debounce)(s,800);return Object(x.jsx)(ia,Object(p.a)(Object(p.a)(Object(p.a)({},c),a),{},{onChange:i}))}),Mt.isEqual),Ca=Object(r.memo)((function(e){var t=e.onChangeRange,n=e.label,a=e.data,c=Object(r.useCallback)((function(e){var a=e.gte,c=e.lte;t({label:n,gte:a,lte:c})}),[n,t]);return Object(x.jsx)(fa.b,Object(p.a)({onChange:c},a))}),Mt.isEqual),Ya=Object(r.memo)((function(e){var t=e.onChangeRange,n=e.onReset,a=e.data,c=e.label,s=(Object(v.a)(e,ya),Object(r.useCallback)((function(e){2===e.length&&t({label:c,gte:e[0],lte:e[1]}),0===e.length&&n({label:c})}),[c,t,n]));return Object(x.jsx)(xa.b,Object(p.a)(Object(p.a)({},a),{},{style:{width:"100%"},disableMonthSwap:!0,onChange:s}))}),Mt.isEqual),Sa=wa,Ma=n(86),Ia=["date","title","format"],Da=function(e){var t=e.date,n=e.title,a=e.format,c=void 0===a?"YYYY.MM.DD":a,r=Object(v.a)(e,Ia);return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(Ma.a,{children:[Object(x.jsx)(Ma.a.Toggle,{variant:"transparent",className:"btn-title",children:Object(x.jsxs)("h5",{className:"text-wrap text-start",children:[n," ",fe()(t,c).format("MMMM YYYY")]})}),Object(x.jsx)(Ma.a.Menu,{className:"m-0 p-0",children:Object(x.jsx)(Ta,Object(p.a)(Object(p.a)({},r),{},{date:t}))})]})})},Ea=function(e){var t=e.value,n=e.onClick,a=e.variant;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"fluid-container p-1",children:Object(x.jsx)(w.a,{className:"w-100 btn-month",variant:a,onClick:n,onMouseDown:function(e){return e.preventDefault()},children:t})})})},Ta=function(e){var t=e.date,n=e.onChange,a=Object(r.useState)(fe()(t,"YYYY.MM").format("YYYY")),c=Object(m.a)(a,2),s=c[0],i=c[1],l=Object(r.useState)(fe()(t,"YYYY.MM").format("MMM")),o=Object(m.a)(l,2),d=o[0],u=o[1];Object(r.useEffect)((function(){i(fe()(t,"YYYY.MM").format("YYYY")),u(fe()(t,"YYYY.MM").format("MMM"))}),[t]);var j=Object(r.useCallback)((function(e){var t=fe()(e+"."+s,"MMM.YYYY").toISOString();n&&n(t)}),[s,n]),b={handlerYearChange:Object(r.useCallback)((function(e){n(n&&1===e?fe()(d+"."+s,"MMM.YYYY").add(1,"years").toISOString():fe()(d+"."+s,"MMM.YYYY").subtract(1,"years").toISOString())}),[d,s,n]),handlerMonthChange:j,month:d,year:s};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Ra,{data:b})})},Ra=Object(r.memo)((function(e){var t=e.data,n=t.handlerYearChange,a=t.handlerMonthChange,c=t.year,s=t.month,i=Object(r.useState)(s),l=Object(m.a)(i,2),o=l[0],d=l[1],u=Object(r.useCallback)((function(e){d(e),a(e)}),[a]),j=Object(r.useCallback)((function(e){return e===o?"primary":"light "}),[o]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(gt.a,{border:"light",className:"shadow-sm flex-fill month-selector my-card",style:{width:"250px",minWidth:"250px"},children:[Object(x.jsx)(gt.a.Header,{children:Object(x.jsxs)("div",{className:"w-100 d-flex justify-content-between",children:[Object(x.jsx)(w.a,{className:"btn-arrow-left",variant:"primary",onClick:function(){return n(-1)},children:Object(x.jsx)(y.a,{icon:g.g})}),Object(x.jsx)("h5",{className:"text-center m-0",children:c}),Object(x.jsx)(w.a,{className:"btn-arrow-right",variant:"primary",onClick:function(){return n(1)},children:Object(x.jsx)(y.a,{icon:g.h})})]})}),Object(x.jsx)(gt.a.Body,{children:Object(x.jsx)("div",{className:"d-flex flex-wrap",children:fe.a.monthsShort().map((function(e,t){return Object(x.jsx)("div",{className:"col-4 text-center text-nowrap",children:Object(x.jsx)(Ea,{value:e,onClick:function(){return u(e)},variant:j(e)})},"month-Short"+t)}))})})]})})}),Mt.isEqual),Wa=["date","title","format"],Fa=function(e){var t=e.date,n=e.title,a=(e.format,Object(v.a)(e,Wa));return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(Ma.a,{children:[Object(x.jsx)(Ma.a.Toggle,{variant:"transparent",className:"btn-title",children:Object(x.jsxs)("h5",{className:"text-wrap text-start",children:[n," ",t]})}),Object(x.jsx)(Ma.a.Menu,{className:"m-0 p-0",children:Object(x.jsx)(Ba,Object(p.a)(Object(p.a)({},a),{},{date:t}))})]})})},Ba=function(e){var t=e.date,n=e.onChange,a=Object(r.useState)(t),c=Object(m.a)(a,2),s=c[0],i=c[1];Object(r.useEffect)((function(){i(t)}),[t]);var l={handlerYearChange:Object(r.useCallback)((function(e){n(n&&1===e?fe()(s,"YYYY").add(1,"years").format("YYYY"):fe()(s,"YYYY").subtract(1,"years").format("YYYY"))}),[s,n]),year:s};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Aa,{data:l})})},Aa=Object(r.memo)((function(e){var t=e.data,n=t.handlerYearChange,a=t.year;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(gt.a,{border:"light",className:"shadow-sm flex-fill year-selector my-card",style:{width:"250px",minWidth:"250px"},children:Object(x.jsx)(gt.a.Header,{children:Object(x.jsxs)("div",{className:"w-100 d-flex justify-content-between",children:[Object(x.jsx)(w.a,{className:"btn-arrow-left",variant:"primary",onClick:function(){return n(-1)},children:Object(x.jsx)(y.a,{icon:g.g})}),Object(x.jsx)("h5",{className:"text-center m-0",children:a}),Object(x.jsx)(w.a,{className:"btn-arrow-right",variant:"primary",onClick:function(){return n(1)},children:Object(x.jsx)(y.a,{icon:g.h})})]})})})})}),Mt.isEqual),Pa=Object(r.memo)((function(e){var t=e.entityId,n=e.selectTableDate,a=e.onChange,c=function(e){return Ze[e].title}(t),r=Object(o.c)(n);return"workHours"===t||"tours"===t||"publicHolidays"===t||"workHoursByDate"===t?Object(x.jsx)(Da,{onChange:a,title:c,date:fe()(r,fe.a.ISO_8601).format("YYYY.MM")}):""===t?Object(x.jsx)(Fa,{onChange:a,title:c,date:fe()(r,fe.a.ISO_8601).format("YYYY")}):Object(x.jsx)(w.a,{variant:"transparent",className:"btn-title text-wrap",children:Object(x.jsxs)("h5",{children:[" ",c," "]})})}),Et.a),Ha=["connectionIdx"],La=function(e){var t=e.actions,n=e.selectors,a=e.entityId,c=Object(o.b)(),s=Object(M.b)().getHeader,i=function(e){var t=e.selectors,n=t.metaSelector,a=t.labelsSelector,c=t.tablesSelector,s=t.modesSelector,i=(t.filtersSelector,t.changesSelector),l=e.entityId,o=Object(r.useCallback)((function(e){return c.selectById(e,l).rows}),[c,l]),d=Object(r.useMemo)((function(){return a.selectEntities}),[a]),u=Object(r.useCallback)((function(e){return!c.selectById(e,l)||c.selectById(e,l).loading}),[c,l]),j=Object(r.useCallback)((function(e){return c.selectById(e,l)?c.selectById(e,l).selectedLabels:[]}),[c,l]),b=Object(r.useCallback)((function(e){return c.selectById(e,l)&&c.selectById(e,l).selectedRows&&c.selectById(e,l).selectedRows.length>0}),[c,l]),m=Object(r.useCallback)((function(e){return c.selectById(e,l)&&c.selectById(e,l).changes&&c.selectById(e,l).changes.length>0||!1}),[c,l]),h=Object(r.useCallback)((function(e){return c.selectById(e,l)?c.selectById(e,l).labels:[]}),[c,l]),O=Object(r.useCallback)((function(e){return c.selectById(e,l)?c.selectById(e,l).sortedRowsIds:[]}),[c,l]),x=Object(r.useCallback)((function(e){return s.selectById(e,l)&&s.selectById(e,l).value||!1}),[l,s]),f=Object(r.useCallback)((function(e){return n.selectById(e,"settings")||[]}),[n]),g=Object(r.useCallback)((function(e){var t;return(null===(t=n.selectById(e,"drivers"))||void 0===t?void 0:t.drivers)||[]}),[n]),y=Object(r.useCallback)((function(e){return c.selectById(e,l)&&c.selectById(e,l).pagination||[]}),[c,l]),w=Object(r.useCallback)((function(e){return i.selectEntities(e)||[]}),[i]),N=Object(r.useCallback)((function(e){return c.selectById(e,l).selectedRows||[]}),[c,l]),k=Object(r.useMemo)((function(){return Object($n.a)([O,o,w],(function(e,t,n){return e.map((function(e){return Object(p.a)(Object(p.a)({},t[e]),n[e])}))}))}),[O,o,w]),C=Object(r.useCallback)((function(e){var t=c.selectById(e,l).addRow,n=Object.entries(t)[0][0],a=i.selectById(e,n);return Object(p.a)(Object(p.a)({},Object.entries(t)[0][1]),a)}),[c,l,i]),Y=Object(r.useMemo)((function(){return Object($n.a)([h,d,C],(function(e,t,n){var a=e.map((function(e){return t[e]}));return Object(p.a)(Object(p.a)({},n),a.map((function(e){return Object(he.a)({},e.id,ze(l,e.idx)?ze(l,e.idx)(n[e.id]):n[e.id])})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}))}))}),[h,d,C,l]),S=Object(r.useMemo)((function(){return Object($n.a)([h,d,f,g],(function(e,t,n,a){return e.map((function(e){var c=t[e],r=c.text,s=c.id,i=c.idx,o=c.type,d=c.measurement,u=c.maxWidth,j=c.minWidth,b=c.links,m=c.ignoreSort,h=c.componentId,O={Header:r,id:s,idx:i,type:o,ignoreSort:m,measurement:d,minWidth:j,maxWidth:u,links:b&&b.map((function(e){var t=e.connectionIdx,n=Object(v.a)(e,Ha);return Object(p.a)({format:Ke(l,t)},n)}))};return"date"===o?Object(p.a)({},O):"customComponent"===o?Object(p.a)(Object(p.a)({},O),{},{componentId:h}):"constant"!==o?O:Object(p.a)(Object(p.a)({},O),{},{availableValues:"driver"===i?null===a||void 0===a?void 0:a.map((function(e){var t=e.uid,n=e.name,a=e.email;return{value:t,label:n||a}})):n[i].map((function(e){return{value:e+"",label:e+""}}))||[]})}))}))}),[h,d,f,g,l]),M=Object(r.useMemo)((function(){return Object($n.a)([h,d,k],(function(e,t,n){var a=e.map((function(e){return t[e]}));return n.map((function(n){return Object(p.a)({id:n.id,className:Le(l,e.reduce((function(e,a){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t[a].idx,n[a]))}),{}))},a.map((function(e){return Object(he.a)({},e.id,ze(l,e.idx)?ze(l,e.idx)(n[e.id]):n[e.id])})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}))}))}))}),[h,d,k,l]),I=Object(r.useMemo)((function(){return Object($n.a)([h,j],(function(e,t){return e.reduce((function(e,n){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,t.includes(n)?"table-cell":"none"))}),{})}))}),[h,j]),D=Object(r.useMemo)((function(){return Object($n.a)([d,h,f],(function(e,t,n){return t.map((function(t){var a=e[t],c=a.id,r=a.idx,s=a.text,i=a.type,l={id:c,idx:r,text:s,type:i,measurement:a.measurement,grid:a.grid,page:a.page,required:a.required,priority:a.priority,placeholder:"date"===i?fe()().format("DD.MM.YYYY"):""};return"constant"===i?Object(p.a)(Object(p.a)({},l),{},{availableValues:n[r]}):"date"===i?Object(p.a)(Object(p.a)({},l),{},{portal:!1,withButton:!1}):l}))}))}),[d,h,f]),E=Object(r.useCallback)((function(e){return c.selectById(e,l)&&c.selectById(e,l).selectedLabels||[]}),[l,c]),T=Object(r.useCallback)((function(e){var t=c.selectById(e,l)&&c.selectById(e,l).sort;return{id:t&&c.selectById(e,l)&&c.selectById(e,l).nanoids&&c.selectById(e,l).nanoids[t.id],order:t&&t.order}}),[l,c]),R=Object(r.useCallback)((function(e,t){return t}),[]),W=Object(r.useCallback)((function(e){return c.selectById(e,l).filters||{}}),[c,l]),F=Object(r.useCallback)((function(e){return n.selectById(e,"date")&&n.selectById(e,"date").value||fe()().format("MM.YYYY")}),[n]),B=Object(r.useCallback)((function(e){return c.selectById(e,l).date}),[c,l]),A=Object($n.a)([f,g,R],(function(e,t,n){var a,c=n.idx;return"driver"===c?null===t||void 0===t?void 0:t.map((function(e){var t=e.uid,n=e.email;return{id:t,text:e.name||n}})):(null===(a=e[c])||void 0===a?void 0:a.map((function(e){return{id:e,text:e}})))||[]})),P=Object($n.a)([d,R],(function(e,t){return e[t.label]})),H=Object($n.a)([W,R],(function(e,t){return e[t.idx]||{}})),L=Object($n.a)([A,P,H,B],(function(e,t,n,a){var c=t.max,r=t.min,s=t.measurement,i=t.filterType,l=n.gte,o=n.lte,d=n.neq;switch(i){case"date":return{year:fe()(a).format("YYYY"),month:fe()(a).format("MM"),from:l,to:o};case"range":return{max:c,min:r,title:s,gte:l,lte:o};case"time":return{gte:l,lte:o};case"checkbox":return{checkedAll:!d||0===d.length,rows:(null===e||void 0===e?void 0:e.map((function(e){return{value:e,checked:!d||!d.includes(e.id)}})))||[]};default:return{}}})),U=Object($n.a)([h,f,g,d,E],(function(e,t,n,a,c){return e.filter((function(e){return!a[e].hidden})).map((function(e){var r=a[e].text,s=a[e].filterType,i=c.includes(e),l=a[e].idx,o=!s||"checkbox"===s&&("driver"===l?!n||n.length<0:!t[l]||t[l].length<0);return{disabled:o,id:e,displayArrow:!o,text:r,checked:i,props:{type:s,label:e,idx:l}}}))}));return{selectSelectedRows:N,selectDate:F,selectTableDate:B,selectLabelsModal:D,selectHiddenHeadersReactTable:I,selectShownHeadersReactTable:S,selectReactTableData:M,selectSettings:f,selectMode:x,selectAddRow:Y,selectShownRows:O,selectShownLabels:h,selectChangesExist:m,selectSelectedRowsExist:b,selectAllRowsById:o,selectAllLabelsById:d,selectSelectedLabels:j,selectNestedCheckboxFilter:W,selectItemsFilter:U,selectPaginationData:y,selectSortedHeadersReactTable:T,selectLoading:u,selectItemsNestedFilter:L}}({selectors:n,entityId:a}),l=i.selectSelectedRows,d=(i.selectDate,i.selectTableDate),u=i.selectLabelsModal,j=i.selectHiddenHeadersReactTable,b=i.selectShownHeadersReactTable,m=i.selectSortedHeadersReactTable,h=i.selectReactTableData,O=i.selectMode,f=i.selectChangesExist,g=i.selectSelectedRowsExist,y=i.selectItemsFilter,w=i.selectNestedCheckboxFilter,N=i.selectPaginationData,k=i.selectLoading,C=i.selectAddRow,Y=i.selectItemsNestedFilter,S=function(e){var t=e.actions,n=t.addChange,a=t.setSelectedRows,c=t.resetChanges,s=t.changeMode,i=t.toggleColumn,l=t.onSelectRow,o=t.toggleAllChecked,d=t.fetchAndInitEntityGrid,u=t.fetchUpdatedEntity,j=t.fetchSortedEntityGrid,b=t.fetchPage,m=t.fetchFiltered,h=t.postRows,O=t.deleteRows,x=e.entityId,f=e.dispatch,v=e.getHeader,g=Object(r.useCallback)((function(e){var t=e.changes,a=e.rowId;return f(n({id:x,changes:t,rowId:a}))}),[f,x,n]),y=Object(r.useCallback)((function(e){f(a({id:x,rows:e}))}),[f,x,a]),w=Object(r.useCallback)((function(e){f(l({id:x,rowId:e}))}),[f,x,l]),N=Object(r.useCallback)((function(){f(o(x))}),[f,x,o]),k=Object(r.useCallback)((function(e){v().then((function(t){return f(j({entityId:x,labelId:e,header:t}))}))}),[f,x,j,v]),C=Object(r.useCallback)((function(){f(c(x))}),[f,x,c]),Y=Object(r.useCallback)((function(e){f(s({entityId:x,mode:e}))}),[f,x,s]),S=Object(r.useCallback)((function(){return v().then((function(e){return f(h({entityId:x,header:e})).then((function(t){var n,a=t.payload;if(200!==a.status)throw new Error(a.message);var c=(null===(n=He(x))||void 0===n?void 0:n.onUpdate)||[],r=[].concat(Object(me.a)(c),[x]).map((function(t){return f(u({entityId:t,header:e}))}));return f(u({entityId:x,header:e})).then(Promise.all(r))}))}))}),[f,x,u,h,v]),M=Object(r.useCallback)((function(){f(c(x))}),[f,x,c]),I=Object(r.useCallback)((function(){console.log("on Download")}),[]),D=Object(r.useCallback)((function(){console.log("on Add")}),[]),E=Object(r.useCallback)((function(){v().then((function(e){return f(O({entityId:x,header:e})).then((function(){var t,n=(null===(t=He(x))||void 0===t?void 0:t.onUpdate)||[],a=[].concat(Object(me.a)(n),[x]).map((function(t){return f(u({entityId:t,header:e}))}));return f(u({entityId:x,header:e})).then(Promise.all(a))}))}))}),[f,x,u,O,v]),T=Object(r.useCallback)((function(e){return v().then((function(t){return f(u({entityId:x,initialFilters:{date:{eq:[fe()(e).format("YYYY.MM")]}},selectedRows:[],date:e,header:t})).then((function(){var n,a=((null===(n=He(x))||void 0===n?void 0:n.onDateChange)||[]).map((function(n){return f(u({entityId:n,initialFilters:Ue(n,e),filters:{date:void 0},header:t}))}));return Promise.all(a)}))}))}),[f,x,u,v]),R=Object(r.useCallback)((function(e){return v().then((function(t){return f(u({entityId:x,initialFilters:{date:{gte:fe()(e).format("YYYY.MM")+".01",lte:fe()(e).format("YYYY.MM")+".31"}},selectedRows:[],date:e,header:t})).then((function(){var n,a=((null===(n=He(x))||void 0===n?void 0:n.onDateChange)||[]).map((function(n){return f(u({entityId:n,initialFilters:Ue(n,e),filters:{date:void 0},header:t}))}));return Promise.all(a)}))}))}),[f,x,u,v]),W=Object(r.useCallback)((function(e){return v().then((function(t){var n={user:{eq:[e]}};f(d({entityId:x,url:Ve(x),limit:qe(x).pageSize,initialFilters:n,header:t}))}))}),[f,x,d,v]),F=Object(r.useCallback)((function(e){v().then((function(t){return f(m({entityId:x,filter:Object(p.a)(Object(p.a)({},e),{},{action:"toggle"}),header:t}))}))}),[f,x,m,v]),B=Object(r.useCallback)((function(e){return v().then((function(t){return f(m({entityId:x,filter:Object(p.a)(Object(p.a)({},e),{},{action:"toggleAll"}),header:t}))}))}),[f,x,m,v]),A=Object(r.useCallback)((function(e){return v().then((function(t){return f(m({entityId:x,filter:Object(p.a)(Object(p.a)({},e),{},{action:"between"}),header:t}))}))}),[f,x,m,v]),P=Object(r.useCallback)((function(e){return v().then((function(t){return f(m({entityId:x,filter:Object(p.a)(Object(p.a)({},e),{},{action:"reset"}),header:t}))}))}),[f,x,m,v]),H=Object(r.useCallback)((function(){return v().then((function(e){return f(m({entityId:x,filter:{action:"resetAll"},header:e}))}))}),[f,x,m,v]),L=Object(r.useCallback)((function(e){return v().then((function(t){return f(b({entityId:x,page:e,header:t}))}))}),[f,x,b,v]);return{onChangeCurrentUser:W,onChangeCurrentYearMonth:T,onCellChange:g,setSelectedRows:y,forceClose:C,onChangeMode:Y,onSave:S,onClose:M,onDownload:I,onAdd:D,onDelete:E,onChangeCurrentDate:R,onToggleCheckboxFilter:F,onToggleAllCheckboxFilter:B,onChangeRangeFilter:A,onToggleLabel:Object(r.useCallback)((function(e){f(i({id:x,columnId:e}))}),[x,i,f]),onResetAllFilters:H,onResetFilter:P,onPageChange:L,onSelectRow:w,onSelectAllRows:N,onToggleSort:k}}({actions:t,entityId:a,dispatch:c,getHeader:s}),I=S.onChangeCurrentYearMonth,D=S.onCellChange,E=(S.setSelectedRows,S.onSelectRow),T=S.onSelectAllRows,R=S.forceClose,W=S.onChangeMode,F=S.onSave,B=S.onClose,A=S.onDownload,P=S.onAdd,H=S.onDelete,L=S.onChangeCurrentDate,U=S.onChangeCurrentUser,V=(S.onChangeCurrentTableDate,S.onToggleCheckboxFilter),q=S.onToggleAllCheckboxFilter,_=S.onChangeRangeFilter,z=S.onToggleLabel,K=S.onResetAllFilters,G=S.onResetFilter,J=S.onPageChange,Q=S.onToggleSort,X=Object(r.useMemo)((function(){return Object(x.jsx)(Pa,{entityId:a,selectTableDate:d,onChange:"workHoursByDate"===a?I:L})}),[a,I,L,d]),Z=Object(r.useCallback)((function(e){return Object(x.jsx)(Sa,Object(p.a)({onToggleCheckbox:V,onToggleAllCheckbox:q,onChangeRange:_,onReset:G},e))}),[V,q,_,G]),$=qe(a),ee=$.filter,te=$.sort,ne=$.add,ae=$.download,ce=$.remove,re=$.massEdit,se=$.pagination,ie=$.pageSize,le=$.edit;return{outsideProps:{onChangeCurrentUser:U},tableProps:{selectShownColumns:b,selectData:h,onCellChange:D,massEdit:re,size:ie,selectLoading:k,footerProps:{selectPaginationData:N,paginationProps:se&&{selectPaginationData:N,paginationEnabled:se,onPageChange:J},counterProps:$.counter},bodyProps:{selectAddRow:C,massEdit:re,selectHiddenColumns:j,selectSelectedRows:l,modeselector:O,onSelectRow:E},headerProps:{selectHiddenColumns:j,selectPaginationData:N,onSelectAllRows:T,selectSelectedRows:l,massEdit:re,selectSortedColumn:m,sortProps:{sortEnabled:te,onToggleSort:Q}}},buttonGroupProps:{edit:le,add:ne,filter:ee,selectMode:O,selectChangesExist:f,selectSelectedRowsExist:g,onAdd:P,onDelete:H,onDownload:A,onClose:B,onSave:F,onChangeMode:W,forceClose:R,download:ae,remove:ce,modalProps:ne&&{selectLabelsModal:u,title:"ModalTitle"},filterProps:ee&&{selectItemsFilter:y,selectNestedCheckboxFilter:w,nestedFilterComponent:Z,selectItemsNestedFilter:Y,onToggleLabel:z,onResetAllFilters:K}},titleProps:{title:X}}},Ua=["tableProps"],Va=Object(r.memo)((function(e){var t=e.actions,n=e.selectors,a=e.entityId,c=La({actions:t,selectors:n,entityId:a}),r=c.tableProps,s=Object(v.a)(c,Ua);return Object(x.jsxs)(gt.a,{className:"card-dark grid-table",children:[Object(x.jsx)(gt.a.Header,{className:"border-0",children:Object(x.jsx)(Xn,Object(p.a)({},s))}),Object(x.jsx)(gt.a.Body,{children:Object(x.jsx)(Fn,Object(p.a)({},r))})]})}),Et.a),qa=(Et.a,n(117)),_a=(n(588),n(279),n(280),n(282)),za=function(e){var t={labels:e.labels,datasets:[{label:"",data:e.series,fill:!1,backgroundColor:"rgba(7,113,171, 1)",borderColor:"rgba(7,113,171, 0.2)"}]};return Object(x.jsx)(_a.b,{data:t,options:{plugins:{legend:{display:!1},tooltip:{displayColors:!1}},aspectRatio:1.4,scales:{x:{grid:{tickColor:"transparent"}},y:{grid:{tickColor:"transparent"},beginAtZero:!1}}}})},Ka=function(e){var t={labels:e.labels,datasets:[{label:"",data:e.series,backgroundColor:"rgba(7,113,171, 1)",borderColor:"rgba(7,113,171, 0.2)"}]},n={plugins:{tooltip:{displayColors:!1},legend:{display:!1}},aspectRatio:1.4,autoSkip:!1,scales:{x:{ticks:{callback:function(t,n){return e.labels[t].split(" ").reduce((function(e,t){return e+" "+t.substring(0,3)+"."}),"")}},grid:{color:"transparent",tickColor:"transparent"}}}};return Object(x.jsx)(_a.a,{width:"100%",data:t,options:n})},Ga=(n.p,n.p,function(e){var t=e.icon,n=e.iconColor,a=e.category,c=e.title,r=(e.period,e.percentage),s=e.className,i=void 0===s?"":s;e.previousPeriod,r<0?g.c:g.f;return Object(x.jsx)(gt.a,{border:"light",className:i+" shadow-sm h-100",children:Object(x.jsx)(gt.a.Body,{className:"d-flex justify-content-center",children:Object(x.jsx)(se.a,{className:"d-flex flex-wrap align-items-center w-100",children:Object(x.jsxs)(ie.a,{xs:12,className:"text-xl-center d-flex flex-wrap align-items-center justify-content-center mb-3 mb-xl-0",children:[Object(x.jsx)("div",{className:"icon icon-shape icon-md icon-".concat(n," col-6 col-sm-5 rounded me-4 me-sm-0"),children:Object(x.jsx)(y.a,{icon:t})}),Object(x.jsxs)("div",{className:"col-6 col-sm-7",children:[Object(x.jsx)("h5",{children:a}),Object(x.jsx)("h3",{className:"mb-1",children:c})]})]})})})})}),Ja=function(e){var t=e.title,n=(e.value,e.percentage,e.labels),a=void 0===n?[]:n,c=e.series,r=void 0===c?[]:c;return Object(x.jsxs)(gt.a,{border:"light",className:"card-dark",children:[Object(x.jsx)(gt.a.Header,{className:"border border-0 p-0",children:Object(x.jsx)("div",{style:{padding:"0.55rem 0.75rem"},children:Object(x.jsxs)("h5",{children:[" ",t," "]})})}),Object(x.jsx)(gt.a.Body,{className:"p-2",children:Object(x.jsx)(Ka,{series:r,labels:a})})]})},Qa=function(e){var t=e.title,n=(e.value,e.percentage,e.series),a=void 0===n?[]:n,c=e.labels,r=void 0===c?[]:c;return Object(x.jsxs)(gt.a,{className:"card-dark",children:[Object(x.jsx)(gt.a.Header,{className:"border border-0 p-0",children:Object(x.jsx)("div",{style:{padding:"0.55rem 0.75rem"},children:Object(x.jsxs)("h5",{children:[" ",t," "]})})}),Object(x.jsx)(gt.a.Body,{className:"p-2",children:Object(x.jsx)(za,{series:a,labels:r})})]})},Xa=Object(r.memo)((function(){var e=ft.actions,t=ft.selectors,n=Object(r.useCallback)((function(e){return t.metaSelector.selectById(e,"cbm")||{}}),[t.metaSelector]),a=Object(o.c)(n),c=a.currentMonth,s=void 0===c?0:c,i=a.lastMonth,l=void 0===i?0:i,d=a.byWorkPlant,u=a.year,j=fe()().format("YYYY/MM"),b=fe()().subtract(1,"months").format("YYYY/MM"),m=Object(r.useMemo)((function(){return{cbmLabels:fe.a.monthsShort(),cbmSeries:fe.a.months().map((function(e){var t;return null===u||void 0===u||null===(t=u.find((function(t){return fe()(t.date,"YYYY.MM").format("MMMM")===e})))||void 0===t?void 0:t.cbm}))}}),[u]),h=m.cbmLabels,O=m.cbmSeries,f=Object(r.useMemo)((function(){return{workPlantLabels:null===d||void 0===d?void 0:d.map((function(e){return e.workPlant})),workPlantSeries:null===d||void 0===d?void 0:d.map((function(e){return parseInt(e.cbm)}))}}),[d]),p=f.workPlantLabels,v=f.workPlantSeries,y=Object(r.useCallback)((function(n){return Object(x.jsx)(Va,{stateAPIStatus:"success",actions:e,selectors:t,entityId:n})}),[t,e]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"w-100",children:Object(x.jsxs)("div",{className:"w-100 d-flex flex-wrap justify-content-center",children:[Object(x.jsxs)("div",{className:"col-12 col-xxl-6 d-flex flex-wrap",children:[Object(x.jsx)("div",{className:"p-2 col-12 col-sm-6",children:Object(x.jsx)(Ga,{category:"Cbm current month",title:s+" cbm",period:fe()(j,"YYYY/MM").format("MMM."),icon:g.p,iconColor:"shape-secondary"})}),Object(x.jsx)("div",{className:"p-2 col-12 col-lg col-sm-6",children:Object(x.jsx)(Ga,{className:"w-100",category:"Cbm previous month",title:l+" cbm",period:fe()(b,"YYYY/MM").format("MMM."),icon:g.p,iconColor:"shape-secondary"})}),Object(x.jsx)("div",{className:"p-2 col-12 col-sm-12  col-xl-12",children:y("pendingVacations")}),Object(x.jsx)("div",{className:"p-2 col-12 col-sm-12  col-xl-12",children:y("upcomingAbsent")})]}),Object(x.jsx)("div",{className:"p-2 col",children:y("workHoursByDate")}),Object(x.jsxs)("div",{className:"d-flex flex-wrap col-xl-8 col-xxl-12 col-xl-12 col-12",children:[Object(x.jsx)("div",{className:"p-2 col-xxl-6 col-xl-6 col-12",children:Object(x.jsx)(Qa,{title:"Year's Cbm",labels:h,series:O})}),Object(x.jsx)("div",{className:"p-2  col-xxl-6 col-xl-6 col-12",children:Object(x.jsx)(Ja,{title:"Workplant's Cbm",labels:p,series:v})})]})]})})})}),Mt.isEqual),Za=function(){return function(e){var t=Object(j.h)();return"success"===e?Object(x.jsx)(Xa,{}):"error"===e?t("/500"):Object(x.jsx)("div",{className:"d-flex h-100 align-items-center",children:Object(x.jsx)(hn.a,{show:!0})})}(tt("overviewTable",ft.actions))},$a=n(347),ec=n(580),tc=["show","onClose"],nc=function(e){var t=e.activeKey,n=e.onClick,a=e.value,c=e.name,r=e.icon,s=t===c;return Object(x.jsx)(N.a.Item,{className:"col-4 d-flex align-items-center bg-senary rounded-top border-senary border-bottom "+(s?"text-nonary bg-senary":"text-senary bg-darker-nonary"),children:Object(x.jsx)(N.a.Link,{onClick:function(){return n(c)},eventKey:c,style:{fontSize:"14px"},className:" w-100 text-wrap text-truncate text-center fw-bolder px-1 m-0 "+(s?"text-nonary bg-senary":"text-senary bg-darker-nonary"),children:s?a:Object(x.jsx)(y.a,{icon:r,size:"lg"})})})},ac=Object(r.memo)((function(){var e=Object(r.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(be.d)().fetchUserConfirmedVacations;return Object(r.useEffect)((function(){c().then((function(e){var t=e.data;a(t.content)}))}),[c]),Object(x.jsx)("div",{className:"date-picker-overview w-100 d-flex flex-column h-100 pt-2",children:Object(x.jsx)("div",{style:{overflow:"hidden",position:"relative",flexGrow:1},children:Object(x.jsx)("div",{className:"d-flex flex-column w-100 px-3",style:{position:"absolute",top:0,bottom:0,overflow:"auto"},children:null===n||void 0===n?void 0:n.map((function(e){return Object(x.jsx)("div",{className:"d-flex justify-content-center py-2 fw-bold w-100",children:Object(x.jsxs)(w.a,{variant:"nonary",className:"w-100 d-flex flex-wrap",children:[Object(x.jsx)("div",{className:"col-6 pe-3 flex-fill d-flex flex-column align-items-center",children:Object(x.jsx)("div",{className:"fw-bolder",children:e.dateFrom})}),Object(x.jsx)("div",{className:"col-6 ps-3 flex-fill d-flex flex-column align-items-center",children:Object(x.jsx)("span",{className:"fw-bolder",children:e.dateTo})}),Object(x.jsxs)("div",{className:"col-12 fw-bolder text-center ",style:{fontSize:"18px"},children:[e.days," days"]})]})},e.id)}))})})})}),Et.a),cc=function(){var e=Object(r.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(0),s=Object(m.a)(c,2),i=s[0],l=s[1],o=Object(r.useState)(0),d=Object(m.a)(o,2),u=d[0],j=d[1],b=i+1<u,h=Object(be.d)().fetchUserTours;Object(r.useEffect)((function(){h().then((function(e){var t=e.data;a(t.content),j(t.totalPages)}))}),[h]);var O=Object(r.useCallback)((function(){b&&h(i+1).then((function(e){var t=e.data;l(i+1),a((function(e){return[].concat(Object(me.a)(e),Object(me.a)(t.content))})),j(t.totalPages)}))}),[i,h,b]);return Object(x.jsx)("div",{className:"date-picker-overview w-100 d-flex flex-column h-100 pt-2",children:Object(x.jsx)("div",{style:{overflow:"hidden",position:"relative",flexGrow:1},children:n&&Object(x.jsx)(rc,{tours:n,spinner:b,onScroll:O})})})},rc=function(e){var t=e.tours,n=e.spinner,a=void 0!==n&&n,c=e.onScroll,i=Object(r.useState)(!1),l=Object(m.a)(i,2),o=l[0],d=l[1],u=Object(r.useCallback)((function(e){return d(Object(p.a)(Object(p.a)({},e),{},{show:!0}))}),[]),j=Object(me.a)(new Set(t.map((function(e){return e.date})))),b=j.reduce((function(e,n){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,t.filter((function(e){return e.date===n}))))}),{}),h=Object(r.useCallback)((function(e){e.target.scrollHeight-(e.target.scrollTop+e.target.offsetHeight)<50&&c&&c()}),[c]),O=Object(r.useMemo)((function(){return It.a.debounce(h,1e3)}),[h]);return Object(x.jsxs)("div",{className:"d-flex flex-column w-100 px-3",style:{position:"absolute",top:0,bottom:0,overflow:"auto"},onScroll:O,children:[Object(x.jsx)(ic,Object(p.a)({onClose:function(){return d({show:!1})}},o)),null===j||void 0===j?void 0:j.map((function(e){return Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsxs)("div",{className:"d-flex justify-content-center py-2 fw-bold",children:[Object(x.jsx)("span",{className:"border-senary border-bottom flex-grow-1",style:{marginBottom:"12px"}}),Object(x.jsx)("span",{className:"text-center text-senary px-2",children:lc(e)}),Object(x.jsx)("span",{className:"border-senary border-bottom flex-grow-1",style:{marginBottom:"12px"}})]}),b[e].map((function(e){return Object(x.jsx)(sc,{tour:e,onClick:u},e.id)})),Object(x.jsx)("div",{className:"pt-4"})]},e)})),a&&Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)(St.a,{animation:"border",variant:"senary"})})]})},sc=function(e){var t=e.tour,n=e.onClick,a=Object(r.useCallback)((function(){n&&n(t)}),[t,n]);return Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"p-1 w-100 h-100 d-flex",children:Object(x.jsxs)(w.a,{onClick:a,variant:"nonary",className:"w-100  d-flex justify-content-between",children:[Object(x.jsx)("span",{className:"ps-3 pe-3 text-truncate text-break",children:t.buildingSite}),Object(x.jsx)("span",{className:"pe-3",children:t.arrival})]})})})},ic=function(e){var t=e.show,n=e.onClose,a=Object(v.a)(e,tc);return Object(x.jsxs)(Kn.a,{show:t,onHide:n,centered:!0,className:"dark-modal",scrollable:!0,children:[Object(x.jsx)(Kn.a.Header,{className:"p-0 d-flex justify-content-end",children:Object(x.jsx)("div",{className:"p-2",children:Object(x.jsx)(w.a,{variant:"transparent",className:"p-0 text-senary d-flex justify-content-center align-items-center",style:{height:"30px",width:"30px"},onClick:n,children:Object(x.jsx)(y.a,{icon:g.P})})})}),Object(x.jsx)(Kn.a.Body,{className:"pt-1",children:_e("tours").map((function(e){var t,n;return Object(x.jsxs)("div",{className:"d-flex flex-wrap justify-content-between border-bottom border-senary text-senary fw-bolder",children:[Object(x.jsx)("div",{className:"text-start text-break text-wrap pe-2",style:{minWidth:"60px"},children:null===(t=Xe("tours")[e])||void 0===t?void 0:t.text}),Object(x.jsx)("div",{className:"flex-fill text-end text-break text-wrap ps-2 fw-bold",children:a&&(a[e]||"")+((null===(n=Xe("tours")[e])||void 0===n?void 0:n.measurement)||"")})]},e)}))})]})};function lc(e){var t=fe()(e,"YYYY.MM.DD"),n=fe()();return t===n?"Today":t===n.subtract(1,"day")?"Yesterday":t.format("YYYY")===n.format("YYYY")?t.format("DD MMMM"):e}var oc=function(){var e=Object(r.useState)(fe()()),t=Object(m.a)(e,2),n=t[0],a=(t[1],Object(r.useState)()),c=Object(m.a)(a,2),s=c[0],i=c[1],l=Object(r.useState)(),o=Object(m.a)(l,2),d=o[0],u=o[1],j=s&&Object.keys(s),b=Object(r.useMemo)((function(){return n.format("YYYY.MM")+".31"}),[n]),h=Object(r.useMemo)((function(){return n.subtract(1,"y").format("YYYY.MM")+".01"}),[n]),O=d&&s[d],f=Object(be.d)().fetchUserWorkHours;Object(r.useEffect)((function(){f(h,b).then((function(e){var t,n=e.data,a=null===n||void 0===n||null===(t=n.content)||void 0===t?void 0:t.reduce((function(e,t){var n=t.date,a=t.begin,c=t.end,r=t.pause;return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,{begin:a,end:c,pause:r,date:n}))}),{});i(a)}))}),[f,h,b]);return Object(x.jsxs)("div",{className:"date-picker-overview",children:[Object(x.jsx)("div",{children:Object(x.jsx)(xa.b,{variant:"darker",carousel:!0,disableMonthSwap:!0,onMonthChange:function(e){u()},from:"2022.02.01",max:fe()().add(1,"day").format("YYYY.MM.DD"),highlightedDays:j,onChange:function(e){return u(e)},singleDate:!0})}),O&&Object(x.jsx)(dc,Object(p.a)({},O))]})},dc=function(e){var t=e.begin,n=e.end,a=e.pause,c=e.date;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Hn.a,{defaultActiveKey:"0",className:"px-2 accordion-dark",children:Object(x.jsxs)(Hn.a.Item,{className:"w-100",eventKey:"0",children:[Object(x.jsx)(Hn.a.Header,{children:Object(x.jsxs)("div",{className:"w-100 d-flex flex-nowrap justify-content-center fw-bold",children:[Object(x.jsx)("span",{children:fe()(c,"YYYY.MM.DD").format("dddd")}),Object(x.jsx)("span",{className:"ps-2",children:Te(Re([t,n]))})]})}),Object(x.jsxs)(Hn.a.Body,{className:"d-flex flex-column",children:[Object(x.jsxs)("div",{className:"d-flex flex-nowrap  justify-content-between",children:[Object(x.jsx)("span",{children:"Begin"}),Object(x.jsx)("span",{children:t})]}),Object(x.jsxs)("div",{className:"d-flex flex-nowrap  justify-content-between py-1",children:[Object(x.jsx)("span",{children:"End"}),Object(x.jsx)("span",{children:n})]}),Object(x.jsxs)("div",{className:"d-flex flex-nowrap  justify-content-between",children:[Object(x.jsx)("span",{children:"Pause"}),Object(x.jsx)("span",{children:a})]})]})]})})})},uc=function(){var e=Object(r.useState)("tab1"),t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(x.jsx)("div",{className:" w-100 h-100 align-items-center justify-content-start d-flex flex-column bg-darker-nonary",children:Object(x.jsx)("div",{className:"w-100 h-100 d-flex flex-column pt-3",style:{maxWidth:"400px"},children:Object(x.jsxs)(ec.a.Container,{activeKey:n,children:[Object(x.jsx)("div",{className:"w-100",children:Object(x.jsxs)(N.a,{className:"nav-tabs d-flex flex-nowrap justify-content-around w-100 border-0 px-4",children:[Object(x.jsx)(nc,{name:"tab1",activeKey:n,onClick:a,value:"Work Hours",icon:$a.a}),Object(x.jsx)(nc,{name:"tab2",activeKey:n,onClick:a,value:"Tours",icon:g.R}),Object(x.jsx)(nc,{name:"tab3",activeKey:n,onClick:a,value:"Vacations",icon:g.J})]})}),Object(x.jsx)("div",{className:"w-100 h-100",children:Object(x.jsxs)(ec.a.Content,{className:"d-flex justify-content-center h-100",children:[Object(x.jsx)(ec.a.Pane,{eventKey:"tab1",className:"py-1",children:Object(x.jsx)(oc,{})}),Object(x.jsx)(ec.a.Pane,{eventKey:"tab2",className:"py-1 w-100 h-100",children:Object(x.jsx)(cc,{})}),Object(x.jsx)(ec.a.Pane,{eventKey:"tab3",className:"py-1 w-100 h-100",children:Object(x.jsx)(ac,{})})]})})]})})})},jc=n(586),bc=Object(r.memo)((function(){var e=ft.actions,t=ft.selectors,n=Object(be.d)(),a=n.fetchAddToursSettings,c=n.postSettings,s=Object(r.useState)(),i=Object(m.a)(s,2),l=i[0],o=i[1];Object(r.useEffect)((function(){a().then((function(e){return o(JSON.parse(e.data[0].values[0]))}))}),[a]);var d=Object(r.useCallback)((function(n){return Object(x.jsx)(Va,{stateAPIStatus:"success",actions:e,selectors:t,entityId:n})}),[t,e]);return Object(x.jsxs)("div",{className:"d-flex flex-wrap w-100 align-items-start",children:[Object(x.jsxs)("div",{className:"d-flex flex-wrap col-12 col-xxl-6 order-2 order-xxl-1",children:[Object(x.jsx)("div",{className:"col-lg-6 order-1 col-12 p-2",children:d("settingsWorkPlant")}),Object(x.jsxs)("div",{className:"col-lg-6 order-2 col-12",children:[Object(x.jsx)("div",{className:"col-lg-12 col-12 p-2",children:d("settingsDischargeType")}),Object(x.jsx)("div",{className:"col-lg-12 col-12 p-2",children:d("settingsVehicle")})]})]}),Object(x.jsxs)("div",{className:"d-flex flex-wrap order-1 order-xxl-2 col-12 col-xxl-6",children:[Object(x.jsx)("div",{className:"col-12 p-2",children:Object(x.jsxs)(gt.a,{children:[Object(x.jsx)(gt.a.Header,{className:"p-1 border-0",children:Object(x.jsx)(w.a,{variant:"transparent",children:Object(x.jsx)("h5",{className:"m-0 p-3",children:"User Add Tours Layout"})})}),Object(x.jsx)(gt.a.Body,{className:"pt-0",children:l&&Object(x.jsx)(mc,{settings:l,entityId:"tours",postSettings:c})})]})}),Object(x.jsx)("div",{className:"col-12 p-2 order-1 order-xxl-1",children:d("publicHolidays")})]})]})}),Mt.isEqual),mc=function(e){var t=e.settings,n=e.entityId,a=e.postSettings,c=Xe(n),s=Object(r.useState)("tab1"),i=Object(m.a)(s,2),l=i[0],o=i[1],d=_e(n),u=Object.keys(t),j=Object(r.useState)(u.reduce((function(e,n){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,t[n].labels))}),{})),b=Object(m.a)(j,2),h=b[0],O=b[1],f=Object(r.useState)(u.reduce((function(e,n){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,t[n].title))}),{})),v=Object(m.a)(f,2),g=v[0],y=v[1],w=Object(r.useCallback)((function(){O(u.reduce((function(e,n){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,t[n].labels))}),{})),y(u.reduce((function(e,n){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},n,t[n].title))}),{}))}),[t,u]),N=Object(r.useCallback)((function(){var e=u.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t,{labels:h[t],title:g[t]}))}),{}),t=(JSON.stringify(e),{id:"work-plant",value:JSON.stringify(["Dortmund Holcim","Ludenscheid Holcim","Balve Holcim","Plettenberg Holcim","Unna Holcim","Luenen Holcim","Radevormwald Holcim","Wuppertal Holcim","Herne Holcim","Sonstige Holcim","Iserlohn Elskes","Witten Elskes","Dortmund Elskes","Kamen Elskes","Werl Elskes","Sonstige Elskes","Soest Hellwegbeton","Sonstige Hellwegbeton","Sundern TB Westenfeld","Neheim TB Westenfeld","Sprockhoevel TER","Menden Herbrueger","Meschede TB Meschede","Sonstige"])});a(t)}),[a,h,g,u]);return Object(x.jsxs)("div",{className:"d-flex flex-wrap w-100 justify-content-center",children:[Object(x.jsx)(hc,{className:"col-xxl-12 col-xl-6 col-12",tabs:u,newTabTitle:g,setTabTitle:y,primarylabels:d,newTabLabels:h,activeKey:l,setNewTabLabels:O,labels:c}),Object(x.jsx)(Oc,{className:"col-xxl-12 col-xl-6 col-12",activeKey:l,settings:t,newTabLabels:h,newTabTitle:g,labels:c,setActiveKey:o,tabs:u,onReset:w,onSave:N})]})},hc=function(e){var t=e.tabs,n=e.newTabTitle,a=e.setTabTitle,c=e.primarylabels,r=e.newTabLabels,s=e.activeKey,i=e.setNewTabLabels,l=e.labels,o=e.className,d=void 0===o?"":o;return Object(x.jsxs)("div",{className:"d-flex flex-column col-6 justify-content-center ".concat(d),children:[Object(x.jsx)("div",{className:"d-flex w-100 flex-wrap justify-content-center align-content-center pb-2 border-bottom",children:t.map((function(e){return Object(x.jsx)(xc,{value:n[e],onChange:function(t){return a((function(n){return Object(p.a)(Object(p.a)({},n),{},Object(he.a)({},e,t))}))}},e)}))}),Object(x.jsx)("div",{className:"w-100 pt-2 d-flex flex-wrap justify-content-center align-content-center",children:c.map((function(e){return Object(x.jsx)("div",{className:"p-2",style:{height:"50px"},children:Object(x.jsx)(w.a,{className:"w-100 h-100 p-0 px-3",variant:r[s].includes(e)?"light-tertiary":t.filter((function(e){return e!==s})).reduce((function(e,t){return[].concat(Object(me.a)(e),Object(me.a)(r[t]))}),[]).includes(e)?"very-light-blue":"light",onClick:function(){i((function(t){var n=t[s].includes(e);return Object(p.a)(Object(p.a)({},t),{},Object(he.a)({},s,n?t[s].filter((function(t){return t!==e})):[].concat(Object(me.a)(t[s]),[e])))}))},children:l[e].text})},e)}))})]})},Oc=function(e){var t=e.activeKey,n=e.setActiveKey,a=(e.settings,e.labels),c=e.tabs,r=e.newTabLabels,s=e.onReset,i=e.onSave,l=e.newTabTitle,o=e.className,d=void 0===o?"":o;return Object(x.jsx)("div",{className:"p-2 ".concat(d),children:Object(x.jsxs)("div",{className:"bg-darker-nonary p-5 rounded ",style:{height:"fit-content"},children:[Object(x.jsx)(jc.a.Container,{activeKey:t,children:Object(x.jsxs)(se.a,{children:[Object(x.jsx)(ie.a,{lg:12,className:"",children:Object(x.jsx)(N.a,{className:"nav-tabs d-flex flex-nowrap justify-content-around w-100 border-0",children:c.map((function(e){return Object(x.jsx)(N.a.Item,{className:"col-4",children:Object(x.jsx)(N.a.Link,{onClick:function(){return n(e)},eventKey:e,className:"border-bottom  border-senary mb-sm-3 mb-md-0 text-center fw-bolder px-1 "+(t===e?"text-nonary bg-senary":"text-senary bg-darker-nonary"),children:l[e]})},e)}))})}),Object(x.jsx)(ie.a,{lg:12,children:Object(x.jsx)(jc.a.Content,{children:c.map((function(e){return Object(x.jsx)(jc.a.Pane,{eventKey:e,className:"py-4",children:Object(x.jsx)(Rt.a,{autoHeight:!0,autoHeightMax:300,children:r[e].map((function(e){return Object(x.jsx)(fc,{title:a[e].text},e)}))})},e)}))})})]})}),Object(x.jsxs)("div",{className:"d-flex flex-nowrap w-100 justify-content-center bottom-0",children:[Object(x.jsx)("div",{className:"px-2",children:Object(x.jsx)(w.a,{onClick:s,className:"fw-bolder",variant:"nonary",style:{width:"80px",fontWeight:"800"},children:"Reset"})}),Object(x.jsx)("div",{className:"px-2",children:Object(x.jsx)(w.a,{className:"fw-bolder",variant:"senary",style:{width:"80px",fontWeight:"800"},onClick:i,children:"Save"})})]})]})})},xc=function(e){var t=e.value,n=e.onChange,a=Object(r.useState)(!1),c=Object(m.a)(a,2),s=c[0],i=c[1],l=Object(r.useState)(t),o=Object(m.a)(l,2),d=o[0],u=o[1],j=Object(r.useRef)(),b=Object(r.useCallback)((function(e){return u(e.target.value)}),[]),h=Object(r.useCallback)((function(e){i(!1),n(d)}),[n,d]);return Object(r.useEffect)((function(){j.current.focus()}),[s]),Object(x.jsx)("div",{className:"p-2",style:{height:"50px"},children:Object(x.jsx)(w.a,{onClick:function(e){e.preventDefault(),i(!0)},className:"w-100 h-100 p-0 px-3",variant:"senary",children:Object(x.jsx)("input",{ref:j,disabled:!s,autoFocus:!0,className:"border-0 ".concat(s?"bg-white":"bg-transparent"," text-center text-dark  opacity-100 fw-bold"),value:d,style:{maxWidth:"100px",outline:"0"},onBlur:h,onChange:b})})})},fc=function(e){var t=e.title,n=e.titleWidth,a=void 0===n?"50px":n,c=e.contentWidth;return Object(x.jsx)("div",{className:"p-1",children:Object(x.jsx)(w.a,{variant:"nonary",className:"w-100 p-0",children:Object(x.jsx)(gt.a,{bg:"transparent border-0",children:Object(x.jsxs)(gt.a.Body,{className:"d-flex flex-nowrap justify-content-between align-items-center p-3 border-0 fw-bolder",children:[Object(x.jsx)("div",{className:"text-start text-break text-wrap",style:{fontWeight:"800",minWidth:a},children:t}),Object(x.jsx)("div",{className:"d-flex justify-content-end",style:{width:c},children:Object(x.jsx)("div",{className:"text-end text-break text-wrap ",children:Object(x.jsx)("div",{className:"pe-2",children:Object(x.jsx)(y.a,{icon:g.K,size:"xs"})})})})]})})})})},pc=function(){return function(e){var t=Object(j.h)();return"success"===e?Object(x.jsx)(bc,{}):"error"===e?t("/500"):Object(x.jsx)("div",{className:"d-flex h-100 align-items-center",children:Object(x.jsx)(hn.a,{show:!0})})}(tt("settingsTable",ft.actions))},vc=Object(r.memo)((function(){var e=ft.actions,t=ft.selectors,n=Object(r.useCallback)((function(n){return Object(x.jsx)(Va,{stateAPIStatus:"success",actions:e,selectors:t,entityId:n})}),[t,e]);return Object(x.jsx)("div",{className:"d-flex flex-wrap w-100",children:Object(x.jsx)("div",{className:"col-12",children:n("users")})})}),Mt.isEqual),gc=function(){return function(e){var t=Object(j.h)();return"success"===e?Object(x.jsx)(vc,{}):"error"===e?t("/500"):Object(x.jsx)("div",{className:"d-flex h-100 align-items-center",children:Object(x.jsx)(hn.a,{show:!0})})}(tt("usersTable",ft.actions))},yc=["secure_url"],wc=function(e){var t=e.editable,n=e.onChange,a=e.value,c=e.placeholder,s=e.title,i=e.icon,l=Object(r.useState)(!1),o=Object(m.a)(l,2),d=o[0],u=o[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"d-flex ps-1 pe-4 py-2 w-100 flex-nowrap justify-content-around align-items-center ",style:{paddingBottom:d&&"1px"},children:[Object(x.jsx)("div",{className:"text-darker-senary pb-2",style:{width:"30px"},children:Object(x.jsx)(y.a,{icon:i})}),Object(x.jsxs)("div",{className:"flex-fill ms-3 d-flex pb-2",style:{borderBottom:"0.0625rem solid rgb(252 111 91 / 48%)"},children:[Object(x.jsxs)("div",{className:"pe-3 flex-fill flex-column fw-bold w-100 d-flex justify-content-start align-items-start",children:[Object(x.jsx)("span",{className:"text-darker-senary",children:s}),Object(x.jsx)("span",{children:a})]}),t&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"text-darker-senary d-flex justify-content-center align-items-center",style:{width:"30px"},children:Object(x.jsx)(w.a,{variant:"transparent",className:"text-darker-senary p-0 border-0 shadow-none ",size:"sm",onClick:function(){return u((function(e){return!e}))},children:Object(x.jsx)(y.a,{icon:g.H})})}),Object(x.jsx)(Nc,{show:d,onClose:function(){return u(!1)},onSave:function(e){return n(e).then((function(){return u(!1)}))},onCancel:function(){u(!1)},title:s,value:a,placeholder:c})]})]})]})})},Nc=function(e){var t=e.show,n=e.onClose,a=e.title,c=e.value,s=e.placeholder,i=e.onSave,l=e.onCancel,o=Object(r.useState)(c),d=Object(m.a)(o,2),u=d[0],j=d[1];return Object(x.jsx)(Kn.a,{show:t,onHide:n,centered:!0,fullscreen:!0,contentClassName:"bg-transparent text-center",dialogClassName:"dark-modal",children:Object(x.jsx)(Kn.a.Body,{className:"d-flex align-items-end w-100",children:Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(gt.a,{className:"bg-darker-nonary w-100",children:[Object(x.jsx)(gt.a.Header,{className:"pb-1",children:Object(x.jsxs)("div",{className:"d-flex fw-bolder text-senary",children:["Insert ",a]})}),Object(x.jsx)(gt.a.Body,{className:"py-1 d-flex justify-content-start flex-column text-senary",children:Object(x.jsx)("input",{value:u,spellCheck:!1,placeholder:s,className:"w-100 col-10 border-0 shadow-none fw-bold p-0 border-bottom border-senary text-senary",style:{backgroundColor:"transparent",outline:"none"},autoFocus:!0,onChange:function(e){return j(e.target.value)}})}),Object(x.jsx)(gt.a.Footer,{children:Object(x.jsxs)("div",{className:"w-100 d-flex justify-content-end",children:[Object(x.jsx)(w.a,{variant:"nonary",className:"me-2",onClick:function(){j(c),l()},children:"Cancel"}),Object(x.jsx)(w.a,{variant:"senary",className:"fw-bold",onClick:function(){i(u)},children:"Save"})]})})]})})})})},kc=function(){var e=Object(M.b)(),t=e.currentUser,n=e.updateUser,a=(e.updatePhone,e.claims),c=Object(r.useState)(),s=Object(m.a)(c,2),i=s[0],l=s[1];Object(r.useEffect)((function(){return a().then((function(e){return l(e)}))}),[a]);var o=Object(r.useRef)(),d=Object(r.useState)(),u=Object(m.a)(d,2),j=u[0],b=u[1],O=Object(r.useCallback)((function(){return o.current.click()}),[]);return Object(x.jsxs)("div",{className:" w-100 h-100 align-items-start justify-content-start d-flex flex-column bg-darker-nonary",children:[Object(x.jsx)("div",{className:"w-100 h-100 d-flex flex-column pt-3  user-settings",children:Object(x.jsxs)(gt.a,{className:"text-center p-0 mb-4 border-0 text-senary",children:[Object(x.jsxs)(gt.a.Header,{className:"pb-1 bg-darker-nonary d-flex justify-content-center flex-column border-0",children:[Object(x.jsx)("div",{className:"d-flex justify-content-center",children:Object(x.jsxs)("div",{children:[t.photoURL?Object(x.jsx)(h.a,{src:t.photoURL,className:"user-avatar large-avatar rounded-circle border-0",resize:"contain"}):Object(x.jsx)("div",{className:"bg-nonary text-senary rounded-circle fw-bolder user-avatar large-avatar rounded-circle border-0",style:{height:"30px",width:"30px",lineHeight:"30px",textAlign:"center",fontSize:"40px"},children:(t.displayName||t.email).substring(0,2)}),Object(x.jsx)("div",{style:{position:"relative",height:"40px",width:"40px",bottom:"40px",right:"-100px"},children:Object(x.jsx)(w.a,{className:"w-100 h-100 rounded-circle p-0 d-flex justify-content-center align-items-center",variant:"senary",onClick:O,children:Object(x.jsx)(y.a,{size:"lg",icon:g.k})})})]})}),Object(x.jsx)("input",{type:"file",ref:o,onChange:function(e){var a=e.target.files[0];if("image/jpeg"===a.type||"image/png"===a.type){b(!0);var c=new FormData;c.append("file",a),c.append("upload_preset","aewhjhan"),c.append("public_id","bt/users/"+t.uid+"/"+fe()().toISOString()),fetch("https://api.cloudinary.com/v1_1/duvwxquad/upload",{method:"POST",body:c}).then((function(e){return e.json().then((function(e){var t=e.secure_url,a=(Object(v.a)(e,yc),t.replace("/upload/","/upload/w_300,c_fill,ar_1:1,g_auto,r_max,b_rgb:262c35/"));n({photoURL:a}).then((function(e){b(!1)}))}))}))}},style:{display:"none"}})]}),Object(x.jsx)(gt.a.Body,{className:"bg-darker-nonary px-2 py-0",children:Object(x.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(x.jsx)(wc,{value:t.displayName,title:"Name",icon:g.T,editable:!0,onChange:function(e){return n({displayName:e}).then((function(){return b(!1)}))}}),Object(x.jsx)(wc,{icon:g.i,value:t.email,title:"E-mail"}),(null===i||void 0===i?void 0:i.vehicle)&&Object(x.jsx)(wc,{icon:g.R,title:"Vehicle",value:i.vehicle}),(null===i||void 0===i?void 0:i.workPlant)&&Object(x.jsx)(wc,{icon:g.B,title:"Work Plant",value:i.workPlant})]})})]})}),Object(x.jsx)(Kn.a,{show:j,onHide:function(){return b(!1)},centered:!0,contentClassName:"bg-transparent text-center",children:Object(x.jsx)(Kn.a.Body,{children:Object(x.jsx)(St.a,{animation:"border",className:"text-white"})})})]})},Cc=n(202),Yc=n(515),Sc=function(e){var t=e.left,n=e.right,a=e.verified;return Object(x.jsx)(gt.a,{bg:"transparent border-0",className:"w-100 p-0",children:Object(x.jsxs)(gt.a.Body,{className:"d-flex flex-wrap justify-content-between align-items-top py-1 px-0 border-0",style:{minHeight:"70px"},children:[Object(x.jsx)("div",{className:"col-6 pe-3 flex-fill d-flex flex-column align-items-center text-nonary",children:Object(x.jsx)("div",{className:"fw-bolder text-senary",children:t})}),Object(x.jsx)("div",{className:"col-6 ps-3 flex-fill d-flex flex-column align-items-center text-nonary",children:Object(x.jsx)("div",{className:"fw-bolder text-senary",children:n})}),Object(x.jsx)("div",{className:"col-12 text-senary fw-bolder text-center "+(1===a?"text-confirmed":0===a?"text-pending":"text-declined"),style:{fontSize:"18px"},children:1===a?"Confirmed":0===a?"Pending":"Declined"})]})})},Mc=function(e){var t=e.value,n=e.children,a=e.className,c=void 0===a?"":a,r=e.itemClassName,s=e.index;return Object(x.jsx)("div",{className:"p-1 border-0 h-100 w-100 user-card "+c,children:Object(x.jsxs)(Hn.a.Item,{className:r,eventKey:s,children:[Object(x.jsx)(Hn.a.Header,{children:t}),Object(x.jsx)(Hn.a.Body,{className:"p-0 py-3 border-top px-2 border-darker-senary",children:n})]})})},Ic=function(){var e=Object(M.b)().currentUser,t=Object(be.d)(),n=t.fetchUpComingVacations,a=t.deleteVacation,c=t.postVacations,s=Object(r.useState)(),i=Object(m.a)(s,2),l=i[0],o=i[1],d=Object(r.useState)(!1),u=Object(m.a)(d,2),j=u[0],b=u[1],h=Object(r.useState)(),O=Object(m.a)(h,2),f=O[0],v=O[1],N=function(){return b(!1)},k=Object(r.useCallback)((function(e){v(e),b(!0)}),[]),C=Object(r.useCallback)((function(t,a){var r={driver:e.uid,dateFrom:a[0],dateTo:a[1],reason:"vacations",verified:0};c([t?Object(p.a)(Object(p.a)({},r),{},{id:t}):r]).then((function(){return n(e.uid).then((function(e){var t=e.data,n=Object(me.a)(t.content).sort((function(e,t){return e.dateFrom>t.dateFrom?-1:1}));o(n),b(!1)}))}))}),[e.uid,n,c]);Object(r.useEffect)((function(){n(null===e||void 0===e?void 0:e.uid).then((function(e){var t=e.data,n=Object(me.a)(t.content).sort((function(e,t){return e.dateFrom>t.dateFrom?-1:1}));o(n)}))}),[n,e.uid]);var Y=Object(r.useCallback)((function(){a(f).then((function(t){n(e.uid).then((function(e){var t=e.data,n=Object(me.a)(t.content).sort((function(e,t){return e.dateFrom>t.dateFrom?-1:1}));o(n),b(!1)}))}))}),[f,a,n,e.uid]);return Object(x.jsxs)("div",{className:" w-100 h-100 align-items-center justify-content-start d-flex flex-column bg-darker-nonary",children:[Object(x.jsxs)("div",{className:"p-3 w-100",style:{maxWidth:"400px"},children:[Object(x.jsx)("div",{className:"text-center text-senary border-bottom border-senary fw-bold py-3",children:"Upcoming Vacations"}),Object(x.jsxs)("div",{className:"py-4",children:[Object(x.jsx)("div",{className:"w-100 d-flex justify-content-center p-1",children:Object(x.jsx)(xa.a,{carousel:!0,variant:"darker",disableMonthSwap:!0,min:fe()().format("YYYY.MM.DD"),buttonVariant:"senary",singleDate:!1,buttonText:Object(x.jsx)(y.a,{icon:g.K}),onChange:function(e){return C(null,e)}})}),Object(x.jsx)(Hn.a,{children:null===l||void 0===l?void 0:l.map((function(e,t){return Object(x.jsx)(Mc,{itemClassName:"bg-nonary",index:t,value:Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Sc,{variant:"nonary",middle:e.days,left:e.dateFrom,right:e.dateTo,verified:e.verified})}),children:Object(x.jsxs)("div",{className:"w-100 d-flex justify-content-around py-1",children:[1!==e.verified&&Object(x.jsx)("div",{children:Object(x.jsx)(xa.a,{variant:"darker",carousel:!0,disableMonthSwap:!0,min:fe()().format("YYYY.MM.DD"),from:e.dateFrom,to:e.dateTo,buttonVariant:"senary shadow-none",singleDate:!1,buttonText:Object(x.jsx)(y.a,{icon:g.v}),onChange:function(t){return C(e.id,t)}})}),Object(x.jsx)(w.a,{className:"shadow-none",variant:"senary",onClick:function(t){return k(e.id)},children:Object(x.jsx)(y.a,{icon:g.Q})})]})},e.id)}))})]})]}),Object(x.jsxs)(Cc.a,{className:"user-modal bg-transparent",show:j,onHide:N,centered:!0,children:[Object(x.jsx)(Cc.a.Header,{closeButton:!0,closeVariant:"white",children:Object(x.jsx)(Cc.a.Title,{children:"Delete Work Hour"})}),Object(x.jsx)(Cc.a.Body,{children:"Are you sure you want to delete this work hour?"}),Object(x.jsx)(Cc.a.Footer,{children:Object(x.jsxs)(Yc.a,{className:"w-100",children:[Object(x.jsx)(w.a,{className:"col-6",variant:"nonary",onClick:N,children:"Close"}),Object(x.jsxs)(w.a,{className:"col-6",variant:"senary text-darker-nonary fw-bolder",onClick:Y,children:["Delete ",Object(x.jsx)(y.a,{icon:g.Q})]})]})})]})]})},Dc=n(338),Ec=Object(r.memo)((function(e){var t=e.onChange,n=e.value,a=e.values,c=Object(r.useState)(n),s=Object(m.a)(c,2),i=s[0],l=s[1];return Object(r.useEffect)((function(){return l(n)}),[n]),Object(x.jsx)("div",{style:{minWidth:"250px"},children:Object(x.jsx)(Dc.a,{className:"basic-select",classNamePrefix:"select_user",value:i,onChange:function(e){l(e),t(e.value)},options:a,theme:function(e){return Object(p.a)(Object(p.a)({},e),{},{colors:Object(p.a)(Object(p.a)({},e.colors),{},{primary25:"#F1F8FE"})})}})})}),Mt.isEqual),Tc=function(){var e=ft,t=Object(r.useState)(),n=Object(m.a)(t,2),a=n[0],c=n[1];return function(e,t,n){var a=Object(j.h)();return"success"===e?Object(x.jsxs)("div",{className:"col-12",children:[Object(x.jsx)(Rc,{setDriver:t,selectors:n.selectors}),Object(x.jsx)(Wc,Object(p.a)({},n))]}):"error"===e?a("/500"):Object(x.jsx)("div",{className:"d-flex h-100 align-items-center",children:Object(x.jsx)(hn.a,{show:!0})})}(tt("workHoursTable",e.actions,a),c,e)},Rc=Object(r.memo)((function(e){var t=e.setDriver,n=e.selectors,a=Object(r.useCallback)((function(e){var t;return null===(t=n.metaSelector.selectById(e,"driver"))||void 0===t?void 0:t.value}),[n]),c=Object(r.useCallback)((function(e){var t;return null===(t=n.metaSelector.selectById(e,"drivers"))||void 0===t?void 0:t.drivers}),[n]),s=Object(o.c)(a),i=Object(o.c)(c),l=Object(r.useMemo)((function(){return{value:null===s||void 0===s?void 0:s.uid,label:(null===s||void 0===s?void 0:s.name)||(null===s||void 0===s?void 0:s.email)}}),[s]),d=Object(r.useMemo)((function(){return null===i||void 0===i?void 0:i.map((function(e){return{value:e.uid,label:e.name||e.email}}))}),[i]);return Object(x.jsx)("div",{className:"d-flex px-sm-0 px-2 py-3",children:Object(x.jsx)(Ec,{onChange:t,value:l,values:d})})}),Mt.isEqual),Wc=Object(r.memo)((function(e){var t=e.actions,n=e.selectors,a=Object(r.useCallback)((function(e){return Object(x.jsx)(Va,{stateAPIStatus:"success",actions:t,selectors:n,entityId:e})}),[n,t]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"col-12 pb-2 d-flex flex-wrap",children:[Object(x.jsx)("div",{className:"col-12 col-xxl-7 px-sm-0 px-2 pt-0 pe-sm-2",children:a("workHours")}),Object(x.jsxs)("div",{className:"col-12 col-xxl-5 px-sm-0 px-2 py-0",children:[Object(x.jsx)("div",{className:"col-12 pt-3 pt-xxl-0",children:a("vacationsOverview")}),Object(x.jsx)("div",{className:"col-12  pt-3",children:a("vacations")}),Object(x.jsx)("div",{className:"col-12  pt-3",children:a("workHoursBank")}),Object(x.jsx)("div",{className:"col-12  pt-3 ",children:a("absent")})]})]})})}),Mt.isEqual);Tc.displayName="DashboardWorkHours";var Fc=Tc,Bc=function(e){var t=e.left,n=e.right,a=(e.leftTitle,e.rightTitle,e.footer);return Object(x.jsx)(gt.a,{bg:"transparent border-0",className:"w-100 p-0",children:Object(x.jsxs)(gt.a.Body,{className:"d-flex flex-wrap justify-content-between align-items-top py-1 px-0 border-0",style:{minHeight:"70px"},children:[Object(x.jsx)("div",{className:"col-4 pe-3 flex-fill d-flex flex-column align-items-center text-senary",children:Object(x.jsx)("div",{className:"fw-bolder",children:t})}),Object(x.jsx)("div",{className:"col-4 ps-3 flex-fill d-flex flex-column align-items-center text-senary",children:Object(x.jsx)("div",{className:"fw-bolder",children:n})}),Object(x.jsx)("div",{className:"col-12 text-senary fw-bolder text-center",style:{fontSize:"18px"},children:a})]})})},Ac=function(e){var t=e.value,n=e.children;return Object(x.jsx)("div",{className:"p-1 h-100 w-100 border-0 user-card",children:Object(x.jsx)(Hn.a,{children:Object(x.jsxs)(Hn.a.Item,{className:"bg-nonary ",eventKey:"0",children:[Object(x.jsx)(Hn.a.Header,{children:t}),Object(x.jsx)(Hn.a.Body,{className:"p-0 py-3 border-top px-2 border-darker-senary",children:n})]})})})},Pc=function(){var e=Object(M.b)().currentUser,t=Object(be.d)(),n=t.fetchTodaysWorkHours,a=t.deleteWorkHour,c=Object(r.useState)(),s=Object(m.a)(c,2),i=s[0],l=s[1],o=Object(r.useState)(!1),u=Object(m.a)(o,2),j=u[0],b=u[1],h=Object(r.useState)(),O=Object(m.a)(h,2),f=O[0],p=O[1],v=function(){return b(!1)};Object(r.useEffect)((function(){n(e.uid).then((function(e){var t=e.data;return l(Object(me.a)(t.content).sort((function(e,t){return e.begin>t.begin?-1:1})))}))}),[n,e.uid]);var N=Object(r.useCallback)((function(){a(f).then((function(t){return n(e.uid).then((function(e){var t=e.data,n=Object(me.a)(t.content).sort((function(e,t){return e.arrival>t.arrival?-1:1}));l(n),b(!1)}))}))}),[f,a,n,e.uid]);return Object(x.jsxs)("div",{className:" w-100 h-100 align-items-center justify-content-start d-flex flex-column bg-darker-nonary",children:[Object(x.jsxs)("div",{className:"p-3 w-100",style:{maxWidth:"400px"},children:[Object(x.jsx)("div",{className:"text-center text-senary border-bottom border-senary fw-bold py-3",children:"Today's Work Hours"}),Object(x.jsxs)("div",{className:"py-4",children:[Object(x.jsx)("div",{className:"w-100 d-flex justify-content-center p-1",children:Object(x.jsx)(w.a,{as:d.b,to:B.path,variant:"senary",className:"w-100",children:Object(x.jsx)(y.a,{icon:g.K})})}),null===i||void 0===i?void 0:i.map((function(e){return Object(x.jsx)(Ac,{className:"normal-selector-dropdown",value:Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Bc,{leftTitle:"Start",rightTitle:"End",left:e.begin,right:e.end,footer:Te(Re([null,e.begin,e.end]))})}),children:Object(x.jsxs)("div",{className:"w-100 d-flex justify-content-around",children:[Object(x.jsx)(w.a,{className:"text-nonary",variant:"senary",as:d.b,to:B.path,state:{workHour:e},children:Object(x.jsx)(y.a,{icon:g.v})}),Object(x.jsx)(w.a,{className:"text-nonary",variant:"senary",onClick:function(t){return n=e.id,p(n),void b(!0);var n},children:Object(x.jsx)(y.a,{icon:g.Q})})]})})}))]})]}),Object(x.jsxs)(Cc.a,{show:j,onHide:v,contentClassName:"user-modal",centered:!0,children:[Object(x.jsx)(Cc.a.Header,{closeButton:!0,closeVariant:"white",children:Object(x.jsx)(Cc.a.Title,{children:"Delete Work Hour"})}),Object(x.jsx)(Cc.a.Body,{children:"Are you sure you want to delete this work hour?"}),Object(x.jsx)(Cc.a.Footer,{children:Object(x.jsxs)(Yc.a,{className:"w-100",children:[Object(x.jsx)(w.a,{className:"col-6",variant:"septenary",onClick:v,children:"Close"}),Object(x.jsxs)(w.a,{className:"col-6",variant:"senary text-darker-nonary fw-bolder",onClick:N,children:["Delete ",Object(x.jsx)(y.a,{icon:g.Q})]})]})})]})]})},Hc=function(e){var t=e.type,n=e.title,a=e.value,c=e.onChange,r=e.availableValues,s=e.contentWidth,i=e.defaultValue;switch(t){case"time":return Object(x.jsx)(qc,{title:n,value:a,onChange:c});case"modal":return Object(x.jsx)(Lc,{availableValues:r,title:n,value:a,onClick:c});case"input-number":return Object(x.jsx)(zc,{contentWidth:s,title:n,value:a,onChange:c,defaultValue:i,type:"number",min:0});case"textarea":return Object(x.jsx)(zc,{contentWidth:s,textarea:!0,title:n,value:a,onChange:c});case"disabled":return Object(x.jsx)(Vc,{value:a,title:n});case"navi":return Object(x.jsx)(Uc,{value:a,onChange:c,title:n})}},Lc=function(e){var t=e.value,n=e.availableValues,a=e.onClick,c=e.title,s=Object(r.useState)(!1),i=Object(m.a)(s,2),l=i[0],o=i[1],d=function(){return o(!1)},u=function(e){a(e),d()};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"p-1 w-100",children:Object(x.jsx)(w.a,{variant:t?"senary":"nonary",onClick:function(){return o(!0)},className:"w-100 p-0",children:Object(x.jsx)(Gc,{title:c,children:t||Object(x.jsx)("div",{className:"pe-2",children:Object(x.jsx)(y.a,{icon:g.K,size:"xs"})})})})}),Object(x.jsxs)(Cc.a,{show:l,onHide:d,centered:!0,className:"dark-modal px-3 d-flex justify-content-center",contentWidth:{width:"fit-content"},scrollable:!0,children:[Object(x.jsx)(Cc.a.Header,{className:"p-0 d-flex justify-content-end",children:Object(x.jsx)("div",{className:"p-2",children:Object(x.jsx)(w.a,{variant:"transparent",className:"p-0 text-senary d-flex justify-content-center align-items-center",style:{height:"30px",width:"30px"},onClick:d,children:Object(x.jsx)(y.a,{icon:g.P})})})}),Object(x.jsx)(Cc.a.Body,{className:"pt-1",children:null===n||void 0===n?void 0:n.map((function(e){return Object(x.jsx)("div",{onClick:function(){return u(e)},style:{minWidth:"150px"},className:"py-2 d-flex flex-wrap justify-content-between border-bottom border-senary text-senary fw-bolder",children:Object(x.jsx)("div",{className:"text-start text-break text-wrap ps-2 pe-2",children:e})},e)}))}),Object(x.jsx)(Cc.a.Footer,{className:"py-1"})]})]})},Uc=function(e){var t=e.title,n=e.value,a=e.onChange,c=Object(be.c)(),s=c.places,i=c.onChange,l=Object(r.useCallback)((function(e){i(e.target.value),a(e.target.value)}),[a,i]);return Object(x.jsx)(_c,{title:t,className:"custom-selector-dropdown w-100",titleWidth:"75px",input:function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{style:{maxWidth:"160px"},children:Object(x.jsx)(Ft.a,Object(p.a)({value:n||"",minRows:1,autoFocus:!0,className:"form-control p-0 border-0 text-center text-nonary text-break text-wrap user-card-input w-100 fw-bolder",onChange:l},e))})})},value:n,children:Object(x.jsx)("div",{className:"",children:null===s||void 0===s?void 0:s.map((function(e){return Object(x.jsx)(Ma.a.Item,{className:"text-break text-wrap w-100 dropdown-item"+(e===n?" active":" non-active"),onClick:function(t){i(e),a(e),t.target.blur()},children:e},e)}))})})},Vc=function(e){var t=e.title,n=e.value;return Object(x.jsx)("div",{className:"p-1",children:Object(x.jsx)(w.a,{variant:n?"senary":"nonary",className:"w-100 p-0",children:Object(x.jsx)(Gc,{title:t,children:n||Object(x.jsx)("div",{className:"pe-2",children:Object(x.jsx)(y.a,{icon:g.K,size:"xs"})})})})})},qc=function(e){var t=e.title,n=e.value,a=e.onChange;return Object(x.jsx)("div",{className:"p-1",children:Object(x.jsx)(fa.a,{buttonVariant:n?"senary":"nonary",timeVariant:"nonary",timeActiveVariant:"senary",buttonClassName:"w-100 p-0",buttonText:Object(x.jsx)(Gc,{title:t,children:n||Object(x.jsx)("div",{className:"pe-2",children:Object(x.jsx)(y.a,{icon:g.K,size:"xs"})})}),value:n,onChange:a})})},_c=function(e){var t=e.title,n=e.value,a=e.availableValues,c=void 0===a?[]:a,s=e.onChange,i=e.children,l=e.className,o=e.titleWidth,d=e.contentWidth,u=e.input,j=Object(r.useRef)(),b=n?"senary":"nonary",h=Object(r.useState)(!1),O=Object(m.a)(h,2),f=O[0],p=O[1];return Object(x.jsx)("div",{className:"p-1 h-100 w-100 user-card",children:i?Object(x.jsx)(zn.a,{as:Yc.a,className:"w-100 ".concat(l),toggleAs:"custom",toggleClassName:"p-0",variant:b,portal:!1,align:"end",drop:"down",onToggle:function(e){p(e),e||console.log("toggle",e)},value:Object(x.jsx)(Gc,{title:t,titleWidth:o,contentWidth:d,children:f&&(u?u({ref:j}):n)||n||Object(x.jsx)("div",{className:"pe-2",children:Object(x.jsx)(y.a,{icon:g.K,size:"xs"})})}),ref:j,children:i}):Object(x.jsxs)(Ma.a,{as:Yc.a,className:"w-100 ".concat(l),children:[Object(x.jsx)(Ma.a.Toggle,{variant:b,className:"shadow-none p-0 text-break text-wrap",children:Object(x.jsx)(Gc,{title:t,titleWidth:o,contentWidth:d,children:f&&(u?u({ref:j}):n)||n||Object(x.jsx)("div",{className:"pe-2",children:Object(x.jsx)(y.a,{icon:g.K,size:"xs"})})})}),0!==c.length&&Object(x.jsx)(Ma.a.Menu,{style:{width:"fit-content"},children:c.map((function(e){return Object(x.jsx)(Ma.a.Item,{className:"text-break text-wrap"+(n===e?" active":""),onClick:function(){s&&s(e)},children:e},e)}))})]})})},zc=function(e){var t=e.title,n=e.value,a=e.textarea,c=void 0!==a&&a,s=e.onChange,i=e.defaultValue,l=void 0===i?"":i,o=e.type,d=e.titleWidth,u=e.contentWidth,j=Object(r.useRef)(),b=n?"senary":"nonary",h=Object(r.useState)(!1),O=Object(m.a)(h,2),f=O[0],p=O[1],v=function(e){return s(e.target.value)};return Object(r.useEffect)((function(){f&&j.current.focus()}),[f,j]),Object(x.jsx)("div",{className:"p-1 h-100 w-100 user-card",children:Object(x.jsx)(w.a,{className:"w-100 p-0",variant:b,onClick:function(){var e;null===(e=j.current)||void 0===e||e.focus(),p(!0)},children:Object(x.jsx)(Gc,{title:t,titleWidth:d,contentWidth:u,children:f?c?Object(x.jsx)("div",{children:Object(x.jsx)(Ft.a,{minRows:1,ref:j,className:"form-control p-0 text-center text-nonary text-break text-wrap user-card-input w-100 fw-bolder",value:n||l,onChange:v,onBlur:function(){return p(!1)}})}):Object(x.jsx)(le.a.Control,{type:o,ref:j,className:"p-0 px-1 text-center text-nonary user-card-input fw-bolder text-truncate",value:n||l,onChange:v,onBlur:function(){return p(!1)}}):n?Object(x.jsx)("div",{className:"text-center text-break text-wrap",children:n}):Object(x.jsx)("div",{className:"pe-2",children:Object(x.jsx)(y.a,{icon:g.K,size:"xs"})})})})})},Kc=function(e){var t=e.values;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(gt.a,{bg:"nonary",children:Object(x.jsx)(gt.a.Body,{children:_e("tours").map((function(e){var n,a;return Object(x.jsxs)("div",{className:"d-flex flex-wrap justify-content-between border-bottom border-senary text-senary fw-bolder",children:[Object(x.jsx)("div",{className:"text-start text-wrap pe-2",style:{minWidth:"70px"},children:null===(n=Xe("tours")[e])||void 0===n?void 0:n.text}),Object(x.jsx)("div",{className:"flex-fill text-end text-break text-wrap ps-2 fw-bold",children:t[e]&&t[e]+((null===(a=Xe("tours")[e])||void 0===a?void 0:a.measurement)&&" "+Xe("tours")[e].measurement||"")})]},e)}))})})})},Gc=function(e){var t=e.title,n=e.children,a=e.titleWidth,c=void 0===a?"50px":a,r=e.contentWidth;return Object(x.jsx)(gt.a,{bg:"transparent border-0",children:Object(x.jsxs)(gt.a.Body,{className:"d-flex flex-nowrap justify-content-between align-items-center p-3 border-0 fw-bolder",children:[Object(x.jsx)("div",{className:"text-start text-break text-wrap",style:{fontWeight:"800",minWidth:c},children:t}),Object(x.jsx)("div",{className:"d-flex justify-content-end",style:{width:r},children:Object(x.jsx)("div",{className:"text-end text-break text-wrap ",children:n})})]})})},Jc=function(){var e=Object(j.g)().state,t=Object(r.useState)(),n=Object(m.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),i=Object(m.a)(s,2),l=i[0],o=i[1],d=Object(M.b)(),u=d.currentUser,b=d.claims,h=Object(be.d)(),O=h.postTour,f=h.fetchSettings,v=Object(j.h)(),g=Object(ue.a)(),y=g.register,k=g.handleSubmit,C=g.setValue,Y=g.getValues,S=g.watch,I=Object(r.useState)("tab1"),D=Object(m.a)(I,2),E=D[0],T=D[1],R=E.match(/\d+/g)[0],F=Object(r.useCallback)((function(e){O([Object(p.a)(Object(p.a)({},e),{},{driver:u.uid})]).then((function(){return v(W.path)})).catch((function(e){console.log(e)}))}),[O]),B=function(e){return t=e,Xe("tours")[t].notRequired;var t},A=function(e){return l&&l[e].labels.reduce((function(e,t){return e&&(B(t)||S(t))}),!0)},P=A("tab1"),H=A("tab2"),L=A("tab3"),U="1"===R&&P||"2"===R&&H||P&&H&&L;return Object(r.useEffect)((function(){f(["dischargeType","vehicle","workPlant","add-tours"]).then((function(e){var t=e.data.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(he.a)({},t.id,["dischargeType","vehicle","workPlant"].includes(t.id)?JSON.parse(t.values):t.values))}),{});c(t),o(JSON.parse(t["add-tours"]))})),y("waitTime",{required:!1}),y("dischargeBegin",{required:!1}),y("dischargeType",{required:!1}),y("dischargeEnd",{required:!1}),y("other",{required:!1}),(null===e||void 0===e?void 0:e.tour)?(C("id",e.tour.id),C("driver",e.tour.driver),C("date",e.tour.date),C("vehicle",e.tour.vehicle+""),C("workPlant",e.tour.workPlant),C("deliveryNr",e.tour.deliveryNr+""),C("buildingSite",e.tour.buildingSite),C("cbm",e.tour.cbm+""),C("arrival",e.tour.arrival),C("kmArrival",e.tour.kmArrival+""),C("dischargeBegin",e.tour.dischargeBegin),C("dischargeType",e.tour.dischargeType),C("dischargeEnd",e.tour.dischargeEnd),C("waitTime",e.tour.waitTime),C("departure",e.tour.departure),C("kmDeparture",e.tour.kmDeparture+""),C("other",e.tour.other)):(u.reload(),b().then((function(e){var t=e.claims,n=t.workPlant,a=t.vehicle;n&&C("workPlant",n),a&&C("vehicle",a)})),C("date",fe()().format("YYYY.MM.DD")),C("driver",u.displayName||u.email))}),[u,b,e]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:" w-100 h-100 align-items-center justify-content-center d-flex flex-column bg-darker-nonary",children:Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"p-3 w-100",style:{maxWidth:"400px"},children:[Object(x.jsx)(jc.a.Container,{activeKey:E,children:Object(x.jsxs)(se.a,{children:[Object(x.jsx)(ie.a,{lg:12,className:"",children:Object(x.jsx)(N.a,{className:"nav-tabs d-flex flex-nowrap justify-content-around w-100 border-0",children:l&&Object.keys(l).map((function(e){return Object(x.jsx)(N.a.Item,{className:"col-4",children:Object(x.jsx)(N.a.Link,{onClick:function(){return T(e)},eventKey:e,className:"border-bottom  border-senary mb-sm-3 mb-md-0 text-center fw-bolder px-1 "+(E===e?"text-nonary bg-senary":"text-senary bg-darker-nonary"),children:l[e].title})})}))})}),Object(x.jsx)(ie.a,{lg:12,children:Object(x.jsxs)(jc.a.Content,{children:[l&&Object.keys(l).map((function(e){return Object(x.jsx)(jc.a.Pane,{eventKey:e,className:"py-4",children:l[e].labels.map((function(e){var t,n,c;return Object(x.jsx)(Hc,{type:(n="tours",c=e,Xe(n)[c].userType),title:null===(t=Xe("tours")[e])||void 0===t?void 0:t.text,value:S(e),availableValues:a[e],onChange:function(t){return C(e,t)},contentWidth:"100px",defaultValue:Ge("tours",e)})}))})})),Object(x.jsx)(jc.a.Pane,{eventKey:"tab4",className:"py-4",children:P&&H&&L&&Object(x.jsx)(Kc,{values:Object(p.a)(Object(p.a)({},Y()),{},{cbm:parseFloat(Y().cbm),kmDeparture:parseInt(Y().kmDeparture),kmArrival:parseInt(Y().kmArrival),deliveryNr:parseInt(Y().deliveryNr),waitTime:parseInt(Y().waitTime||0)})})})]})})]})}),Object(x.jsxs)("div",{className:"d-flex flex-nowrap w-100 justify-content-center bottom-0",children:[Object(x.jsx)("div",{className:"px-2",children:Object(x.jsx)(w.a,{className:"fw-bolder",variant:"nonary",style:{width:"80px",fontWeight:"800"},onClick:function(){return v(W.path)},children:"Cancel"})}),Object(x.jsx)("div",{className:"px-2",children:"tab4"===E?Object(x.jsx)(w.a,{className:"fw-bolder",variant:U?"senary":"nonary",disabled:!U,style:{width:"80px",fontWeight:"800"},onClick:k(F),children:"Save"}):Object(x.jsx)(w.a,{className:"fw-bolder",variant:"senary",disabled:!U,style:{width:"80px",fontWeight:"800"},onClick:function(){return T("tab"+(parseInt(R)+1))},children:"Next"})})]})]})})})})},Qc=function(){return function(e){var t=Object(j.h)();return"success"===e?Object(x.jsx)(Xc,{}):"error"===e?t("/500"):Object(x.jsx)("div",{className:"d-flex h-100 align-items-center",children:Object(x.jsx)(hn.a,{show:!0})})}(tt("toursTable",ft.actions))},Xc=Object(r.memo)((function(){var e=ft.actions,t=ft.selectors,n=Object(r.useCallback)((function(n){return Object(x.jsx)(Va,{stateAPIStatus:"success",actions:e,selectors:t,entityId:n})}),[t,e]);return Object(x.jsx)("div",{className:"col-12",children:n("tours")})}),Mt.isEqual);Qc.displayName="Tours";var Zc=Qc,$c=function(e){var t=e.values,n=e.children,a=e.onDelete,c=Object(r.useState)(!1),s=Object(m.a)(c,2),i=s[0],l=s[1],o=function(){return l(!1)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"p-1 w-100",children:Object(x.jsx)(w.a,{variant:"nonary",onClick:function(){return l(!0)},className:"w-100",children:n})}),Object(x.jsxs)(Kn.a,{show:i,onHide:o,centered:!0,className:"dark-modal",scrollable:!0,children:[Object(x.jsx)(Kn.a.Header,{className:"p-0 d-flex justify-content-end",children:Object(x.jsx)("div",{className:"p-2",children:Object(x.jsx)(w.a,{variant:"transparent",className:"p-0 text-senary d-flex justify-content-center align-items-center",style:{height:"30px",width:"30px"},onClick:o,children:Object(x.jsx)(y.a,{icon:g.P})})})}),Object(x.jsx)(Kn.a.Body,{className:"pt-1",children:_e("tours").map((function(e){var n,a;return Object(x.jsxs)("div",{className:"d-flex flex-wrap justify-content-between border-bottom border-senary text-senary fw-bolder",children:[Object(x.jsx)("div",{className:"text-start text-break text-wrap p-1",style:{minWidth:"60px"},children:null===(n=Xe("tours")[e])||void 0===n?void 0:n.text}),Object(x.jsx)("div",{className:"flex-fill text-end text-break text-wrap p-1 fw-bold",children:(t[e]||"")+((null===(a=Xe("tours")[e])||void 0===a?void 0:a.measurement)||"")})]},e)}))}),Object(x.jsx)(Kn.a.Footer,{className:"",children:Object(x.jsxs)("div",{className:"w-100 btn-group-wrapper d-flex justify-content-around",children:[Object(x.jsx)(w.a,{variant:"nonary",onClick:function(){o(),a(t.id)},style:{height:"44px",width:"44px"},children:Object(x.jsx)(y.a,{icon:g.Q})}),Object(x.jsx)(w.a,{variant:"senary",as:d.b,to:R.path,state:{tour:t},style:{height:"44px",width:"44px"},children:Object(x.jsx)(y.a,{icon:g.v})})]})})]})]})},er=function(e){var t=e.left,n=e.right;return Object(x.jsx)(gt.a,{bg:"transparent border-0",className:"w-100 px-3",children:Object(x.jsxs)(gt.a.Body,{className:"d-flex flex-nowrap justify-content-between align-items-top py-1 px-0 border-0 fw-bolder",style:{minHeight:"70px"},children:[Object(x.jsx)("div",{className:"d-flex align-items-center text-start text-break text-wrap",children:t}),Object(x.jsx)("div",{className:"ps-2 pt-4 d-flex align-items-end",children:n})]})})},tr=function(){var e=Object(be.d)(),t=e.currentUser,n=e.fetchTodaysTours,a=e.deleteTour,c=Object(r.useState)(),s=Object(m.a)(c,2),i=s[0],l=s[1];Object(r.useEffect)((function(){n(t.uid).then((function(e){var t=e.data,n=Object(me.a)(t.content).sort((function(e,t){return e.arrival>t.arrival?-1:1}));l(n)}))}),[n,t.uid]);var o=Object(r.useCallback)((function(e){a(e).then((function(e){n(t.uid).then((function(e){var t=e.data,n=Object(me.a)(t.content).sort((function(e,t){return e.arrival>t.arrival?-1:1}));l(n)}))}))}),[a,n,t.uid]);return Object(x.jsx)("div",{className:" w-100 h-100 align-items-center justify-content-start d-flex flex-column bg-darker-nonary",children:Object(x.jsxs)("div",{className:"p-3 w-100",style:{maxWidth:"400px"},children:[Object(x.jsx)("div",{className:"text-center text-senary border-bottom border-senary fw-bold py-3",children:"Today's Tours"}),Object(x.jsxs)("div",{className:"py-4",children:[Object(x.jsx)("div",{className:"w-100 d-flex justify-content-center p-1",children:Object(x.jsx)(w.a,{as:d.b,to:R.path,variant:"senary",className:"text-nonary w-100",children:Object(x.jsx)(y.a,{icon:g.K})})}),null===i||void 0===i?void 0:i.map((function(e){var n=Object(p.a)(Object(p.a)({},e),{},{driver:t.displayName||t.email});return Object(x.jsx)($c,{values:n,onDelete:o,children:Object(x.jsx)(er,{left:e.buildingSite,right:e.arrival})})}))]})]})})},nr=function(e){var t=e.title,n=e.value,a=e.onChange;return Object(x.jsx)("div",{className:"p-1",children:Object(x.jsx)(fa.a,{buttonVariant:n?"senary":"nonary",timeVariant:"nonary",timeActiveVariant:"senary",buttonClassName:"w-100 p-0",buttonText:Object(x.jsx)(ar,{title:t,children:n||Object(x.jsx)("div",{className:"pe-2",children:Object(x.jsx)(y.a,{icon:g.K,size:"xs"})})}),value:n,onChange:a})})},ar=function(e){var t=e.title,n=e.children,a=e.titleWidth,c=void 0===a?"50px":a,r=e.contentWidth;return Object(x.jsx)(gt.a,{bg:"transparent border-0",children:Object(x.jsxs)(gt.a.Body,{className:"d-flex flex-nowrap justify-content-between align-items-center p-3 border-0 fw-bolder",children:[Object(x.jsx)("div",{className:"text-start text-break text-wrap",style:{fontWeight:"800",minWidth:c},children:t}),Object(x.jsx)("div",{className:"d-flex justify-content-end",style:{width:r},children:Object(x.jsx)("div",{className:"text-end text-break text-wrap",children:n})})]})})},cr=function(){var e=Object(j.g)().state,t=Object(M.b)().currentUser,n=Object(be.d)().postWorkHour,a=Object(j.h)(),c=Object(ue.a)(),s=c.register,i=c.handleSubmit,l=c.setValue,o=c.watch,d=o("begin")&&o("end")&&o("pause")&&o("date")&&o("driver"),u=Object(r.useCallback)((function(e){n([Object(p.a)(Object(p.a)({},e),{},{driver:t.uid})]).then((function(){return a(A.path)})).catch((function(e){console.log(e)}))}),[n,null===t||void 0===t?void 0:t.uid]);return Object(r.useEffect)((function(){s("begin",{required:!0}),s("end",{required:!0}),s("pause",{required:!0}),s("date",{required:!0}),s("driver",{required:!0}),(null===e||void 0===e?void 0:e.workHour)?(l("id",e.workHour.id),l("begin",e.workHour.begin),l("end",e.workHour.end),l("pause",e.workHour.pause),l("date",e.workHour.date),l("driver",e.workHour.driver+"")):(l("date",fe()().format("YYYY.MM.DD")),l("driver",t.displayName||t.email))}),[t,e]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:" w-100 h-100 align-items-center justify-content-center d-flex flex-column bg-darker-nonary",children:Object(x.jsx)("form",{className:"w-100 d-flex justify-content-center",children:Object(x.jsxs)("div",{className:"p-3 w-100",style:{maxWidth:"400px"},children:[Object(x.jsx)(se.a,{children:Object(x.jsxs)("div",{className:"w-100 py-4",children:[Object(x.jsx)(nr,{value:o("begin"),title:"Begin",onChange:function(e){return l("begin",e)}}),Object(x.jsx)(nr,{value:o("end"),title:"End",onChange:function(e){return l("end",e)}}),Object(x.jsx)(nr,{value:o("pause"),title:"Pause",onChange:function(e){return l("pause",e)}})]})}),Object(x.jsxs)("div",{className:"d-flex flex-wrap w-100 justify-content-center bottom-0",children:[Object(x.jsx)("div",{className:"px-2",children:Object(x.jsx)(w.a,{className:"fw-bolder",variant:"nonary",style:{width:"80px",fontWeight:"800"},onClick:function(){return a(A.path)},children:"Cancel"})}),Object(x.jsx)("div",{className:"px-2",children:Object(x.jsx)(w.a,{className:"text-nonary fw-bolder",variant:"senary",disabled:!d,style:{width:"80px",fontWeight:"800"},onClick:i(u),children:"Save"})})]})]})})})})},rr=function(){var e=Object(M.b)(),t=e.currentUser,n=e.currentRole,a=e.findConnection,c=Object(r.useState)("pending"),s=Object(m.a)(c,2),i=s[0],l=s[1];return Object(r.useEffect)((function(){a().then((function(){return n.then((function(e){e.includes("ROLE_SUPER")?l("ROLE_SUPER"):e.includes("ROLE_ADMIN")?l("ROLE_ADMIN"):e.includes("ROLE_USER")?l("ROLE_USER"):l("error")}))})).catch((function(e){l(t?"error":"noUser-error")}))}),[n,i,a]),Object(x.jsx)(x.Fragment,{children:"pending"===i?Object(x.jsx)(f,{show:!0}):"ROLE_ADMIN"===i||"ROLE_SUPER"===i?Object(x.jsx)(j.a,{to:D.path}):"ROLE_USER"===i?Object(x.jsx)(j.a,{to:E.path}):"noUser-error"===i?Object(x.jsx)(j.a,{to:K.path}):Object(x.jsx)(j.a,{to:Q.path})})},sr=function(e){var t=e.onClick,n=e.maxWidth,a=void 0===n?"500px":n,c=Object(be.d)().fetchUsers,s=Object(r.useState)(),i=Object(m.a)(s,2),l=i[0],o=i[1],u=Object(r.useState)(0),j=Object(m.a)(u,2),b=j[0],h=j[1],O=Object(M.b)(),f=O.findUnreadCount,v=O.currentUser,w=Object(r.useCallback)((function(e){h(e>=99?"99+":e)}),[]);Object(r.useEffect)((function(){c().then((function(e){var t=e.data;o(t);var n=t.map((function(e){return e.uid}));f(v.uid,n).then((function(e){var t=e.data;w(t)}))}))}),[c,f,v.uid,w]);var k=Object(r.useCallback)((function(){f(v.uid,l.map((function(e){return e.uid}))).then((function(e){var t=e.data;200===e.status&&w(t)}))}),[v.uid,f,f,c,l]),C=(Object(be.b)({uid:v.uid,onMessageReceived:k}),function(e){var n=e.title,a=e.link,c=e.target,r=e.icon,s=e.image,i=e.className,l=void 0===i?"":i,o={as:d.b,to:a};return Object(x.jsx)(N.a.Item,{className:"col-6 col-md-4 col-sm-4 p-1",style:{aspectRatio:"1"},children:Object(x.jsx)("div",{className:"p-2 w-100 h-100",children:Object(x.jsxs)(N.a.Link,Object(p.a)(Object(p.a)({},o),{},{onClick:t,target:c,className:"w-100 h-100 d-flex flex-column justify-content-center align-items-center p-0 rounded "+l,children:[r&&Object(x.jsx)("span",{className:"sidebar-icon w-50",style:{aspectRatio:"1"},children:Object(x.jsx)(y.a,{icon:r,className:"w-100 h-100"})}),s&&Object(x.jsx)("span",{className:"sidebar-icon w-50 text-primary",style:{aspectRatio:"1"},children:s}),Object(x.jsx)("span",{className:"py-1 fw-bolder  ",children:n})]}))})})});return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:" w-100 h-100 align-items-center justify-content-center d-flex flex-column bg-darker-nonary",children:Object(x.jsx)("div",{className:"w-100 overflow-none p-3",style:{padding:"0",maxWidth:a},children:Object(x.jsxs)("div",{className:"d-flex flex-wrap justify-content-center",children:[Object(x.jsx)(C,{className:"bg-senary text-nonary",title:"Work Hours",link:A.path,icon:g.t}),Object(x.jsx)(C,{className:"bg-nonary text-senary",title:"Tours",link:W.path,icon:g.R}),Object(x.jsx)(C,{className:"bg-nonary text-senary",title:Object(x.jsx)("div",{className:"d-flex flex-row flex-wrap",children:Object(x.jsx)("span",{className:"d-flex align-items-center",children:"Messages"})}),link:z.path,image:Object(x.jsxs)("div",{className:"d-flex justify-content-center flex-column",children:[0!==b&&Object(x.jsx)("div",{className:"d-flex w-100",style:{position:"absolute",justifyContent:"right",height:"100%"},children:Object(x.jsx)("div",{className:"bg-nonary text-senary p-1 rounded-2 d-flex text-center border border-3 border-senary",style:{height:"fit-content",fontSize:"9px"},children:b})}),Object(x.jsx)(y.a,{icon:qa.c,className:"w-100 h-100 text-senary"})]})}),Object(x.jsx)(C,{className:"bg-senary text-nonary",title:"Overview",link:T.path,icon:g.U}),Object(x.jsx)(C,{className:"bg-senary text-nonary",title:"Vacations",link:H.path,icon:g.J}),Object(x.jsx)(C,{className:"bg-nonary text-senary",title:"Settings",link:V.path,icon:g.u})]})})})})},ir=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(m.a)(n,2),c=a[0],s=a[1];Object(r.useEffect)((function(){var e=setTimeout((function(){return s(!0)}),1e3);return function(){return clearTimeout(e)}}),[]);var i=Object(r.useState)((function(){return"false"!==localStorage.getItem("settingsVisible")})),l=Object(m.a)(i,2);l[0],l[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f,{show:!c}),Object(x.jsxs)("main",{className:"content p-0 h-100 d-flex",style:{flexDirection:"column"},children:[Object(x.jsx)($,{}),Object(x.jsx)("div",{className:"d-flex h-100 justify-content-center p-1 p-sm-3",children:t})]})]})},lr=function(e){var t=e.children;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("main",{className:"p-0 h-100 d-flex overflow-auto bg-nonary",style:{flexDirection:"column"},children:[Object(x.jsx)("div",{className:"w-100",children:Object(x.jsx)(ne,{})}),Object(x.jsx)("div",{style:{flex:"1 1"},children:t})]})})},or=function(e){var t=e.children;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("main",{className:"p-0 h-100 d-flex overflow-auto",style:{flexDirection:"column"},children:[Object(x.jsx)("div",{className:"w-100",children:Object(x.jsx)(ne,{})}),Object(x.jsx)("div",{style:{flex:"1 1"},children:t})]})})};function dr(e){var t=e.role,n=void 0===t?[]:t,a=Object(M.b)(),c=a.currentUser,s=a.currentRole,i=a.findConnection,l=Object(r.useState)("pending"),o=Object(m.a)(l,2),d=o[0],u=o[1];return Object(r.useEffect)((function(){i().then((function(e){s.then((function(e){var t=e.reduce((function(e,t){return e||n.includes(t)||"ROLE_SUPER"===t}),!1);u(t?"loaded":"error")}))})).catch((function(e){u("error")}))}),[s,n,i]),c?"pending"===d?Object(x.jsx)(f,{show:!0}):"loaded"===d?Object(x.jsx)(j.b,{}):Object(x.jsx)(j.a,{to:Q.path}):Object(x.jsx)(j.a,{to:K.path})}var ur=function(){return Object(x.jsx)(M.a,{children:Object(x.jsxs)(j.e,{children:[Object(x.jsx)(j.c,{exact:!0,path:I.path,element:Object(x.jsx)(rr,{})}),Object(x.jsx)(j.c,{exact:!0,path:K.path,element:Object(x.jsx)(Yt,{})}),Object(x.jsx)(j.c,{exact:!0,path:Q.path,element:Object(x.jsx)(kt,{})}),Object(x.jsx)(j.c,{exact:!0,path:J.path,element:Object(x.jsx)(wt,{}),children:Object(x.jsx)(j.c,{exact:!0,element:Object(x.jsx)(wt,{})})}),Object(x.jsx)(j.c,{exact:!0,path:D.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN"]}),children:Object(x.jsx)(j.c,{exact:!0,path:D.path,element:Object(x.jsx)(ir,{children:Object(x.jsx)(Za,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:E.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN","ROLE_DRIVER"]}),children:Object(x.jsx)(j.c,{exact:!0,path:E.path,element:Object(x.jsx)(or,{children:Object(x.jsx)(sr,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:W.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN","ROLE_DRIVER"]}),children:Object(x.jsx)(j.c,{exact:!0,path:W.path,element:Object(x.jsx)(lr,{children:Object(x.jsx)(tr,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:T.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN","ROLE_DRIVER"]}),children:Object(x.jsx)(j.c,{exact:!0,path:T.path,element:Object(x.jsx)(lr,{children:Object(x.jsx)(uc,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:V.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN","ROLE_DRIVER"]}),children:Object(x.jsx)(j.c,{exact:!0,path:V.path,element:Object(x.jsx)(lr,{children:Object(x.jsx)(kc,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:R.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN","ROLE_DRIVER"]}),children:Object(x.jsx)(j.c,{exact:!0,path:R.path,element:Object(x.jsx)(lr,{children:Object(x.jsx)(Jc,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:B.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN","ROLE_DRIVER"]}),children:Object(x.jsx)(j.c,{exact:!0,path:B.path,element:Object(x.jsx)(lr,{children:Object(x.jsx)(cr,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:H.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN","ROLE_DRIVER"]}),children:Object(x.jsx)(j.c,{exact:!0,path:H.path,element:Object(x.jsx)(lr,{children:Object(x.jsx)(Ic,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:A.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN","ROLE_DRIVER"]}),children:Object(x.jsx)(j.c,{exact:!0,path:A.path,element:Object(x.jsx)(lr,{children:Object(x.jsx)(Pc,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:F.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN"]}),children:Object(x.jsx)(j.c,{exact:!0,path:F.path,element:Object(x.jsx)(ir,{children:Object(x.jsx)(Zc,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:L.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN"]}),children:Object(x.jsx)(j.c,{exact:!0,path:L.path,element:Object(x.jsx)(ir,{children:Object(x.jsx)(gc,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:P.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN"]}),children:Object(x.jsx)(j.c,{exact:!0,path:P.path,element:Object(x.jsx)(ir,{children:Object(x.jsx)(Fc,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:q.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN"]}),children:Object(x.jsx)(j.c,{exact:!0,path:q.path,element:Object(x.jsx)(ir,{children:Object(x.jsx)(Gt,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:z.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN","ROLE_USER"]}),children:Object(x.jsx)(j.c,{exact:!0,path:z.path,element:Object(x.jsx)(lr,{children:Object(x.jsx)(mn,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:_.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN","ROLE_USER"]}),children:Object(x.jsx)(j.c,{exact:!0,path:_.path,element:Object(x.jsx)(lr,{children:Object(x.jsx)(sn,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:G.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN"]}),children:Object(x.jsx)(j.c,{exact:!0,path:G.path,element:Object(x.jsx)(ir,{children:Object(x.jsx)(vt,{})})})}),Object(x.jsx)(j.c,{exact:!0,path:U.path,element:Object(x.jsx)(dr,{role:["ROLE_ADMIN"]}),children:Object(x.jsx)(j.c,{exact:!0,path:U.path,element:Object(x.jsx)(ir,{children:Object(x.jsx)(pc,{})})})})]})})};n(509);l.a.render(Object(x.jsx)(o.a,{store:function(){var e,t;return Object(Oe.a)({reducer:{gridTable:ft.reducer},devTools:null===(e=(t=window).__REDUX_DEVTOOLS_EXTENSION__)||void 0===e?void 0:e.call(t)})}(),children:Object(x.jsx)(c.a,{dateAdapter:a.a,children:Object(x.jsx)(d.a,{children:Object(x.jsxs)(u.RecoilRoot,{children:[Object(x.jsx)(b,{}),Object(x.jsx)(ur,{})]})})})}),document.getElementById("root"))},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(15),c=n(16),r=n(511),s=(n(0),n(217)),i=n(1),l=function(e){var t=e.show,n=void 0===t||t,l=e.logo,o=void 0===l||l;return Object(i.jsx)("div",{className:"component-preloader h-100 flex-column justify-content-center align-items-center ".concat(n?"":"show"),children:Object(i.jsx)("div",{className:"loader-element animate__animated animate__jackInTheBox",children:o?Object(i.jsx)(r.a,{className:"loader-element animate__animated animate__jackInTheBox",src:s.a,height:400}):Object(i.jsx)(c.a,{className:" d-flex align-middle",style:{height:"20px",width:"20px"},icon:a.O})})})}}},[[510,1,2]]]);
//# sourceMappingURL=main.bf443c15.chunk.js.map